<?xml version="1.0"?>
<WorkflowConfiguration xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xml:space="preserve">
  <Id>f1d50e97-5485-48cb-bff8-f06bd5ed1c72</Id>
  <DisplayName>BlueprintImport</DisplayName>
  <CreatedTime>2016-02-15T20:45:10.989Z</CreatedTime>
  <ModifiedTime>2016-02-15T20:45:29.1982421Z</ModifiedTime>
  <FirstActivity xsi:type="RootNode">
    <Id>c3edff29-c54f-4e20-bddd-7115c07f53a6</Id>
    <DisplayName />
    <Children>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>388d8002-05c3-4dcb-aa55-229bc7a3aa93</Id>
        <DisplayName>XPath Import files</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>500ef6a2-ff21-4769-953c-36a509b4a125</Id>
            <ActivityNodeId>388d8002-05c3-4dcb-aa55-229bc7a3aa93</ActivityNodeId>
            <CompletedId>5fc1f85e-7e2a-48c7-8386-59bef9894191</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="XPathQueryActivityConfiguration" xml:space="preserve">
          <Id>388d8002-05c3-4dcb-aa55-229bc7a3aa93</Id>
          <DisplayName>XPath Import files</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>5c1582dc-dadc-4d7a-b836-d595dac7776f</ContainingProcessId>
          <SourceXml>
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Process.Variables.Input.ServiceRequestXML</DisplayPath>
                <LinkChain />
                <ObjectId>b99a7713-1da7-4d2a-bd07-7c8fc956af92</ObjectId>
                <ObjectType>GlobalVariable</ObjectType>
              </VariableReference>
            </References>
          </SourceXml>
          <Namespaces />
          <Queries>
            <XPathQueryDefinition>
              <DisplayName>TargetLocationFullPath</DisplayName>
              <Query>
                <HardcodedValue>/root/Attributes/TargetLocationFullPath</HardcodedValue>
              </Query>
              <ReturnType>String</ReturnType>
              <DefaultBehavior>Fail</DefaultBehavior>
            </XPathQueryDefinition>
            <XPathQueryDefinition>
              <DisplayName>SourceLocationFullPath</DisplayName>
              <Query>
                <HardcodedValue>/root/Attributes/SourceLocationFullPath</HardcodedValue>
              </Query>
              <ReturnType>String</ReturnType>
              <DefaultBehavior>Fail</DefaultBehavior>
            </XPathQueryDefinition>
          </Queries>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>6b3d6967-5474-49fc-8e1e-0a8bfb2ada98</Id>
        <DisplayName>PS copy Blueprint</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>d5b1d3b1-cc93-4dad-aa83-cfbfa9053901</Id>
            <ActivityNodeId>6b3d6967-5474-49fc-8e1e-0a8bfb2ada98</ActivityNodeId>
            <CompletedId>0d9896da-15c3-4a2d-8c02-13d9d86a8f79</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="WindowsPowerShellScriptActivityConfiguration" xml:space="preserve">
          <Id>6b3d6967-5474-49fc-8e1e-0a8bfb2ada98</Id>
          <DisplayName>PS copy Blueprint</DisplayName>
          <TargetLoadBalancer xsi:type="OrchestratorServerLoadBalancer">
            <TargetGroupId>bc5933b4-512f-46ce-86a9-3b40331ba395</TargetGroupId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>5c1582dc-dadc-4d7a-b836-d595dac7776f</ContainingProcessId>
          <WorkingDirectory>
            <HardcodedValue />
          </WorkingDirectory>
          <FailReturnCodeNonZero>true</FailReturnCodeNonZero>
          <UseTaskScheduler>true</UseTaskScheduler>
          <TimeWindow>
            <Milliseconds>300000</Milliseconds>
            <Units>Minutes</Units>
          </TimeWindow>
          <Script>
            <HardcodedValue>try {
$ErrorActionPreference = "Stop"
$sourcedirectory = $args[0]
$targetdir = $args[1]
Foreach($file in (Get-Item \\$sourcedirectory\*.xml)) {
       $fileName = $file.Name 
	   if((Test-Path $targetdir\$fileName) -eq $false) {
		Copy-Item "\\$sourcedirectory\$fileName" -Destination "$targetdir"
  }	
 }
}
catch {
      Write-Warning ('Failed to import blueprint: {1} ' -f
      $_.Exception.Message)
    }</HardcodedValue>
          </Script>
          <Arguments>
            <SubstitutableObject xsi:type="SubstitutableString">
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Workflow.XPath Import files.Results.SourceLocationFullPath</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>Results</PropertyName>
                    </Link>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>SourceLocationFullPath</PropertyName>
                    </Link>
                  </LinkChain>
                  <ObjectId>388d8002-05c3-4dcb-aa55-229bc7a3aa93</ObjectId>
                  <ObjectType>ActivityInstance</ObjectType>
                </VariableReference>
              </References>
            </SubstitutableObject>
            <SubstitutableObject xsi:type="SubstitutableString">
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Workflow.XPath Import files.Results.TargetLocationFullPath</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>Results</PropertyName>
                    </Link>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>TargetLocationFullPath</PropertyName>
                    </Link>
                  </LinkChain>
                  <ObjectId>388d8002-05c3-4dcb-aa55-229bc7a3aa93</ObjectId>
                  <ObjectType>ActivityInstance</ObjectType>
                </VariableReference>
              </References>
            </SubstitutableObject>
          </Arguments>
          <Use32BitPowerShell>false</Use32BitPowerShell>
        </Configuration>
      </ActivityNode>
    </Children>
  </FirstActivity>
  <ProcessId>5c1582dc-dadc-4d7a-b836-d595dac7776f</ProcessId>
</WorkflowConfiguration>