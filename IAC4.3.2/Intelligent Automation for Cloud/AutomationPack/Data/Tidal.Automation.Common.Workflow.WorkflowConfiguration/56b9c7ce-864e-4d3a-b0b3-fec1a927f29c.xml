<?xml version="1.0"?>
<WorkflowConfiguration xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xml:space="preserve">
  <Id>56b9c7ce-864e-4d3a-b0b3-fec1a927f29c</Id>
  <DisplayName>Retrieve Policy Agent</DisplayName>
  <CreatedTime>2016-02-15T20:45:29.067125Z</CreatedTime>
  <ModifiedTime>2016-02-15T20:45:47.2763671Z</ModifiedTime>
  <FirstActivity xsi:type="RootNode">
    <Id>c02fcf8f-c2b2-4b93-b70f-a84e8ffb7913</Id>
    <DisplayName />
    <Children>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>0639eb59-fe60-4526-85db-3bd50d2bd443</Id>
        <DisplayName>Open Terminal Session</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>1619ce3b-28ef-4865-a7c4-323ebe2afd01</Id>
            <ActivityNodeId>0639eb59-fe60-4526-85db-3bd50d2bd443</ActivityNodeId>
            <CompletedId>951ec052-1fae-4bd4-b6c3-6b0f74d0b80c</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="SSHOpenSessionActivityConfiguration" xml:space="preserve">
          <Id>0639eb59-fe60-4526-85db-3bd50d2bd443</Id>
          <DisplayName>Open Terminal Session</DisplayName>
          <TargetLoadBalancer xsi:type="ProcessTargetLoadBalancer" />
          <ContainingProcessId>a00e85cb-2b64-4a10-826d-53e5c2194a15</ContainingProcessId>
          <TimeOutPeriod>
            <DisplayUnits>Minutes</DisplayUnits>
            <Period>
              <HardcodedValue>2</HardcodedValue>
            </Period>
          </TimeOutPeriod>
          <AHFDelay>
            <DisplayUnits>Seconds</DisplayUnits>
            <Period>
              <HardcodedValue>12</HardcodedValue>
            </Period>
          </AHFDelay>
          <ExpectList>
            <ExpectElementConfiguration>
              <Name>Error</Name>
              <RegularExpression>
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResolvedTarget</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>GetErrorExpect</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>0639eb59-fe60-4526-85db-3bd50d2bd443</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </RegularExpression>
              <OperationType>Failed_Incompleted</OperationType>
              <OperationParameter xsi:type="SubstitutableString">
                <HardcodedValue />
              </OperationParameter>
              <MatchCase>false</MatchCase>
            </ExpectElementConfiguration>
            <ExpectElementConfiguration>
              <Name>Prompt</Name>
              <RegularExpression>
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResolvedTarget</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>GetPromptExpect</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>0639eb59-fe60-4526-85db-3bd50d2bd443</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </RegularExpression>
              <OperationType>Succeeded</OperationType>
              <OperationParameter xsi:type="SubstitutableString">
                <HardcodedValue />
              </OperationParameter>
              <MatchCase>false</MatchCase>
            </ExpectElementConfiguration>
            <ExpectElementConfiguration>
              <Name>Admin Prompt</Name>
              <RegularExpression>
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResolvedTarget</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>GetAdminPromptExpect</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>0639eb59-fe60-4526-85db-3bd50d2bd443</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </RegularExpression>
              <OperationType>Succeeded</OperationType>
              <OperationParameter xsi:type="SubstitutableString">
                <HardcodedValue />
              </OperationParameter>
              <MatchCase>false</MatchCase>
            </ExpectElementConfiguration>
          </ExpectList>
          <CommandTimeoutPeriod>
            <DisplayUnits>Minutes</DisplayUnits>
            <Period>
              <HardcodedValue>1</HardcodedValue>
            </Period>
          </CommandTimeoutPeriod>
          <PreserveOutput>true</PreserveOutput>
          <WaitingTimeoutPeriod>
            <DisplayUnits>Minutes</DisplayUnits>
            <Period>
              <HardcodedValue>60</HardcodedValue>
            </Period>
          </WaitingTimeoutPeriod>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>a32efd49-b8c5-4919-99bb-b0a2a1acedc8</Id>
        <DisplayName>Query Dir for Policy Agent</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>fd12e8e7-c7fd-4c5d-8b62-df2b25c9961e</Id>
            <ActivityNodeId>a32efd49-b8c5-4919-99bb-b0a2a1acedc8</ActivityNodeId>
            <CompletedId>8a6114aa-cdfc-4378-a0c1-58c343ebefc9</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="SSHSendActivityConfiguration" xml:space="preserve">
          <Id>a32efd49-b8c5-4919-99bb-b0a2a1acedc8</Id>
          <DisplayName>Query Dir for Policy Agent</DisplayName>
          <TargetLoadBalancer xsi:type="ActivityTargetLoadBalancer">
            <ActivityId>0639eb59-fe60-4526-85db-3bd50d2bd443</ActivityId>
            <ChildProcessNodeId>00000000-0000-0000-0000-000000000000</ChildProcessNodeId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>a00e85cb-2b64-4a10-826d-53e5c2194a15</ContainingProcessId>
          <TimeOutPeriod>
            <DisplayUnits>Minutes</DisplayUnits>
            <Period>
              <HardcodedValue>2</HardcodedValue>
            </Period>
          </TimeOutPeriod>
          <AHFDelay>
            <DisplayUnits>Seconds</DisplayUnits>
            <Period>
              <HardcodedValue>12</HardcodedValue>
            </Period>
          </AHFDelay>
          <ExpectList>
            <ExpectElementConfiguration>
              <Name>Error</Name>
              <RegularExpression>
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResolvedTarget</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>GetErrorExpect</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>a32efd49-b8c5-4919-99bb-b0a2a1acedc8</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </RegularExpression>
              <OperationType>Failed_Incompleted</OperationType>
              <OperationParameter xsi:type="SubstitutableString">
                <HardcodedValue />
              </OperationParameter>
              <MatchCase>false</MatchCase>
            </ExpectElementConfiguration>
            <ExpectElementConfiguration>
              <Name>Prompt</Name>
              <RegularExpression>
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResolvedTarget</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>GetPromptExpect</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>a32efd49-b8c5-4919-99bb-b0a2a1acedc8</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </RegularExpression>
              <OperationType>Succeeded</OperationType>
              <OperationParameter xsi:type="SubstitutableString">
                <HardcodedValue />
              </OperationParameter>
              <MatchCase>false</MatchCase>
            </ExpectElementConfiguration>
            <ExpectElementConfiguration>
              <Name>Admin Prompt</Name>
              <RegularExpression>
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResolvedTarget</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>GetAdminPromptExpect</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>a32efd49-b8c5-4919-99bb-b0a2a1acedc8</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </RegularExpression>
              <OperationType>Succeeded</OperationType>
              <OperationParameter xsi:type="SubstitutableString">
                <HardcodedValue />
              </OperationParameter>
              <MatchCase>false</MatchCase>
            </ExpectElementConfiguration>
          </ExpectList>
          <CommandTimeoutPeriod>
            <DisplayUnits>Minutes</DisplayUnits>
            <Period>
              <HardcodedValue>1</HardcodedValue>
            </Period>
          </CommandTimeoutPeriod>
          <PreserveOutput>true</PreserveOutput>
          <Input>
            <FormattedCode>dir bootflash:/// | grep {0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Global Variables.PNSC Plugin Name</DisplayPath>
                <LinkChain />
                <ObjectId>9d3dc64d-8c3f-4e01-b487-49d902a7eec1</ObjectId>
                <ObjectType>GlobalVariable</ObjectType>
              </VariableReference>
            </References>
          </Input>
          <IsInputEncrypted>false</IsInputEncrypted>
          <SpecialEndCharacter>Empty</SpecialEndCharacter>
          <EndsWithSpecialCharacter>false</EndsWithSpecialCharacter>
          <SendMultiLineInputAsOne>false</SendMultiLineInputAsOne>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>fade6c24-8a7e-451a-a49d-92a656a374c7</Id>
        <DisplayName>Retrieve Agent Name</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>0b222741-504d-4743-ab46-9daff6e35c76</Id>
            <ActivityNodeId>fade6c24-8a7e-451a-a49d-92a656a374c7</ActivityNodeId>
            <CompletedId>b2a410f8-f27f-47de-a832-d707d50277b8</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="RegExActivityConfiguration" xml:space="preserve">
          <Id>fade6c24-8a7e-451a-a49d-92a656a374c7</Id>
          <DisplayName>Retrieve Agent Name</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>a00e85cb-2b64-4a10-826d-53e5c2194a15</ContainingProcessId>
          <InputString>
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Workflow.Query Dir for Policy Agent.Output</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>Output</PropertyName>
                  </Link>
                </LinkChain>
                <ObjectId>a32efd49-b8c5-4919-99bb-b0a2a1acedc8</ObjectId>
                <ObjectType>ActivityInstance</ObjectType>
              </VariableReference>
            </References>
          </InputString>
          <MatchCase>false</MatchCase>
          <RegularExpression>
            <FormattedCode>{0}.*\.bin$</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Global Variables.PNSC Plugin Name</DisplayPath>
                <LinkChain />
                <ObjectId>9d3dc64d-8c3f-4e01-b487-49d902a7eec1</ObjectId>
                <ObjectType>GlobalVariable</ObjectType>
              </VariableReference>
            </References>
          </RegularExpression>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>80cc595b-8793-4271-896a-a8922eea6993</Id>
        <DisplayName>Close Terminal Session</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>18e91ed4-1b9a-413a-8cbc-c4de3b19f7e8</Id>
            <ActivityNodeId>80cc595b-8793-4271-896a-a8922eea6993</ActivityNodeId>
            <CompletedId>fc9c7e90-1451-4b26-9202-a0e5f0b8aa28</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="SSHCloseSessionActivityConfiguration" xml:space="preserve">
          <Id>80cc595b-8793-4271-896a-a8922eea6993</Id>
          <DisplayName>Close Terminal Session</DisplayName>
          <TargetLoadBalancer xsi:type="ActivityTargetLoadBalancer">
            <ActivityId>0639eb59-fe60-4526-85db-3bd50d2bd443</ActivityId>
            <ChildProcessNodeId>00000000-0000-0000-0000-000000000000</ChildProcessNodeId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>a00e85cb-2b64-4a10-826d-53e5c2194a15</ContainingProcessId>
          <TimeOutPeriod>
            <DisplayUnits>Minutes</DisplayUnits>
            <Period>
              <HardcodedValue>2</HardcodedValue>
            </Period>
          </TimeOutPeriod>
          <AHFDelay>
            <DisplayUnits>Seconds</DisplayUnits>
            <Period>
              <HardcodedValue>12</HardcodedValue>
            </Period>
          </AHFDelay>
          <ExpectList>
            <ExpectElementConfiguration>
              <Name>Error</Name>
              <RegularExpression>
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResolvedTarget</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>GetErrorExpect</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>80cc595b-8793-4271-896a-a8922eea6993</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </RegularExpression>
              <OperationType>Failed_Incompleted</OperationType>
              <OperationParameter xsi:type="SubstitutableString">
                <HardcodedValue />
              </OperationParameter>
              <MatchCase>false</MatchCase>
            </ExpectElementConfiguration>
            <ExpectElementConfiguration>
              <Name>Prompt</Name>
              <RegularExpression>
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResolvedTarget</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>GetPromptExpect</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>80cc595b-8793-4271-896a-a8922eea6993</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </RegularExpression>
              <OperationType>Succeeded</OperationType>
              <OperationParameter xsi:type="SubstitutableString">
                <HardcodedValue />
              </OperationParameter>
              <MatchCase>false</MatchCase>
            </ExpectElementConfiguration>
            <ExpectElementConfiguration>
              <Name>Admin Prompt</Name>
              <RegularExpression>
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResolvedTarget</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>GetAdminPromptExpect</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>80cc595b-8793-4271-896a-a8922eea6993</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </RegularExpression>
              <OperationType>Succeeded</OperationType>
              <OperationParameter xsi:type="SubstitutableString">
                <HardcodedValue />
              </OperationParameter>
              <MatchCase>false</MatchCase>
            </ExpectElementConfiguration>
          </ExpectList>
          <CommandTimeoutPeriod>
            <DisplayUnits>Minutes</DisplayUnits>
            <Period>
              <HardcodedValue>1</HardcodedValue>
            </Period>
          </CommandTimeoutPeriod>
          <PreserveOutput>true</PreserveOutput>
          <Input>
            <HardcodedValue />
          </Input>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="SwitchNode">
        <Id>aba6efd2-06d9-48d0-ae44-b59c82649c93</Id>
        <DisplayName>Condition Block</DisplayName>
        <Children>
          <ActivityNode xsi:type="ConditionBranchNode">
            <Id>6bb60f54-4d66-4728-bb11-8ebe631ab590</Id>
            <DisplayName>Update Agent Name</DisplayName>
            <Children>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>d8cb380a-9fc4-4cbe-a90d-697c33b7e72e</Id>
                <DisplayName>Set Policy Agent</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>a6496469-0f5a-4473-9096-8e066ed3e381</Id>
                    <ActivityNodeId>d8cb380a-9fc4-4cbe-a90d-697c33b7e72e</ActivityNodeId>
                    <CompletedId>930db6bc-4448-4805-adf9-0835403a2eeb</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="SetVariableActivityConfiguration" xml:space="preserve">
                  <Id>d8cb380a-9fc4-4cbe-a90d-697c33b7e72e</Id>
                  <DisplayName>Set Policy Agent</DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>a00e85cb-2b64-4a10-826d-53e5c2194a15</ContainingProcessId>
                  <VariableToSet>
                    <DisplayPath>Process.Variables.Output.Policy Agent</DisplayPath>
                    <LinkChain />
                    <ObjectId>2cc68ede-4db4-4af6-a1de-d3a6082372f6</ObjectId>
                    <ObjectType>GlobalVariable</ObjectType>
                  </VariableToSet>
                  <NewValue xsi:type="SubstitutableString">
                    <FormattedCode>{0}</FormattedCode>
                    <References>
                      <VariableReference xsi:type="PropertyReference">
                        <DisplayPath>Workflow.Retrieve Agent Name.First Match</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>FirstMatch</PropertyName>
                          </Link>
                        </LinkChain>
                        <ObjectId>fade6c24-8a7e-451a-a49d-92a656a374c7</ObjectId>
                        <ObjectType>ActivityInstance</ObjectType>
                      </VariableReference>
                    </References>
                  </NewValue>
                </Configuration>
              </ActivityNode>
            </Children>
            <Condition>
              <Id>ab7494f7-3f66-4dcd-a157-3f6837aa82ca</Id>
              <Conditions>
                <ConditionDefinition xsi:type="VariableConditionDefinition">
                  <Id>2620ca07-8d7a-4d76-ab84-8a1b8e969561</Id>
                  <Expression xsi:type="SubstitutableNumber">
                    <HardcodedValue>0</HardcodedValue>
                  </Expression>
                  <Comparison>GreaterThan</Comparison>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.Retrieve Agent Name.All Matches Table.Row Count</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>AllMatchesTable</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>RowCount</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>fade6c24-8a7e-451a-a49d-92a656a374c7</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </ConditionDefinition>
              </Conditions>
            </Condition>
          </ActivityNode>
          <ActivityNode xsi:type="ConditionBranchNode">
            <Id>43498db3-f787-44bc-bd46-af3b2847c3c9</Id>
            <DisplayName>No Agent</DisplayName>
            <Children>
              <ActivityNode xsi:type="CompletedNode">
                <Id>92e2d66e-5170-45b6-9c6c-63c361b9c3d3</Id>
                <CompletedType>FailedNotCompleted</CompletedType>
                <ResultMessage>
                  <HardcodedValue>Error Information: Unable to retrieve policy agent for Cisco Virtual Security Gateway.</HardcodedValue>
                </ResultMessage>
              </ActivityNode>
            </Children>
            <Condition>
              <Id>896d8c6f-5f1d-4959-8828-42548259fd63</Id>
              <Conditions />
            </Condition>
          </ActivityNode>
        </Children>
      </ActivityNode>
    </Children>
  </FirstActivity>
  <ProcessId>a00e85cb-2b64-4a10-826d-53e5c2194a15</ProcessId>
</WorkflowConfiguration>