<?xml version="1.0"?>
<WorkflowConfiguration xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xml:space="preserve">
  <Id>402a9edf-cebb-4dce-a71a-887eae11ff8b</Id>
  <DisplayName>Provision Virtual Adaptive Security Appliance</DisplayName>
  <CreatedTime>2016-02-15T20:41:30.114Z</CreatedTime>
  <ModifiedTime>2016-02-15T20:41:48.3388671Z</ModifiedTime>
  <FirstActivity xsi:type="RootNode">
    <Id>0dad82b0-caab-4dea-860a-0701d5419104</Id>
    <DisplayName />
    <Children>
      <ActivityNode xsi:type="StartProcessNode">
        <Id>17cbe700-ff1b-454f-b8a2-395ea81d5713</Id>
        <DisplayName>Provision vASA &gt;&gt; Pre Provision</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>733fa260-5c83-4e99-a267-a7f8f6d44af9</Id>
            <ProcessNodeId>17cbe700-ff1b-454f-b8a2-395ea81d5713</ProcessNodeId>
            <CompletedId>b20a5b18-7021-449b-829a-9e534c843a4f</CompletedId>
          </ActivityNode>
        </Children>
        <ProcessId>2ba7039e-56c8-4fc1-8eb5-3d97f7d50c9c</ProcessId>
        <InputVariableTable>
          <VariableAssignmentsAsArray />
        </InputVariableTable>
        <Asynchronous>false</Asynchronous>
        <InheritTarget>true</InheritTarget>
        <InheritPriorityClass>true</InheritPriorityClass>
        <RuntimeUserId>
          <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
        </RuntimeUserId>
        <KnowledgeBaseId>00000000-0000-0000-0000-000000000000</KnowledgeBaseId>
        <StartPointId>
          <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
        </StartPointId>
        <StartPointName>
          <FormattedCode />
        </StartPointName>
      </ActivityNode>
      <ActivityNode xsi:type="ParallelNode">
        <Id>2e077cc4-ab29-4f12-942f-aad9940313c0</Id>
        <DisplayName>Parallel Block</DisplayName>
        <Children>
          <ActivityNode xsi:type="SequenceNode">
            <Id>f69867cc-7f3a-4dff-aff4-4eb3bb20aaef</Id>
            <DisplayName>Sequential Block</DisplayName>
            <Children>
              <ActivityNode xsi:type="StartProcessNode">
                <Id>6e53ee1e-8396-45a3-ad47-274c09478242</Id>
                <DisplayName>Retrieve vCenter and Resource Pool</DisplayName>
                <Children>
                  <ActivityNode xsi:type="ConditionBranchNode">
                    <Id>5d0526a0-1f9f-428d-86af-72dca5c0852f</Id>
                    <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
                    <DisplayName>If Execution Fails</DisplayName>
                    <Children>
                      <ActivityNode xsi:type="ExecuteActivityNode">
                        <Id>06ded3ab-646f-4071-910b-e1cb33806bc9</Id>
                        <DisplayName>Set Remediation Settings</DisplayName>
                        <Children>
                          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                            <Id>13dfeb9b-36d9-424c-b578-509191f54a13</Id>
                            <ActivityNodeId>06ded3ab-646f-4071-910b-e1cb33806bc9</ActivityNodeId>
                            <CompletedId>1cf84155-e314-4dab-810e-639c7bf7b8e6</CompletedId>
                          </ActivityNode>
                        </Children>
                        <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                          <Id>06ded3ab-646f-4071-910b-e1cb33806bc9</Id>
                          <DisplayName>Set Remediation Settings</DisplayName>
                          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                            <SingleTargetId>
                              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                            </SingleTargetId>
                          </TargetLoadBalancer>
                          <InheritTarget>false</InheritTarget>
                          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                          <Assignments>
                            <PropertyReferenceValuePair>
                              <VariableToSet>
                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResolvedTarget</PropertyName>
                                  </Link>
                                  <Link xsi:type="ObjectReferenceLink">
                                    <ObjectLink>
                                      <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                                      <ObjectType>PropertyExtension</ObjectType>
                                    </ObjectLink>
                                  </Link>
                                </LinkChain>
                                <ObjectType>ProcessInstance</ObjectType>
                              </VariableToSet>
                              <NewValue xsi:type="SubstitutableNumber">
                                <HardcodedValue>1012</HardcodedValue>
                              </NewValue>
                            </PropertyReferenceValuePair>
                            <PropertyReferenceValuePair>
                              <VariableToSet>
                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.Actions</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResolvedTarget</PropertyName>
                                  </Link>
                                  <Link xsi:type="ObjectReferenceLink">
                                    <ObjectLink>
                                      <Id>d3e16466-5e76-4adf-9738-9d3faf351bce</Id>
                                      <ObjectType>PropertyExtension</ObjectType>
                                    </ObjectLink>
                                  </Link>
                                </LinkChain>
                                <ObjectType>ProcessInstance</ObjectType>
                              </VariableToSet>
                              <NewValue xsi:type="SubstitutableString">
                                <HardcodedValue>Cancel</HardcodedValue>
                              </NewValue>
                            </PropertyReferenceValuePair>
                          </Assignments>
                        </Configuration>
                      </ActivityNode>
                      <ActivityNode xsi:type="CompletedNode">
                        <Id>3f2bf031-8cc3-4b56-84aa-8e73456745db</Id>
                        <Notes>Fail the entire process</Notes>
                        <CompletedType>FailedNotCompleted</CompletedType>
                        <ResultMessage>
                          <FormattedCode>{0}</FormattedCode>
                          <References>
                            <VariableReference xsi:type="PropertyReference">
                              <LinkChain>
                                <Link xsi:type="PropertyNameLink">
                                  <PropertyName>ErrorInformation</PropertyName>
                                </Link>
                              </LinkChain>
                              <ObjectId>6e53ee1e-8396-45a3-ad47-274c09478242</ObjectId>
                              <ObjectType>ProcessInstance</ObjectType>
                            </VariableReference>
                          </References>
                        </ResultMessage>
                      </ActivityNode>
                    </Children>
                    <Condition>
                      <Id>fd51af46-d5e3-4ec3-a41a-31d5e0e10034</Id>
                      <Conditions>
                        <ConditionDefinition xsi:type="VariableConditionDefinition">
                          <Id>ccf024c5-e53a-4945-b00b-2a08ae5c9e48</Id>
                          <Expression xsi:type="SubstitutableBoolean">
                            <HardcodedValue>true</HardcodedValue>
                          </Expression>
                          <Comparison>Equals</Comparison>
                          <VariableReference xsi:type="PropertyReference">
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>InstanceFailed</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectId>6e53ee1e-8396-45a3-ad47-274c09478242</ObjectId>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableReference>
                        </ConditionDefinition>
                      </Conditions>
                    </Condition>
                  </ActivityNode>
                </Children>
                <ProcessId>d6c24223-8803-47c0-af04-c5696f7c0a5b</ProcessId>
                <InputVariableTable>
                  <VariableAssignmentsAsArray>
                    <InputVariableAssignment>
                      <InputVariableId>7a649f4a-613e-44fd-a609-27487b30bc71</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>61fa70ab-5890-4645-a21c-bcc9c980659e</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>15240ce4-17e6-4848-a227-db1bc1668b06</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>dcecbf57-df0a-45e9-acf2-5f374790e44f</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>44b9366b-7a9e-44c9-ac57-c3da36bfb0a5</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>8900a0d8-1af9-4fea-8826-8c1504a484f9</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <FormattedCode>{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Variables.Input.vCenterResourcePool</DisplayPath>
                            <LinkChain />
                            <ObjectId>18a4e592-27be-40a5-a7c3-61a0c58b94b1</ObjectId>
                            <ObjectType>GlobalVariable</ObjectType>
                          </VariableReference>
                        </References>
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>48904642-9042-4a09-8f88-d22b0d7ba392</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue>UniqueID</HardcodedValue>
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>d77bb3bf-3961-493b-87ac-89e46eb56d6c</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue>ResourcePool</HardcodedValue>
                      </VariableValue>
                    </InputVariableAssignment>
                  </VariableAssignmentsAsArray>
                </InputVariableTable>
                <Asynchronous>false</Asynchronous>
                <InheritTarget>false</InheritTarget>
                <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
                  <SingleTargetReference>
                    <FormattedCode />
                    <HardcodedValue>
                      <Id>ba183b27-04b2-4f17-aa1d-709221bd68f5</Id>
                      <ObjectType>Target</ObjectType>
                    </HardcodedValue>
                  </SingleTargetReference>
                </TargetLoadBalancer>
                <InheritPriorityClass>true</InheritPriorityClass>
                <RuntimeUserId>
                  <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
                </RuntimeUserId>
                <KnowledgeBaseId>00000000-0000-0000-0000-000000000000</KnowledgeBaseId>
                <StartPointId>
                  <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
                </StartPointId>
                <StartPointName>
                  <FormattedCode />
                </StartPointName>
              </ActivityNode>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>eafb6697-6940-4f49-a3fa-24b0beacf1e9</Id>
                <DisplayName>Read vCenter and Resource Pool</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>4e11c2b8-9ceb-453a-a342-eb45718a5969</Id>
                    <ActivityNodeId>eafb6697-6940-4f49-a3fa-24b0beacf1e9</ActivityNodeId>
                    <CompletedId>397795db-74e7-4d78-a5cb-af0b588ea54f</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="ReadTableFromXmlActivityConfiguration" xml:space="preserve">
                  <Id>eafb6697-6940-4f49-a3fa-24b0beacf1e9</Id>
                  <DisplayName>Read vCenter and Resource Pool</DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                  <Columns>
                    <BuiltinTableColumn>
                      <Name>PlatformElementID</Name>
                      <DataType>System.String</DataType>
                    </BuiltinTableColumn>
                    <BuiltinTableColumn>
                      <Name>MORef</Name>
                      <DataType>System.String</DataType>
                    </BuiltinTableColumn>
                    <BuiltinTableColumn>
                      <Name>Datacenter</Name>
                      <DataType>System.String</DataType>
                    </BuiltinTableColumn>
                  </Columns>
                  <XmlRowElementName>
                    <HardcodedValue>row</HardcodedValue>
                  </XmlRowElementName>
                  <XmlString>
                    <FormattedCode>{0}</FormattedCode>
                    <References>
                      <VariableReference xsi:type="PropertyReference">
                        <DisplayPath>Workflow.Retrieve vCenter and Resource Pool.ResultsTable XML</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="ProcessOutputVariableLink">
                            <LaunchingActivityId>6e53ee1e-8396-45a3-ad47-274c09478242</LaunchingActivityId>
                            <OutputVariableId>d4e94a28-84a7-4635-b8f5-db6fc2a37b62</OutputVariableId>
                          </Link>
                        </LinkChain>
                        <ObjectId>6e53ee1e-8396-45a3-ad47-274c09478242</ObjectId>
                        <ObjectType>WorkflowNode</ObjectType>
                      </VariableReference>
                    </References>
                  </XmlString>
                </Configuration>
              </ActivityNode>
              <ActivityNode xsi:type="StartProcessNode">
                <Id>1f063eb3-da03-4de3-a611-e586c2fdc0d7</Id>
                <DisplayName>Retrieve Datastore</DisplayName>
                <Children>
                  <ActivityNode xsi:type="ConditionBranchNode">
                    <Id>282b8c3f-e9e4-4771-ab17-a2d2e7794a35</Id>
                    <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
                    <DisplayName>If Execution Fails</DisplayName>
                    <Children>
                      <ActivityNode xsi:type="ExecuteActivityNode">
                        <Id>985906a8-4fce-4a1c-89d9-f62116277349</Id>
                        <DisplayName>Set Remediation Settings </DisplayName>
                        <Children>
                          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                            <Id>2fcc990a-2ccc-411b-8e8f-87b172ba311d</Id>
                            <ActivityNodeId>985906a8-4fce-4a1c-89d9-f62116277349</ActivityNodeId>
                            <CompletedId>1a08a87e-b5cc-4138-9ddd-b5df4cbbbec0</CompletedId>
                          </ActivityNode>
                        </Children>
                        <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                          <Id>985906a8-4fce-4a1c-89d9-f62116277349</Id>
                          <DisplayName>Set Remediation Settings </DisplayName>
                          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                            <SingleTargetId>
                              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                            </SingleTargetId>
                          </TargetLoadBalancer>
                          <InheritTarget>false</InheritTarget>
                          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                          <Assignments>
                            <PropertyReferenceValuePair>
                              <VariableToSet>
                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResolvedTarget</PropertyName>
                                  </Link>
                                  <Link xsi:type="ObjectReferenceLink">
                                    <ObjectLink>
                                      <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                                      <ObjectType>PropertyExtension</ObjectType>
                                    </ObjectLink>
                                  </Link>
                                </LinkChain>
                                <ObjectType>ProcessInstance</ObjectType>
                              </VariableToSet>
                              <NewValue xsi:type="SubstitutableNumber">
                                <HardcodedValue>1012</HardcodedValue>
                              </NewValue>
                            </PropertyReferenceValuePair>
                            <PropertyReferenceValuePair>
                              <VariableToSet>
                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.Actions</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResolvedTarget</PropertyName>
                                  </Link>
                                  <Link xsi:type="ObjectReferenceLink">
                                    <ObjectLink>
                                      <Id>d3e16466-5e76-4adf-9738-9d3faf351bce</Id>
                                      <ObjectType>PropertyExtension</ObjectType>
                                    </ObjectLink>
                                  </Link>
                                </LinkChain>
                                <ObjectType>ProcessInstance</ObjectType>
                              </VariableToSet>
                              <NewValue xsi:type="SubstitutableString">
                                <HardcodedValue>Cancel</HardcodedValue>
                              </NewValue>
                            </PropertyReferenceValuePair>
                          </Assignments>
                        </Configuration>
                      </ActivityNode>
                      <ActivityNode xsi:type="CompletedNode">
                        <Id>ad858dbe-f2d6-4362-aa10-a54d6f64a4ee</Id>
                        <Notes>Fail the entire process</Notes>
                        <CompletedType>FailedNotCompleted</CompletedType>
                        <ResultMessage>
                          <FormattedCode>{0}</FormattedCode>
                          <References>
                            <VariableReference xsi:type="PropertyReference">
                              <LinkChain>
                                <Link xsi:type="PropertyNameLink">
                                  <PropertyName>ErrorInformation</PropertyName>
                                </Link>
                              </LinkChain>
                              <ObjectId>1f063eb3-da03-4de3-a611-e586c2fdc0d7</ObjectId>
                              <ObjectType>ProcessInstance</ObjectType>
                            </VariableReference>
                          </References>
                        </ResultMessage>
                      </ActivityNode>
                    </Children>
                    <Condition>
                      <Id>32803f5b-d8cb-48d4-808a-2967fa9bb98b</Id>
                      <Conditions>
                        <ConditionDefinition xsi:type="VariableConditionDefinition">
                          <Id>e5475525-c8a8-4afc-887e-e757f23d056c</Id>
                          <Expression xsi:type="SubstitutableBoolean">
                            <HardcodedValue>true</HardcodedValue>
                          </Expression>
                          <Comparison>Equals</Comparison>
                          <VariableReference xsi:type="PropertyReference">
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>InstanceFailed</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectId>1f063eb3-da03-4de3-a611-e586c2fdc0d7</ObjectId>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableReference>
                        </ConditionDefinition>
                      </Conditions>
                    </Condition>
                  </ActivityNode>
                </Children>
                <ProcessId>d6c24223-8803-47c0-af04-c5696f7c0a5b</ProcessId>
                <InputVariableTable>
                  <VariableAssignmentsAsArray>
                    <InputVariableAssignment>
                      <InputVariableId>7a649f4a-613e-44fd-a609-27487b30bc71</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>61fa70ab-5890-4645-a21c-bcc9c980659e</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>15240ce4-17e6-4848-a227-db1bc1668b06</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>dcecbf57-df0a-45e9-acf2-5f374790e44f</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>44b9366b-7a9e-44c9-ac57-c3da36bfb0a5</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>8900a0d8-1af9-4fea-8826-8c1504a484f9</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <FormattedCode>{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Variables.Input.vCenterDatastore</DisplayPath>
                            <LinkChain />
                            <ObjectId>e306d6ff-9598-41eb-8045-41798d084a96</ObjectId>
                            <ObjectType>GlobalVariable</ObjectType>
                          </VariableReference>
                        </References>
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>48904642-9042-4a09-8f88-d22b0d7ba392</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue>UniqueID</HardcodedValue>
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>d77bb3bf-3961-493b-87ac-89e46eb56d6c</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue>Datastore</HardcodedValue>
                      </VariableValue>
                    </InputVariableAssignment>
                  </VariableAssignmentsAsArray>
                </InputVariableTable>
                <Asynchronous>false</Asynchronous>
                <InheritTarget>false</InheritTarget>
                <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
                  <SingleTargetReference>
                    <FormattedCode />
                    <HardcodedValue>
                      <Id>ba183b27-04b2-4f17-aa1d-709221bd68f5</Id>
                      <ObjectType>Target</ObjectType>
                    </HardcodedValue>
                  </SingleTargetReference>
                </TargetLoadBalancer>
                <InheritPriorityClass>true</InheritPriorityClass>
                <RuntimeUserId>
                  <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
                </RuntimeUserId>
                <KnowledgeBaseId>00000000-0000-0000-0000-000000000000</KnowledgeBaseId>
                <StartPointId>
                  <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
                </StartPointId>
                <StartPointName>
                  <FormattedCode />
                </StartPointName>
              </ActivityNode>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>ede8a3ba-0e13-4d20-a664-48158c7e648e</Id>
                <DisplayName>Read Datastore</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>8eef05a7-4188-4ee1-8a9e-fb339ab4cf0b</Id>
                    <ActivityNodeId>ede8a3ba-0e13-4d20-a664-48158c7e648e</ActivityNodeId>
                    <CompletedId>efc44972-b5e9-4b18-bee0-cb53762c7ba7</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="ReadTableFromXmlActivityConfiguration" xml:space="preserve">
                  <Id>ede8a3ba-0e13-4d20-a664-48158c7e648e</Id>
                  <DisplayName>Read Datastore</DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                  <Columns>
                    <BuiltinTableColumn>
                      <Name>MORef</Name>
                      <DataType>System.String</DataType>
                    </BuiltinTableColumn>
                    <BuiltinTableColumn>
                      <Name>DatastoreCluster</Name>
                      <DataType>System.String</DataType>
                    </BuiltinTableColumn>
                  </Columns>
                  <XmlRowElementName>
                    <HardcodedValue>row</HardcodedValue>
                  </XmlRowElementName>
                  <XmlString>
                    <FormattedCode>{0}</FormattedCode>
                    <References>
                      <VariableReference xsi:type="PropertyReference">
                        <DisplayPath>Workflow.Retrieve Datastore.ResultsTable XML</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="ProcessOutputVariableLink">
                            <LaunchingActivityId>1f063eb3-da03-4de3-a611-e586c2fdc0d7</LaunchingActivityId>
                            <OutputVariableId>d4e94a28-84a7-4635-b8f5-db6fc2a37b62</OutputVariableId>
                          </Link>
                        </LinkChain>
                        <ObjectId>1f063eb3-da03-4de3-a611-e586c2fdc0d7</ObjectId>
                        <ObjectType>WorkflowNode</ObjectType>
                      </VariableReference>
                    </References>
                  </XmlString>
                </Configuration>
              </ActivityNode>
              <ActivityNode xsi:type="StartProcessNode">
                <Id>1b80a155-bcfe-4678-a2ce-959c239b71e1</Id>
                <DisplayName>Get IP Address</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>2dc11c07-613d-42c8-a71e-9de9d5814a79</Id>
                    <ProcessNodeId>1b80a155-bcfe-4678-a2ce-959c239b71e1</ProcessNodeId>
                    <CompletedId>84ffe481-ec0e-4268-815c-dd822d306926</CompletedId>
                  </ActivityNode>
                </Children>
                <ProcessId>e638236a-93ea-4292-8915-b568a9b40ee2</ProcessId>
                <InputVariableTable>
                  <VariableAssignmentsAsArray>
                    <InputVariableAssignment>
                      <InputVariableId>342e5530-1294-4b5a-b79e-5e1d3aa36098</InputVariableId>
                      <VariableValue xsi:type="SubstitutableBoolean">
                        <HardcodedValue>true</HardcodedValue>
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>6c249050-9aac-46a0-9545-96efd09c74d4</InputVariableId>
                      <VariableValue xsi:type="SubstitutableBoolean">
                        <HardcodedValue>false</HardcodedValue>
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>2af4fefd-32a7-4c94-925b-17111a8fa94b</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <FormattedCode>{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Variables.Input.Infrastructure network</DisplayPath>
                            <LinkChain />
                            <ObjectId>ebe96522-96fb-424e-86a4-f4d8afa1b467</ObjectId>
                            <ObjectType>GlobalVariable</ObjectType>
                          </VariableReference>
                        </References>
                      </VariableValue>
                    </InputVariableAssignment>
                  </VariableAssignmentsAsArray>
                </InputVariableTable>
                <Asynchronous>false</Asynchronous>
                <InheritTarget>true</InheritTarget>
                <TargetLoadBalancer xsi:type="ProcessTargetLoadBalancer" />
                <InheritPriorityClass>true</InheritPriorityClass>
                <RuntimeUserId>
                  <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
                </RuntimeUserId>
                <KnowledgeBaseId>00000000-0000-0000-0000-000000000000</KnowledgeBaseId>
                <StartPointId>
                  <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
                </StartPointId>
                <StartPointName>
                  <FormattedCode />
                </StartPointName>
              </ActivityNode>
            </Children>
          </ActivityNode>
          <ActivityNode xsi:type="SequenceNode">
            <Id>a6bc7553-1814-4eb8-ba6a-b62b3ba6a989</Id>
            <DisplayName>Sequential Block</DisplayName>
            <Children>
              <ActivityNode xsi:type="StartProcessNode">
                <Id>e2a3d762-dbff-45f4-aff6-188f0d37042b</Id>
                <DisplayName>Retrieve Management VLAN</DisplayName>
                <Children>
                  <ActivityNode xsi:type="ConditionBranchNode">
                    <Id>74da71d9-8687-4419-8da7-d9b2eb13fdf8</Id>
                    <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
                    <DisplayName>If Execution Fails</DisplayName>
                    <Children>
                      <ActivityNode xsi:type="ExecuteActivityNode">
                        <Id>55c9645b-ed15-4bc4-ab88-559681f322a8</Id>
                        <DisplayName>Set Remediation Settings</DisplayName>
                        <Children>
                          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                            <Id>c8400510-91e4-4afd-b871-0bc1ca27d56a</Id>
                            <ActivityNodeId>55c9645b-ed15-4bc4-ab88-559681f322a8</ActivityNodeId>
                            <CompletedId>f257a425-c649-47b1-a6e6-4b2294be6c5b</CompletedId>
                          </ActivityNode>
                        </Children>
                        <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                          <Id>55c9645b-ed15-4bc4-ab88-559681f322a8</Id>
                          <DisplayName>Set Remediation Settings</DisplayName>
                          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                            <SingleTargetId>
                              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                            </SingleTargetId>
                          </TargetLoadBalancer>
                          <InheritTarget>false</InheritTarget>
                          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                          <Assignments>
                            <PropertyReferenceValuePair>
                              <VariableToSet>
                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResolvedTarget</PropertyName>
                                  </Link>
                                  <Link xsi:type="ObjectReferenceLink">
                                    <ObjectLink>
                                      <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                                      <ObjectType>PropertyExtension</ObjectType>
                                    </ObjectLink>
                                  </Link>
                                </LinkChain>
                                <ObjectType>ProcessInstance</ObjectType>
                              </VariableToSet>
                              <NewValue xsi:type="SubstitutableNumber">
                                <HardcodedValue>1012</HardcodedValue>
                              </NewValue>
                            </PropertyReferenceValuePair>
                            <PropertyReferenceValuePair>
                              <VariableToSet>
                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.Actions</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResolvedTarget</PropertyName>
                                  </Link>
                                  <Link xsi:type="ObjectReferenceLink">
                                    <ObjectLink>
                                      <Id>d3e16466-5e76-4adf-9738-9d3faf351bce</Id>
                                      <ObjectType>PropertyExtension</ObjectType>
                                    </ObjectLink>
                                  </Link>
                                </LinkChain>
                                <ObjectType>ProcessInstance</ObjectType>
                              </VariableToSet>
                              <NewValue xsi:type="SubstitutableString">
                                <HardcodedValue>Cancel</HardcodedValue>
                              </NewValue>
                            </PropertyReferenceValuePair>
                          </Assignments>
                        </Configuration>
                      </ActivityNode>
                      <ActivityNode xsi:type="CompletedNode">
                        <Id>0a4afeaa-b3c2-4335-b432-d98927b53f88</Id>
                        <Notes>Fail the entire process</Notes>
                        <CompletedType>FailedNotCompleted</CompletedType>
                        <ResultMessage>
                          <FormattedCode>{0}</FormattedCode>
                          <References>
                            <VariableReference xsi:type="PropertyReference">
                              <LinkChain>
                                <Link xsi:type="PropertyNameLink">
                                  <PropertyName>ErrorInformation</PropertyName>
                                </Link>
                              </LinkChain>
                              <ObjectId>e2a3d762-dbff-45f4-aff6-188f0d37042b</ObjectId>
                              <ObjectType>ProcessInstance</ObjectType>
                            </VariableReference>
                          </References>
                        </ResultMessage>
                      </ActivityNode>
                    </Children>
                    <Condition>
                      <Id>6be5402b-cb7d-471d-bfde-e31d9d1b4a83</Id>
                      <Conditions>
                        <ConditionDefinition xsi:type="VariableConditionDefinition">
                          <Id>5a5e6ec6-2fae-4070-bf93-46b4e1983747</Id>
                          <Expression xsi:type="SubstitutableBoolean">
                            <HardcodedValue>true</HardcodedValue>
                          </Expression>
                          <Comparison>Equals</Comparison>
                          <VariableReference xsi:type="PropertyReference">
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>InstanceFailed</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectId>e2a3d762-dbff-45f4-aff6-188f0d37042b</ObjectId>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableReference>
                        </ConditionDefinition>
                      </Conditions>
                    </Condition>
                  </ActivityNode>
                </Children>
                <ProcessId>d6c24223-8803-47c0-af04-c5696f7c0a5b</ProcessId>
                <InputVariableTable>
                  <VariableAssignmentsAsArray>
                    <InputVariableAssignment>
                      <InputVariableId>7a649f4a-613e-44fd-a609-27487b30bc71</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>61fa70ab-5890-4645-a21c-bcc9c980659e</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>15240ce4-17e6-4848-a227-db1bc1668b06</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>dcecbf57-df0a-45e9-acf2-5f374790e44f</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>44b9366b-7a9e-44c9-ac57-c3da36bfb0a5</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>8900a0d8-1af9-4fea-8826-8c1504a484f9</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <FormattedCode>{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Variables.Input.Infrastructure network</DisplayPath>
                            <LinkChain />
                            <ObjectId>ebe96522-96fb-424e-86a4-f4d8afa1b467</ObjectId>
                            <ObjectType>GlobalVariable</ObjectType>
                          </VariableReference>
                        </References>
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>48904642-9042-4a09-8f88-d22b0d7ba392</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue>Name</HardcodedValue>
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>d77bb3bf-3961-493b-87ac-89e46eb56d6c</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue>VLANInstance</HardcodedValue>
                      </VariableValue>
                    </InputVariableAssignment>
                  </VariableAssignmentsAsArray>
                </InputVariableTable>
                <Asynchronous>false</Asynchronous>
                <InheritTarget>false</InheritTarget>
                <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
                  <SingleTargetReference>
                    <FormattedCode />
                    <HardcodedValue>
                      <Id>ba183b27-04b2-4f17-aa1d-709221bd68f5</Id>
                      <ObjectType>Target</ObjectType>
                    </HardcodedValue>
                  </SingleTargetReference>
                </TargetLoadBalancer>
                <InheritPriorityClass>true</InheritPriorityClass>
                <RuntimeUserId>
                  <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
                </RuntimeUserId>
                <KnowledgeBaseId>00000000-0000-0000-0000-000000000000</KnowledgeBaseId>
                <StartPointId>
                  <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
                </StartPointId>
                <StartPointName>
                  <FormattedCode />
                </StartPointName>
              </ActivityNode>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>a9dafa48-aa30-40c3-b493-624f9d68e0b1</Id>
                <DisplayName>Read Management VLAN</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>da85b761-4d52-4ea2-90b8-ee1491bec64c</Id>
                    <ActivityNodeId>a9dafa48-aa30-40c3-b493-624f9d68e0b1</ActivityNodeId>
                    <CompletedId>3116942f-9b2b-457d-8bc7-542f2a2ada00</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="ReadTableFromXmlActivityConfiguration" xml:space="preserve">
                  <Id>a9dafa48-aa30-40c3-b493-624f9d68e0b1</Id>
                  <DisplayName>Read Management VLAN</DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                  <Columns>
                    <BuiltinTableColumn>
                      <Name>vCenterNetPath</Name>
                      <DataType>System.String</DataType>
                    </BuiltinTableColumn>
                  </Columns>
                  <XmlRowElementName>
                    <HardcodedValue>row</HardcodedValue>
                  </XmlRowElementName>
                  <XmlString>
                    <FormattedCode>{0}</FormattedCode>
                    <References>
                      <VariableReference xsi:type="PropertyReference">
                        <DisplayPath>Workflow.Retrieve Management VLAN.ResultsTable XML</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="ProcessOutputVariableLink">
                            <LaunchingActivityId>e2a3d762-dbff-45f4-aff6-188f0d37042b</LaunchingActivityId>
                            <OutputVariableId>d4e94a28-84a7-4635-b8f5-db6fc2a37b62</OutputVariableId>
                          </Link>
                        </LinkChain>
                        <ObjectId>e2a3d762-dbff-45f4-aff6-188f0d37042b</ObjectId>
                        <ObjectType>WorkflowNode</ObjectType>
                      </VariableReference>
                    </References>
                  </XmlString>
                </Configuration>
              </ActivityNode>
              <ActivityNode xsi:type="StartProcessNode">
                <Id>81d55d23-15b0-4d30-9132-4cc290c6f262</Id>
                <DisplayName>Retrieve Service VLAN</DisplayName>
                <Children>
                  <ActivityNode xsi:type="ConditionBranchNode">
                    <Id>7e6ded20-f3de-4088-91bf-6eb2c65d96f7</Id>
                    <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
                    <DisplayName>If Execution Fails</DisplayName>
                    <Children>
                      <ActivityNode xsi:type="ExecuteActivityNode">
                        <Id>15e1aaa4-2112-40e7-a4aa-db412301bec4</Id>
                        <DisplayName>Set Remediation Settings </DisplayName>
                        <Children>
                          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                            <Id>82f7830b-c785-41cd-a86b-72e427486da2</Id>
                            <ActivityNodeId>15e1aaa4-2112-40e7-a4aa-db412301bec4</ActivityNodeId>
                            <CompletedId>ad04fe7b-0124-4f9d-b493-58e01d330126</CompletedId>
                          </ActivityNode>
                        </Children>
                        <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                          <Id>15e1aaa4-2112-40e7-a4aa-db412301bec4</Id>
                          <DisplayName>Set Remediation Settings </DisplayName>
                          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                            <SingleTargetId>
                              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                            </SingleTargetId>
                          </TargetLoadBalancer>
                          <InheritTarget>false</InheritTarget>
                          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                          <Assignments>
                            <PropertyReferenceValuePair>
                              <VariableToSet>
                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResolvedTarget</PropertyName>
                                  </Link>
                                  <Link xsi:type="ObjectReferenceLink">
                                    <ObjectLink>
                                      <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                                      <ObjectType>PropertyExtension</ObjectType>
                                    </ObjectLink>
                                  </Link>
                                </LinkChain>
                                <ObjectType>ProcessInstance</ObjectType>
                              </VariableToSet>
                              <NewValue xsi:type="SubstitutableNumber">
                                <HardcodedValue>1012</HardcodedValue>
                              </NewValue>
                            </PropertyReferenceValuePair>
                            <PropertyReferenceValuePair>
                              <VariableToSet>
                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.Actions</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResolvedTarget</PropertyName>
                                  </Link>
                                  <Link xsi:type="ObjectReferenceLink">
                                    <ObjectLink>
                                      <Id>d3e16466-5e76-4adf-9738-9d3faf351bce</Id>
                                      <ObjectType>PropertyExtension</ObjectType>
                                    </ObjectLink>
                                  </Link>
                                </LinkChain>
                                <ObjectType>ProcessInstance</ObjectType>
                              </VariableToSet>
                              <NewValue xsi:type="SubstitutableString">
                                <HardcodedValue>Cancel</HardcodedValue>
                              </NewValue>
                            </PropertyReferenceValuePair>
                          </Assignments>
                        </Configuration>
                      </ActivityNode>
                      <ActivityNode xsi:type="CompletedNode">
                        <Id>8ba21ede-4749-4562-ba65-dbaee3753278</Id>
                        <Notes>Fail the entire process</Notes>
                        <CompletedType>FailedNotCompleted</CompletedType>
                        <ResultMessage>
                          <FormattedCode>{0}</FormattedCode>
                          <References>
                            <VariableReference xsi:type="PropertyReference">
                              <LinkChain>
                                <Link xsi:type="PropertyNameLink">
                                  <PropertyName>ErrorInformation</PropertyName>
                                </Link>
                              </LinkChain>
                              <ObjectId>81d55d23-15b0-4d30-9132-4cc290c6f262</ObjectId>
                              <ObjectType>ProcessInstance</ObjectType>
                            </VariableReference>
                          </References>
                        </ResultMessage>
                      </ActivityNode>
                    </Children>
                    <Condition>
                      <Id>9d0dbd4e-270a-4e40-be78-bba9c33db93b</Id>
                      <Conditions>
                        <ConditionDefinition xsi:type="VariableConditionDefinition">
                          <Id>4ae35b8e-c116-4029-9456-0e91bce1b9ab</Id>
                          <Expression xsi:type="SubstitutableBoolean">
                            <HardcodedValue>true</HardcodedValue>
                          </Expression>
                          <Comparison>Equals</Comparison>
                          <VariableReference xsi:type="PropertyReference">
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>InstanceFailed</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectId>81d55d23-15b0-4d30-9132-4cc290c6f262</ObjectId>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableReference>
                        </ConditionDefinition>
                      </Conditions>
                    </Condition>
                  </ActivityNode>
                </Children>
                <ProcessId>d6c24223-8803-47c0-af04-c5696f7c0a5b</ProcessId>
                <InputVariableTable>
                  <VariableAssignmentsAsArray>
                    <InputVariableAssignment>
                      <InputVariableId>7a649f4a-613e-44fd-a609-27487b30bc71</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>61fa70ab-5890-4645-a21c-bcc9c980659e</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>15240ce4-17e6-4848-a227-db1bc1668b06</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>dcecbf57-df0a-45e9-acf2-5f374790e44f</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>44b9366b-7a9e-44c9-ac57-c3da36bfb0a5</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>8900a0d8-1af9-4fea-8826-8c1504a484f9</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <FormattedCode>{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Variables.Input.Service Network</DisplayPath>
                            <LinkChain />
                            <ObjectId>ac1d7fc3-e826-4b03-bf59-4ab8920c33b7</ObjectId>
                            <ObjectType>GlobalVariable</ObjectType>
                          </VariableReference>
                        </References>
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>48904642-9042-4a09-8f88-d22b0d7ba392</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue>Name</HardcodedValue>
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>d77bb3bf-3961-493b-87ac-89e46eb56d6c</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue>VLANInstance</HardcodedValue>
                      </VariableValue>
                    </InputVariableAssignment>
                  </VariableAssignmentsAsArray>
                </InputVariableTable>
                <Asynchronous>false</Asynchronous>
                <InheritTarget>false</InheritTarget>
                <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
                  <SingleTargetReference>
                    <FormattedCode />
                    <HardcodedValue>
                      <Id>ba183b27-04b2-4f17-aa1d-709221bd68f5</Id>
                      <ObjectType>Target</ObjectType>
                    </HardcodedValue>
                  </SingleTargetReference>
                </TargetLoadBalancer>
                <InheritPriorityClass>true</InheritPriorityClass>
                <RuntimeUserId>
                  <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
                </RuntimeUserId>
                <KnowledgeBaseId>00000000-0000-0000-0000-000000000000</KnowledgeBaseId>
                <StartPointId>
                  <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
                </StartPointId>
                <StartPointName>
                  <FormattedCode />
                </StartPointName>
              </ActivityNode>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>8ec45d7d-5029-4d9c-98f6-980a3390c1b4</Id>
                <DisplayName>Read Service VLAN</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>8e1800b3-71b6-4436-964e-b1be8fd28b31</Id>
                    <ActivityNodeId>8ec45d7d-5029-4d9c-98f6-980a3390c1b4</ActivityNodeId>
                    <CompletedId>ab2c554f-d1f2-4dc6-9d4f-3b4b7e67395e</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="ReadTableFromXmlActivityConfiguration" xml:space="preserve">
                  <Id>8ec45d7d-5029-4d9c-98f6-980a3390c1b4</Id>
                  <DisplayName>Read Service VLAN</DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                  <Columns>
                    <BuiltinTableColumn>
                      <Name>vCenterNetPath</Name>
                      <DataType>System.String</DataType>
                    </BuiltinTableColumn>
                  </Columns>
                  <XmlRowElementName>
                    <HardcodedValue>row</HardcodedValue>
                  </XmlRowElementName>
                  <XmlString>
                    <FormattedCode>{0}</FormattedCode>
                    <References>
                      <VariableReference xsi:type="PropertyReference">
                        <DisplayPath>Workflow.Retrieve Service VLAN.ResultsTable XML</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="ProcessOutputVariableLink">
                            <LaunchingActivityId>81d55d23-15b0-4d30-9132-4cc290c6f262</LaunchingActivityId>
                            <OutputVariableId>d4e94a28-84a7-4635-b8f5-db6fc2a37b62</OutputVariableId>
                          </Link>
                        </LinkChain>
                        <ObjectId>81d55d23-15b0-4d30-9132-4cc290c6f262</ObjectId>
                        <ObjectType>WorkflowNode</ObjectType>
                      </VariableReference>
                    </References>
                  </XmlString>
                </Configuration>
              </ActivityNode>
            </Children>
          </ActivityNode>
        </Children>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>f653dca3-5848-402a-8cb6-88ef13ecb34c</Id>
        <DisplayName>Find vCenter Target</DisplayName>
        <Children>
          <ActivityNode xsi:type="ConditionBranchNode">
            <Id>f5823092-afb0-431f-93c0-d1ef80c36467</Id>
            <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
            <DisplayName>If Execution Fails</DisplayName>
            <Children>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>0481c140-324e-4c5f-8be8-8e51ca590fd8</Id>
                <DisplayName>Find vCenter Target failed (5001)</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>34f4cb7f-9d24-421e-9c5d-8de0675719d7</Id>
                    <ActivityNodeId>0481c140-324e-4c5f-8be8-8e51ca590fd8</ActivityNodeId>
                    <CompletedId>edd19a2d-1806-419d-a9bd-c41181ab2e36</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                  <Id>0481c140-324e-4c5f-8be8-8e51ca590fd8</Id>
                  <DisplayName>Find vCenter Target failed (5001)</DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                  <Assignments>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableNumber">
                        <HardcodedValue>5001</HardcodedValue>
                      </NewValue>
                    </PropertyReferenceValuePair>
                  </Assignments>
                </Configuration>
              </ActivityNode>
              <ActivityNode xsi:type="CompletedNode">
                <Id>d686a99d-c017-4afe-9407-babb8e1370c2</Id>
                <Notes>Fail the entire process</Notes>
                <CompletedType>FailedNotCompleted</CompletedType>
                <ResultMessage>
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ErrorInformation</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>f653dca3-5848-402a-8cb6-88ef13ecb34c</ObjectId>
                      <ObjectType>ActivityInstance</ObjectType>
                    </VariableReference>
                  </References>
                </ResultMessage>
              </ActivityNode>
            </Children>
            <Condition>
              <Id>5baa4fb4-1145-4c74-86c5-27fbda159cd3</Id>
              <Conditions>
                <ConditionDefinition xsi:type="VariableConditionDefinition">
                  <Id>e84048a3-67dd-4ed1-90b1-2f224b3eba61</Id>
                  <Expression xsi:type="SubstitutableBoolean">
                    <HardcodedValue>true</HardcodedValue>
                  </Expression>
                  <Comparison>Equals</Comparison>
                  <VariableReference xsi:type="PropertyReference">
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>InstanceFailed</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>f653dca3-5848-402a-8cb6-88ef13ecb34c</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </ConditionDefinition>
              </Conditions>
            </Condition>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="BuiltinFindTargetsActivityConfiguration" xml:space="preserve">
          <Id>f653dca3-5848-402a-8cb6-88ef13ecb34c</Id>
          <DisplayName>Find vCenter Target</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
          <TargetTypeName>Tidal.Automation.VMware.Common.VCTargetConfiguration, Tidal.Automation.VMware.Common</TargetTypeName>
          <TargetTypeExtensionId>a7fc2f5a-1e30-7968-b60a-1860da88e13d</TargetTypeExtensionId>
          <TargetGroupId>1a480c45-36f4-4f1a-875f-857b866c5cba</TargetGroupId>
          <MatchingCriteria>
            <GenericCriteria xsi:type="GuidCriteria">
              <LinkChain>
                <Link xsi:type="PropertyNameLink">
                  <PropertyName>Id</PropertyName>
                </Link>
              </LinkChain>
              <MatchingGuid>
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.Read vCenter and Resource Pool.Result Table.First Row.PlatformElementID</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResultTable</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>FirstRow</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>PlatformElementID</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>eafb6697-6940-4f49-a3fa-24b0beacf1e9</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </MatchingGuid>
              <Comparison>Equals</Comparison>
            </GenericCriteria>
          </MatchingCriteria>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>ce3965ce-27c6-4b11-a246-2347b184ac82</Id>
        <DisplayName>Set vCenter information</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>d388d52c-1a6c-484a-970b-ff0e50f99f67</Id>
            <ActivityNodeId>ce3965ce-27c6-4b11-a246-2347b184ac82</ActivityNodeId>
            <CompletedId>52aec2a2-2353-416b-ab91-f956dcbb0c60</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="SetVariableActivityConfiguration" xml:space="preserve">
          <Id>ce3965ce-27c6-4b11-a246-2347b184ac82</Id>
          <DisplayName>Set vCenter information</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
          <VariableToSet>
            <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.LocationID</DisplayPath>
            <LinkChain>
              <Link xsi:type="PropertyNameLink">
                <PropertyName>ResolvedTarget</PropertyName>
              </Link>
              <Link xsi:type="ObjectReferenceLink">
                <ObjectLink>
                  <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                  <ObjectType>PropertyExtension</ObjectType>
                </ObjectLink>
              </Link>
            </LinkChain>
            <ObjectType>ProcessInstance</ObjectType>
          </VariableToSet>
          <NewValue xsi:type="SubstitutableObjectReference">
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Workflow.Find vCenter Target.Found Targets.First</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>GetAllFoundTargets</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>FirstItem</PropertyName>
                  </Link>
                </LinkChain>
                <ObjectId>f653dca3-5848-402a-8cb6-88ef13ecb34c</ObjectId>
                <ObjectType>ActivityInstance</ObjectType>
              </VariableReference>
            </References>
          </NewValue>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>f435c418-4c4d-4c06-a420-737dea48de47</Id>
        <DisplayName>Deploy vASA and Configure Params</DisplayName>
        <Children>
          <ActivityNode xsi:type="ConditionBranchNode">
            <Id>d504e9f2-6987-4a63-ae36-019b6c00c7b7</Id>
            <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
            <DisplayName>If Execution Fails</DisplayName>
            <Children>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>2147c564-67bd-44b4-9b2e-39e3483db0af</Id>
                <DisplayName>Deploy vASA and Configure Params failed (5003)</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>1e31d2ea-c6c2-498c-9321-538a75eb0ae9</Id>
                    <ActivityNodeId>2147c564-67bd-44b4-9b2e-39e3483db0af</ActivityNodeId>
                    <CompletedId>5c2a83eb-f4c7-4c6b-a562-e16074a8d25b</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                  <Id>2147c564-67bd-44b4-9b2e-39e3483db0af</Id>
                  <DisplayName>Deploy vASA and Configure Params failed (5003)</DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                  <Assignments>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableNumber">
                        <HardcodedValue>5003</HardcodedValue>
                      </NewValue>
                    </PropertyReferenceValuePair>
                  </Assignments>
                </Configuration>
              </ActivityNode>
              <ActivityNode xsi:type="CompletedNode">
                <Id>22c69640-11c8-4486-b40e-2ee7a0274012</Id>
                <Notes>Fail the entire process</Notes>
                <CompletedType>FailedNotCompleted</CompletedType>
                <ResultMessage>
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ErrorInformation</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>f435c418-4c4d-4c06-a420-737dea48de47</ObjectId>
                      <ObjectType>ActivityInstance</ObjectType>
                    </VariableReference>
                  </References>
                </ResultMessage>
              </ActivityNode>
            </Children>
            <Condition>
              <Id>5b7fe7af-7a6b-4d07-83e2-cab5262feb2c</Id>
              <Conditions>
                <ConditionDefinition xsi:type="VariableConditionDefinition">
                  <Id>d28b4a72-4fef-486d-b60a-481518d8bb54</Id>
                  <Expression xsi:type="SubstitutableBoolean">
                    <HardcodedValue>true</HardcodedValue>
                  </Expression>
                  <Comparison>Equals</Comparison>
                  <VariableReference xsi:type="PropertyReference">
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>InstanceFailed</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>f435c418-4c4d-4c06-a420-737dea48de47</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </ConditionDefinition>
              </Conditions>
            </Condition>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="WindowsPowerShellScriptActivityConfiguration" xml:space="preserve">
          <Id>f435c418-4c4d-4c06-a420-737dea48de47</Id>
          <DisplayName>Deploy vASA and Configure Params</DisplayName>
          <TargetLoadBalancer xsi:type="OrchestratorServerLoadBalancer">
            <TargetGroupId>bc5933b4-512f-46ce-86a9-3b40331ba395</TargetGroupId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
          <WorkingDirectory>
            <HardcodedValue />
          </WorkingDirectory>
          <FailReturnCodeNonZero>true</FailReturnCodeNonZero>
          <UseTaskScheduler>false</UseTaskScheduler>
          <TimeWindow>
            <Milliseconds>300000</Milliseconds>
            <Units>Minutes</Units>
          </TimeWindow>
          <Script>
            <HardcodedValue>param(
  [String]$vCenterServer
 ,[String]$vCenterPort
 ,[String]$vCenterProtocol
 ,[String]$vCenterUsername
 ,[String]$vCenterPassword
 ,[String]$vAppName
 ,[String]$resourcePool
 ,[String]$Datastore 
,[String]$vAppPropertyLabel_ManagementIpV4 
,[String]$newPropValue_ManagementIpV4_val 
,[String]$vAppPropertyLabel_ManagementIpV4Subnet 
,[String]$newPropValue_ManagementIpV4Subnet_val 
,[String]$vAppPropertyLabel_GatewayIpV4 
,[String]$newPropValue_GatewayIpV4_val 
,[String]$vAppPropertyLabel_VnmcIpV4
,[String]$newPropValue_VnmcIpV4_val 
,[String]$ovalocation
)

trap { 
#  "`nError Information`n=================`nCategory: {0}`nID: {2}`nType: {1}#`nMessage: {3}" -f
#  $_.CategoryInfo.Category, $_.Exception.GetType().FullName,
#  $_.FullyQualifiedErrorID, $_.Exception.Message
#  $_.ErrorDetails
#  $_
  $_.Exception.Message
  $LASTEXITCODE = 0
  $ERROR.clear()
  exit 9027
}

$ErrorActionPreference = "Stop"

Add-PSSnapin VMware.VimAutomation.Core

Connect-VIServer -Server $vCenterServer -Port $vCenterPort -Protocol $vCenterProtocol -User $vCenterUsername -Password $vCenterPassword -WarningAction SilentlyContinue | Out-Null

try{

function Get-InventoryPath {
    param ($Object)
    $foldermark = 0

    $Path = $Object.Name
    do {
      if ( $Object.Id -cmatch "(Folder|Resources)" ) {
        $Parent = (Get-Folder $Object).parent
      }
      else {
        $Parent = (Get-View  $Object).parent
        if ( $Parent -cmatch "(Folder|ResourcePool)" ) {
          $foldermark = 1
        }
        elseif ( $foldermark ) {
          # a non-folder just to the left of a folder:
          # remove the folder off the start of the path
          # this will also remove the Datacenters/
          $Path = ( $Path.split( '/', 2 ) )[-1]
          $foldermark = 0
        }
      }
      if ($Parent -ne $null) { 
        if ($Parent.Id -cmatch "Folder") {
          $Path = (Get-Folder $Parent).Name + "/" + $Path
        }
        else {
          $Path = (Get-View $Parent).Name + "/" + $Path
        }
        $Object = $Parent
      }
    } while ($Parent -ne $null)

    Write-Output $Path
  }

$rp = Get-ResourcePool -id $resourcePool
$cluster = $rp.ExtensionData.Owner
$vhost = (Get-Cluster -Id $cluster).ExtensionData.Host[0]
$VMHost = Get-VMHost -Id $vhost  
$ds = Get-Datastore -id $Datastore
$vms = Import-VApp -Source $ovalocation -Name $vAppName -Location $rp  -VMHost $VMHost -Datastore $ds

$vapp = Get-VM -Name $vAppName
$prop_mgmtipv4 = $vapp.ExtensionData.Config.VAppConfig.Property | where {$_.Label -eq $vAppPropertyLabel_ManagementIpV4}
$prop_mgmtipv4Subnet = $vapp.ExtensionData.Config.VAppConfig.Property | where {$_.Label -eq $vAppPropertyLabel_ManagementIpV4Subnet}
$prop_gatewayipv4 = $vapp.ExtensionData.Config.VAppConfig.Property | where {$_.Label -eq $vAppPropertyLabel_GatewayIpV4}
$prop_vnmcipv4 = $vapp.ExtensionData.Config.VAppConfig.Property | where {$_.Label -eq $vAppPropertyLabel_VnmcIpV4}



$vm = Get-VM $vAppName

$spec = New-Object VMware.Vim.VirtualMachineConfigSpec
$spec.VAppConfig = New-Object VMware.Vim.VmConfigSpec
$newProp = New-Object VMware.Vim.VAppPropertySpec
$info = New-Object VMware.Vim.VirtualMachineConfigInfo
$newProp.Operation = "edit"


$newProp.Info = $prop_mgmtipv4
$newProp.Info.Value = $newPropValue_ManagementIpV4_val
$spec.VAppConfig.Property += $newProp
$vm.ExtensionData.ReconfigVM($spec)

$newProp.Info = $prop_mgmtipv4Subnet
$newProp.Info.Value = $newPropValue_ManagementIpV4Subnet_val
$spec.VAppConfig.Property += $newProp
$vm.ExtensionData.ReconfigVM($spec)

$newProp.Info = $prop_gatewayipv4
$newProp.Info.Value = $newPropValue_GatewayIpV4_val
$spec.VAppConfig.Property += $newProp
$vm.ExtensionData.ReconfigVM($spec)

$newProp.Info = $prop_vnmcipv4
$newProp.Info.Value = $newPropValue_VnmcIpV4_val
$spec.VAppConfig.Property += $newProp
$vm.ExtensionData.ReconfigVM($spec)

#$vmStart = Start-Vm $vm
Write-Output '&lt;results&gt;'
 if ( $vm ) {
        Write-Output '&lt;row&gt;'
        [System.String]::Concat('    &lt;UniqueName&gt;',$vm.Id,'&lt;/UniqueName&gt;')
        [System.String]::Concat('    &lt;VMName&gt;',$vm.Name,'&lt;/VMName&gt;')
        [System.String]::Concat('    &lt;Moref&gt;',$vm.Id,'&lt;/Moref&gt;')
        [System.String]::Concat('&lt;VMFullPath&gt;',( Get-InventoryPath $vm ),'&lt;/VMFullPath&gt;')
		Write-Output '&lt;/row&gt;'
		}
Write-Output '&lt;/results&gt;'

}

finally {
  disconnect-VIServer -Confirm:$false
}
</HardcodedValue>
          </Script>
          <Arguments>
            <SubstitutableObject xsi:type="SubstitutableString">
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.VCenter.Virtual Center/ESX Server Name</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>ResolvedTarget</PropertyName>
                    </Link>
                    <Link xsi:type="ObjectReferenceLink">
                      <ObjectLink>
                        <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                        <ObjectType>PropertyExtension</ObjectType>
                      </ObjectLink>
                    </Link>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>GetReferencedObject</PropertyName>
                    </Link>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>VIServer</PropertyName>
                    </Link>
                  </LinkChain>
                  <ObjectType>ProcessInstance</ObjectType>
                </VariableReference>
              </References>
            </SubstitutableObject>
            <SubstitutableObject xsi:type="SubstitutableString">
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.VCenter.Virtual Center/ESX Server Service Port</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>ResolvedTarget</PropertyName>
                    </Link>
                    <Link xsi:type="ObjectReferenceLink">
                      <ObjectLink>
                        <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                        <ObjectType>PropertyExtension</ObjectType>
                      </ObjectLink>
                    </Link>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>GetReferencedObject</PropertyName>
                    </Link>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>VIPort</PropertyName>
                    </Link>
                  </LinkChain>
                  <ObjectType>ProcessInstance</ObjectType>
                </VariableReference>
              </References>
            </SubstitutableObject>
            <SubstitutableObject xsi:type="SubstitutableString">
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.VCenter.vSphere.PowerCLI.Protocol</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>ResolvedTarget</PropertyName>
                    </Link>
                    <Link xsi:type="ObjectReferenceLink">
                      <ObjectLink>
                        <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                        <ObjectType>PropertyExtension</ObjectType>
                      </ObjectLink>
                    </Link>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>GetReferencedObject</PropertyName>
                    </Link>
                    <Link xsi:type="ObjectReferenceLink">
                      <ObjectLink>
                        <Id>66e4ade1-88c5-406f-b6d6-835f9492f53e</Id>
                        <ObjectType>PropertyExtension</ObjectType>
                      </ObjectLink>
                    </Link>
                  </LinkChain>
                  <ObjectType>ProcessInstance</ObjectType>
                </VariableReference>
              </References>
            </SubstitutableObject>
            <SubstitutableObject xsi:type="SubstitutableString">
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.VCenter.vSphere.PowerCLI.User</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>ResolvedTarget</PropertyName>
                    </Link>
                    <Link xsi:type="ObjectReferenceLink">
                      <ObjectLink>
                        <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                        <ObjectType>PropertyExtension</ObjectType>
                      </ObjectLink>
                    </Link>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>GetReferencedObject</PropertyName>
                    </Link>
                    <Link xsi:type="ObjectReferenceLink">
                      <ObjectLink>
                        <Id>88419c62-0274-4851-b74a-cafd84acd332</Id>
                        <ObjectType>PropertyExtension</ObjectType>
                      </ObjectLink>
                    </Link>
                  </LinkChain>
                  <ObjectType>ProcessInstance</ObjectType>
                </VariableReference>
              </References>
            </SubstitutableObject>
            <SubstitutableObject xsi:type="SubstitutableEncryptedString">
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.VCenter.vSphere.PowerCLI.Password</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>ResolvedTarget</PropertyName>
                    </Link>
                    <Link xsi:type="ObjectReferenceLink">
                      <ObjectLink>
                        <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                        <ObjectType>PropertyExtension</ObjectType>
                      </ObjectLink>
                    </Link>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>GetReferencedObject</PropertyName>
                    </Link>
                    <Link xsi:type="ObjectReferenceLink">
                      <ObjectLink>
                        <Id>be861155-a06b-4488-ade5-78daa2e6029f</Id>
                        <ObjectType>PropertyExtension</ObjectType>
                      </ObjectLink>
                    </Link>
                  </LinkChain>
                  <ObjectType>ProcessInstance</ObjectType>
                </VariableReference>
              </References>
            </SubstitutableObject>
            <SubstitutableObject xsi:type="SubstitutableString">
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Variables.Input.vASAName</DisplayPath>
                  <LinkChain />
                  <ObjectId>3919c8ab-b5bb-43d9-8af3-be09064cc9e7</ObjectId>
                  <ObjectType>GlobalVariable</ObjectType>
                </VariableReference>
              </References>
            </SubstitutableObject>
            <SubstitutableObject xsi:type="SubstitutableString">
              <FormattedCode>ResourcePool-{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Workflow.Read vCenter and Resource Pool.Result Table.First Row.MORef</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>ResultTable</PropertyName>
                    </Link>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>FirstRow</PropertyName>
                    </Link>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>MORef</PropertyName>
                    </Link>
                  </LinkChain>
                  <ObjectId>eafb6697-6940-4f49-a3fa-24b0beacf1e9</ObjectId>
                  <ObjectType>ActivityInstance</ObjectType>
                </VariableReference>
              </References>
            </SubstitutableObject>
            <SubstitutableObject xsi:type="SubstitutableString">
              <FormattedCode>Datastore-{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Workflow.Read Datastore.Result Table.First Row.MORef</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>ResultTable</PropertyName>
                    </Link>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>FirstRow</PropertyName>
                    </Link>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>MORef</PropertyName>
                    </Link>
                  </LinkChain>
                  <ObjectId>ede8a3ba-0e13-4d20-a664-48158c7e648e</ObjectId>
                  <ObjectType>ActivityInstance</ObjectType>
                </VariableReference>
              </References>
            </SubstitutableObject>
            <SubstitutableObject xsi:type="SubstitutableString">
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Variables.Input.ManagementIpV4_ Label</DisplayPath>
                  <LinkChain />
                  <ObjectId>b2fa3903-3b12-4700-9f1f-7fb263c7eb18</ObjectId>
                  <ObjectType>GlobalVariable</ObjectType>
                </VariableReference>
              </References>
            </SubstitutableObject>
            <SubstitutableObject xsi:type="SubstitutableString">
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Target.Cloud.Service.Server.Networks.First Row.IP Address</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>ResolvedTarget</PropertyName>
                    </Link>
                    <Link xsi:type="ObjectReferenceLink">
                      <ObjectLink>
                        <Id>c8314a62-d2a8-4e09-8632-55e0c77d7f20</Id>
                        <ObjectType>PropertyExtension</ObjectType>
                      </ObjectLink>
                    </Link>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>FirstRow</PropertyName>
                    </Link>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>IP Address</PropertyName>
                    </Link>
                  </LinkChain>
                  <ObjectType>ProcessInstance</ObjectType>
                </VariableReference>
              </References>
            </SubstitutableObject>
            <SubstitutableObject xsi:type="SubstitutableString">
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Variables.Input.ManagementIpV4Subnet_Label</DisplayPath>
                  <LinkChain />
                  <ObjectId>29fe4097-3ae7-4b45-bc3a-728ae5ce4d9d</ObjectId>
                  <ObjectType>GlobalVariable</ObjectType>
                </VariableReference>
              </References>
            </SubstitutableObject>
            <SubstitutableObject xsi:type="SubstitutableString">
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Target.Cloud.Service.Server.Networks.First Row.Netmask</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>ResolvedTarget</PropertyName>
                    </Link>
                    <Link xsi:type="ObjectReferenceLink">
                      <ObjectLink>
                        <Id>c8314a62-d2a8-4e09-8632-55e0c77d7f20</Id>
                        <ObjectType>PropertyExtension</ObjectType>
                      </ObjectLink>
                    </Link>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>FirstRow</PropertyName>
                    </Link>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>Netmask</PropertyName>
                    </Link>
                  </LinkChain>
                  <ObjectType>ProcessInstance</ObjectType>
                </VariableReference>
              </References>
            </SubstitutableObject>
            <SubstitutableObject xsi:type="SubstitutableString">
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Variables.Input.GatewayIpV4_Label</DisplayPath>
                  <LinkChain />
                  <ObjectId>4389475d-6e6f-4000-bd51-73da70bafc12</ObjectId>
                  <ObjectType>GlobalVariable</ObjectType>
                </VariableReference>
              </References>
            </SubstitutableObject>
            <SubstitutableObject xsi:type="SubstitutableString">
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Target.Cloud.Service.Server.Networks.First Row.Gateway</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>ResolvedTarget</PropertyName>
                    </Link>
                    <Link xsi:type="ObjectReferenceLink">
                      <ObjectLink>
                        <Id>c8314a62-d2a8-4e09-8632-55e0c77d7f20</Id>
                        <ObjectType>PropertyExtension</ObjectType>
                      </ObjectLink>
                    </Link>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>FirstRow</PropertyName>
                    </Link>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>Gateway</PropertyName>
                    </Link>
                  </LinkChain>
                  <ObjectType>ProcessInstance</ObjectType>
                </VariableReference>
              </References>
            </SubstitutableObject>
            <SubstitutableObject xsi:type="SubstitutableString">
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Variables.Input.VnmcIpV4_Label</DisplayPath>
                  <LinkChain />
                  <ObjectId>a9212dc3-1372-42ce-af29-a11d823e017a</ObjectId>
                  <ObjectType>GlobalVariable</ObjectType>
                </VariableReference>
              </References>
            </SubstitutableObject>
            <SubstitutableObject xsi:type="SubstitutableString">
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Variables.Input.VNMC IP Address</DisplayPath>
                  <LinkChain />
                  <ObjectId>6bee2769-e97e-435b-be63-682acd6a916c</ObjectId>
                  <ObjectType>GlobalVariable</ObjectType>
                </VariableReference>
              </References>
            </SubstitutableObject>
            <SubstitutableObject xsi:type="SubstitutableString">
              <FormattedCode>{0}/{1}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Global Variables.Cloud Repository</DisplayPath>
                  <LinkChain />
                  <ObjectId>b096d3da-1dd8-49fa-9097-327ff4bf0232</ObjectId>
                  <ObjectType>GlobalVariable</ObjectType>
                </VariableReference>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Global Variables.Network Provisioning Settings.First Row.ASA OVA</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>FirstRow</PropertyName>
                    </Link>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>ASA OVA</PropertyName>
                    </Link>
                  </LinkChain>
                  <ObjectId>e0d8e2db-8047-4fad-8844-565e317823b9</ObjectId>
                  <ObjectType>GlobalVariable</ObjectType>
                </VariableReference>
              </References>
            </SubstitutableObject>
          </Arguments>
          <Use32BitPowerShell>false</Use32BitPowerShell>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ConditionBranchNode">
        <Id>c687895a-fa97-4c43-8b0f-67574baee45b</Id>
        <DisplayName>Handle Exception</DisplayName>
        <Children>
          <ActivityNode xsi:type="CompletedNode">
            <Id>d7ffa51d-993c-4da4-a799-12d257a5a9c5</Id>
            <CompletedType>Failed</CompletedType>
            <ResultMessage>
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Workflow.Deploy vASA and Configure Params.Output</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>Output</PropertyName>
                    </Link>
                  </LinkChain>
                  <ObjectId>f435c418-4c4d-4c06-a420-737dea48de47</ObjectId>
                  <ObjectType>ActivityInstance</ObjectType>
                </VariableReference>
              </References>
            </ResultMessage>
          </ActivityNode>
        </Children>
        <Condition>
          <Id>2fafbb30-4bed-4b1d-9283-73adfb1f98ba</Id>
          <Conditions>
            <ConditionDefinition xsi:type="VariableConditionDefinition">
              <Id>bbc55c0d-9a4b-4189-aa57-9e75097c6fee</Id>
              <Expression xsi:type="SubstitutableWildcard">
                <HardcodedValue>*Error Information*</HardcodedValue>
              </Expression>
              <Comparison>Wildcard</Comparison>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Workflow.Deploy vASA and Configure Params.Output</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>Output</PropertyName>
                  </Link>
                </LinkChain>
                <ObjectId>f435c418-4c4d-4c06-a420-737dea48de47</ObjectId>
                <ObjectType>ActivityInstance</ObjectType>
              </VariableReference>
            </ConditionDefinition>
            <ConditionDefinition xsi:type="VariableConditionDefinition">
              <Id>c3b3550e-f604-4e43-a101-f226755bdc06</Id>
              <Expression xsi:type="SubstitutableWildcard">
                <HardcodedValue>*Category:*</HardcodedValue>
              </Expression>
              <Comparison>Wildcard</Comparison>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Workflow.Deploy vASA and Configure Params.Output</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>Output</PropertyName>
                  </Link>
                </LinkChain>
                <ObjectId>f435c418-4c4d-4c06-a420-737dea48de47</ObjectId>
                <ObjectType>ActivityInstance</ObjectType>
              </VariableReference>
            </ConditionDefinition>
          </Conditions>
        </Condition>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>2be94cee-2d99-4fb6-bf75-6e78d7630e24</Id>
        <DisplayName>Set Powercli XML</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>f569c3db-1a7e-4406-8993-f97c4189f8ea</Id>
            <ActivityNodeId>2be94cee-2d99-4fb6-bf75-6e78d7630e24</ActivityNodeId>
            <CompletedId>b6eddf9b-b0da-492e-92db-229bb9bff887</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="SetVariableActivityConfiguration" xml:space="preserve">
          <Id>2be94cee-2d99-4fb6-bf75-6e78d7630e24</Id>
          <DisplayName>Set Powercli XML</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
          <VariableToSet>
            <DisplayPath>Process.Variables.Local.powercli output xml</DisplayPath>
            <LinkChain />
            <ObjectId>39d44f9e-0078-4876-a0fc-066f66d37d12</ObjectId>
            <ObjectType>GlobalVariable</ObjectType>
          </VariableToSet>
          <NewValue xsi:type="SubstitutableString">
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Workflow.Deploy vASA and Configure Params.Output</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>Output</PropertyName>
                  </Link>
                </LinkChain>
                <ObjectId>f435c418-4c4d-4c06-a420-737dea48de47</ObjectId>
                <ObjectType>ActivityInstance</ObjectType>
              </VariableReference>
            </References>
          </NewValue>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>8ee30969-45a8-4eb4-bf05-d9e855acfa6a</Id>
        <DisplayName>Read Table from XML</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>6c5047c4-0826-4883-b503-bf2f526d6054</Id>
            <ActivityNodeId>8ee30969-45a8-4eb4-bf05-d9e855acfa6a</ActivityNodeId>
            <CompletedId>38773def-3005-4c6b-b465-475e2ee67074</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="ReadTableFromXmlActivityConfiguration" xml:space="preserve">
          <Id>8ee30969-45a8-4eb4-bf05-d9e855acfa6a</Id>
          <DisplayName>Read Table from XML</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
          <Columns>
            <BuiltinTableColumn>
              <Name>Moref</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>VMFullPath</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
          </Columns>
          <XmlRowElementName>
            <HardcodedValue>row</HardcodedValue>
          </XmlRowElementName>
          <XmlString>
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Process.Variables.Local.powercli output xml</DisplayPath>
                <LinkChain />
                <ObjectId>39d44f9e-0078-4876-a0fc-066f66d37d12</ObjectId>
                <ObjectType>GlobalVariable</ObjectType>
              </VariableReference>
            </References>
          </XmlString>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>a34392f9-f5c7-4e09-bffc-d11324ff57c9</Id>
        <DisplayName>Set VM Fullpath</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>76e519dc-ce29-4ee2-8df5-b4244e88481a</Id>
            <ActivityNodeId>a34392f9-f5c7-4e09-bffc-d11324ff57c9</ActivityNodeId>
            <CompletedId>43f45524-d131-4647-91c2-658ada6e6658</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="SetVariableActivityConfiguration" xml:space="preserve">
          <Id>a34392f9-f5c7-4e09-bffc-d11324ff57c9</Id>
          <DisplayName>Set VM Fullpath</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
          <VariableToSet>
            <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
            <LinkChain>
              <Link xsi:type="PropertyNameLink">
                <PropertyName>ResolvedTarget</PropertyName>
              </Link>
              <Link xsi:type="ObjectReferenceLink">
                <ObjectLink>
                  <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                  <ObjectType>PropertyExtension</ObjectType>
                </ObjectLink>
              </Link>
            </LinkChain>
            <ObjectType>ProcessInstance</ObjectType>
          </VariableToSet>
          <NewValue xsi:type="SubstitutableString">
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Workflow.Read Table from XML.Result Table.First Row.VMFullPath</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>ResultTable</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>FirstRow</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>VMFullPath</PropertyName>
                  </Link>
                </LinkChain>
                <ObjectId>8ee30969-45a8-4eb4-bf05-d9e855acfa6a</ObjectId>
                <ObjectType>ActivityInstance</ObjectType>
              </VariableReference>
            </References>
          </NewValue>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>a9210916-8200-432f-bd3b-0a80df0bc148</Id>
        <DisplayName>Query VMs</DisplayName>
        <Children>
          <ActivityNode xsi:type="ConditionBranchNode">
            <Id>8a869dc2-1004-40a6-a96f-4b494b85f0a8</Id>
            <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
            <DisplayName>If Execution Fails</DisplayName>
            <Children>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>ee2341df-5074-4792-b500-e428cffcbafc</Id>
                <DisplayName>Query VMs failed (9014)</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>bc1a2e7a-668f-468a-b0e0-99cd3d0da48b</Id>
                    <ActivityNodeId>ee2341df-5074-4792-b500-e428cffcbafc</ActivityNodeId>
                    <CompletedId>9a55976e-e8ae-4976-8cee-8d1ecad25ed8</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                  <Id>ee2341df-5074-4792-b500-e428cffcbafc</Id>
                  <DisplayName>Query VMs failed (9014)</DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                  <Assignments>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableNumber">
                        <HardcodedValue>9014</HardcodedValue>
                      </NewValue>
                    </PropertyReferenceValuePair>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorDescription</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>05385a56-169a-4946-9e3e-8de36ceaa838</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableString">
                        <FormattedCode>Failed to query VM:
{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResolvedTarget</PropertyName>
                              </Link>
                              <Link xsi:type="ObjectReferenceLink">
                                <ObjectLink>
                                  <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                  <ObjectType>PropertyExtension</ObjectType>
                                </ObjectLink>
                              </Link>
                            </LinkChain>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableReference>
                        </References>
                      </NewValue>
                    </PropertyReferenceValuePair>
                  </Assignments>
                </Configuration>
              </ActivityNode>
              <ActivityNode xsi:type="CompletedNode">
                <Id>ecbc2e5d-9dfe-4414-b508-7aaeb3172ea9</Id>
                <Notes>Fail the entire process</Notes>
                <CompletedType>FailedNotCompleted</CompletedType>
                <ResultMessage>
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ErrorInformation</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>a9210916-8200-432f-bd3b-0a80df0bc148</ObjectId>
                      <ObjectType>ActivityInstance</ObjectType>
                    </VariableReference>
                  </References>
                </ResultMessage>
              </ActivityNode>
            </Children>
            <Condition>
              <Id>2af4d699-41c3-4b84-a191-0cdd96ec761d</Id>
              <Conditions>
                <ConditionDefinition xsi:type="VariableConditionDefinition">
                  <Id>5f72eb84-e6ff-4606-a270-c42dcd659b71</Id>
                  <Expression xsi:type="SubstitutableBoolean">
                    <HardcodedValue>true</HardcodedValue>
                  </Expression>
                  <Comparison>Equals</Comparison>
                  <VariableReference xsi:type="PropertyReference">
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>InstanceFailed</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>a9210916-8200-432f-bd3b-0a80df0bc148</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </ConditionDefinition>
              </Conditions>
            </Condition>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="VMwareQueryVMsActivityConfiguration" xml:space="preserve">
          <Id>a9210916-8200-432f-bd3b-0a80df0bc148</Id>
          <DisplayName>Query VMs</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
            <SingleTargetReference>
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.VCenter</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>ResolvedTarget</PropertyName>
                    </Link>
                    <Link xsi:type="ObjectReferenceLink">
                      <ObjectLink>
                        <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                        <ObjectType>PropertyExtension</ObjectType>
                      </ObjectLink>
                    </Link>
                  </LinkChain>
                  <ObjectType>ProcessInstance</ObjectType>
                </VariableReference>
              </References>
            </SingleTargetReference>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
          <VTask>
            <MainText>Query VMs</MainText>
          </VTask>
          <TimeOutPeriod>
            <DisplayUnits>Minutes</DisplayUnits>
            <Period>
              <HardcodedValue>5</HardcodedValue>
            </Period>
          </TimeOutPeriod>
          <HostName>
            <HardcodedValue>*</HardcodedValue>
          </HostName>
          <VirtualMachineName>
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Workflow.Read Table from XML.Result Table.First Row.VMFullPath</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>ResultTable</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>FirstRow</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>VMFullPath</PropertyName>
                  </Link>
                </LinkChain>
                <ObjectId>8ee30969-45a8-4eb4-bf05-d9e855acfa6a</ObjectId>
                <ObjectType>ActivityInstance</ObjectType>
              </VariableReference>
            </References>
          </VirtualMachineName>
          <DatacenterName>
            <HardcodedValue>*</HardcodedValue>
          </DatacenterName>
          <VMFilter>VirtualMachines</VMFilter>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>c086cb0c-d623-47f8-85ff-1c1e48d838e4</Id>
        <DisplayName>Set Current Power State</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>8f59e141-491a-492e-95c5-58f803ed87d4</Id>
            <ActivityNodeId>c086cb0c-d623-47f8-85ff-1c1e48d838e4</ActivityNodeId>
            <CompletedId>d1d8fee1-1a2a-4a76-a659-1958af18fb35</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="SetVariableActivityConfiguration" xml:space="preserve">
          <Id>c086cb0c-d623-47f8-85ff-1c1e48d838e4</Id>
          <DisplayName>Set Current Power State</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
          <VariableToSet>
            <DisplayPath>Process.Variables.Local.Current Power State</DisplayPath>
            <LinkChain />
            <ObjectId>85609cab-1ffc-4e8b-b86f-c4b5c8c03c8f</ObjectId>
            <ObjectType>GlobalVariable</ObjectType>
          </VariableToSet>
          <NewValue xsi:type="SubstitutableString">
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Workflow.Query VMs.Virtual Machines.First Row.State</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>VirtualMachines</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>FirstRow</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>State</PropertyName>
                  </Link>
                </LinkChain>
                <ObjectId>a9210916-8200-432f-bd3b-0a80df0bc148</ObjectId>
                <ObjectType>ActivityInstance</ObjectType>
              </VariableReference>
            </References>
          </NewValue>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>f1d9413d-6d3b-4675-84c9-483e08ed9d62</Id>
        <DisplayName>Query VM Properties</DisplayName>
        <Children>
          <ActivityNode xsi:type="ConditionBranchNode">
            <Id>88ecfe90-eb5c-41c2-b99a-a8823d39a44e</Id>
            <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
            <DisplayName>If Execution Fails</DisplayName>
            <Children>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>89fdf113-2fe6-4e69-979e-4049046ad932</Id>
                <DisplayName>Query VM Properties failed (9012)</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>3e450752-a1f5-45c7-9b94-5b58fb9bbbcc</Id>
                    <ActivityNodeId>89fdf113-2fe6-4e69-979e-4049046ad932</ActivityNodeId>
                    <CompletedId>24c6c87a-c6b5-4752-8a59-08b4d0ce9684</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                  <Id>89fdf113-2fe6-4e69-979e-4049046ad932</Id>
                  <DisplayName>Query VM Properties failed (9012)</DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                  <Assignments>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableNumber">
                        <HardcodedValue>9012</HardcodedValue>
                      </NewValue>
                    </PropertyReferenceValuePair>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorDescription</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>05385a56-169a-4946-9e3e-8de36ceaa838</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableString">
                        <FormattedCode>Failed to query VM properties:
{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResolvedTarget</PropertyName>
                              </Link>
                              <Link xsi:type="ObjectReferenceLink">
                                <ObjectLink>
                                  <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                  <ObjectType>PropertyExtension</ObjectType>
                                </ObjectLink>
                              </Link>
                            </LinkChain>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableReference>
                        </References>
                      </NewValue>
                    </PropertyReferenceValuePair>
                  </Assignments>
                </Configuration>
              </ActivityNode>
              <ActivityNode xsi:type="CompletedNode">
                <Id>721500ae-b051-4095-b268-4e8873beec14</Id>
                <Notes>Fail the entire process</Notes>
                <CompletedType>FailedNotCompleted</CompletedType>
                <ResultMessage>
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Workflow.Query VM Properties.Error Information</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ErrorInformation</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>f1d9413d-6d3b-4675-84c9-483e08ed9d62</ObjectId>
                      <ObjectType>ActivityInstance</ObjectType>
                    </VariableReference>
                  </References>
                </ResultMessage>
              </ActivityNode>
            </Children>
            <Condition>
              <Id>0ebb561e-cb06-4870-8a26-6431462fb34e</Id>
              <Conditions>
                <ConditionDefinition xsi:type="VariableConditionDefinition">
                  <Id>cc68a6d8-4acb-4269-aaa4-e3591ec15ed7</Id>
                  <Expression xsi:type="SubstitutableBoolean">
                    <HardcodedValue>true</HardcodedValue>
                  </Expression>
                  <Comparison>Equals</Comparison>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.Query VM Properties.Instance Failed</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>InstanceFailed</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>f1d9413d-6d3b-4675-84c9-483e08ed9d62</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </ConditionDefinition>
              </Conditions>
            </Condition>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="VMQueryPropertiesActivityConfiguration" xml:space="preserve">
          <Id>f1d9413d-6d3b-4675-84c9-483e08ed9d62</Id>
          <DisplayName>Query VM Properties</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
            <SingleTargetReference>
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.VCenter</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>ResolvedTarget</PropertyName>
                    </Link>
                    <Link xsi:type="ObjectReferenceLink">
                      <ObjectLink>
                        <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                        <ObjectType>PropertyExtension</ObjectType>
                      </ObjectLink>
                    </Link>
                  </LinkChain>
                  <ObjectType>ProcessInstance</ObjectType>
                </VariableReference>
              </References>
            </SingleTargetReference>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
          <VTask xsi:type="VTaskAttrPower">
            <MainText>Query Virtual Machine Properties</MainText>
            <Skip>true</Skip>
          </VTask>
          <TimeOutPeriod>
            <DisplayUnits>Minutes</DisplayUnits>
            <Period>
              <HardcodedValue>20</HardcodedValue>
            </Period>
          </TimeOutPeriod>
          <VName>
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Workflow.Read Table from XML.Result Table.First Row.VMFullPath</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>ResultTable</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>FirstRow</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>VMFullPath</PropertyName>
                  </Link>
                </LinkChain>
                <ObjectId>8ee30969-45a8-4eb4-bf05-d9e855acfa6a</ObjectId>
                <ObjectType>ActivityInstance</ObjectType>
              </VariableReference>
            </References>
          </VName>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>99ed70bf-7706-4168-b36a-20eefba69bd1</Id>
        <DisplayName>Query VM Network Adapters</DisplayName>
        <Children>
          <ActivityNode xsi:type="ConditionBranchNode">
            <Id>37cdbb3a-8bf3-4837-8bc1-5cd8a1c81f39</Id>
            <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
            <DisplayName>If Execution Fails</DisplayName>
            <Children>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>bf45ba55-2cee-4417-8532-7c3f52a9b590</Id>
                <DisplayName>Query VM Properties failed (9007)</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>8e65a3c5-3cb7-49f2-b07b-42067d1363b2</Id>
                    <ActivityNodeId>bf45ba55-2cee-4417-8532-7c3f52a9b590</ActivityNodeId>
                    <CompletedId>3102aaf4-2cb2-4f1a-a270-c1151ec114d9</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                  <Id>bf45ba55-2cee-4417-8532-7c3f52a9b590</Id>
                  <DisplayName>Query VM Properties failed (9007)</DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                  <Assignments>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableNumber">
                        <HardcodedValue>9007</HardcodedValue>
                      </NewValue>
                    </PropertyReferenceValuePair>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorDescription</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>05385a56-169a-4946-9e3e-8de36ceaa838</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableString">
                        <FormattedCode>Failed to query VM network adapters:
{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResolvedTarget</PropertyName>
                              </Link>
                              <Link xsi:type="ObjectReferenceLink">
                                <ObjectLink>
                                  <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                  <ObjectType>PropertyExtension</ObjectType>
                                </ObjectLink>
                              </Link>
                            </LinkChain>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableReference>
                        </References>
                      </NewValue>
                    </PropertyReferenceValuePair>
                  </Assignments>
                </Configuration>
              </ActivityNode>
              <ActivityNode xsi:type="CompletedNode">
                <Id>8776c0a7-cee2-44ba-a51b-49488ffb60ab</Id>
                <Notes>Fail the entire process</Notes>
                <CompletedType>FailedNotCompleted</CompletedType>
                <ResultMessage>
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Workflow.Query VM Network Adapters.Error Information</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ErrorInformation</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>99ed70bf-7706-4168-b36a-20eefba69bd1</ObjectId>
                      <ObjectType>ActivityInstance</ObjectType>
                    </VariableReference>
                  </References>
                </ResultMessage>
              </ActivityNode>
            </Children>
            <Condition>
              <Id>3547406a-c2fc-4017-b32d-363bf44ae826</Id>
              <Conditions>
                <ConditionDefinition xsi:type="VariableConditionDefinition">
                  <Id>268981c9-ed45-49a7-ac1d-ca7428d2efee</Id>
                  <Expression xsi:type="SubstitutableBoolean">
                    <HardcodedValue>true</HardcodedValue>
                  </Expression>
                  <Comparison>Equals</Comparison>
                  <VariableReference xsi:type="PropertyReference">
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>InstanceFailed</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>99ed70bf-7706-4168-b36a-20eefba69bd1</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </ConditionDefinition>
              </Conditions>
            </Condition>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="QueryVMNetworkAdaptersActivityConfiguration" xml:space="preserve">
          <Id>99ed70bf-7706-4168-b36a-20eefba69bd1</Id>
          <DisplayName>Query VM Network Adapters</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
            <SingleTargetReference>
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.VCenter</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>ResolvedTarget</PropertyName>
                    </Link>
                    <Link xsi:type="ObjectReferenceLink">
                      <ObjectLink>
                        <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                        <ObjectType>PropertyExtension</ObjectType>
                      </ObjectLink>
                    </Link>
                  </LinkChain>
                  <ObjectType>ProcessInstance</ObjectType>
                </VariableReference>
              </References>
            </SingleTargetReference>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
          <VTask>
            <MainText>Query VM Network Adapters</MainText>
          </VTask>
          <TimeOutPeriod>
            <DisplayUnits>Minutes</DisplayUnits>
            <Period>
              <HardcodedValue>20</HardcodedValue>
            </Period>
          </TimeOutPeriod>
          <VirtualMachineName>
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Workflow.Read Table from XML.Result Table.First Row.VMFullPath</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>ResultTable</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>FirstRow</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>VMFullPath</PropertyName>
                  </Link>
                </LinkChain>
                <ObjectId>8ee30969-45a8-4eb4-bf05-d9e855acfa6a</ObjectId>
                <ObjectType>ActivityInstance</ObjectType>
              </VariableReference>
            </References>
          </VirtualMachineName>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>3a1b368f-9a0d-45a9-a6f5-85d23d3ee21d</Id>
        <DisplayName>Select VM Network Adapters</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>460c647c-dd5a-4f42-8fa0-16a7e882cef6</Id>
            <ActivityNodeId>3a1b368f-9a0d-45a9-a6f5-85d23d3ee21d</ActivityNodeId>
            <CompletedId>de2a7538-233f-4479-b60b-5d05f3184b4c</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="ExtractTableActivityConfiguration" xml:space="preserve">
          <Id>3a1b368f-9a0d-45a9-a6f5-85d23d3ee21d</Id>
          <DisplayName>Select VM Network Adapters</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
          <Columns>
            <BuiltinTableColumn>
              <Name>Hardware</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>Summary</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>Adapter Type</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>Connected</Name>
              <DataType>System.Boolean</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>Connect On Power On</Name>
              <DataType>System.Boolean</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>MAC Address</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>MAC Address Type</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>Network Label</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>Network Port</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
          </Columns>
          <SourceTable xsi:type="PropertyReference">
            <DisplayPath>Workflow.Query VM Network Adapters.Network Adapters Table</DisplayPath>
            <LinkChain>
              <Link xsi:type="PropertyNameLink">
                <PropertyName>NetworkAdaptersTable</PropertyName>
              </Link>
            </LinkChain>
            <ObjectId>99ed70bf-7706-4168-b36a-20eefba69bd1</ObjectId>
            <ObjectType>ActivityInstance</ObjectType>
          </SourceTable>
          <WhereClause>
            <HardcodedValue />
          </WhereClause>
          <SortColumn />
          <SortOrder>Ascending</SortOrder>
          <MaxRows>
            <HardcodedValue>2</HardcodedValue>
          </MaxRows>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ForEachNode">
        <Id>21547374-ee9e-4e15-89dc-8da16b8e97c4</Id>
        <DisplayName>For Each Block</DisplayName>
        <Children>
          <ActivityNode xsi:type="ConditionBranchNode">
            <Id>d62949fd-60ea-4a8d-b3e1-78d2574a7635</Id>
            <DisplayName>If Management Network defined </DisplayName>
            <Children>
              <ActivityNode xsi:type="SwitchNode">
                <Id>b16d207b-ee06-4840-b933-e6e95aa64eb2</Id>
                <DisplayName />
                <Children>
                  <ActivityNode xsi:type="ConditionBranchNode">
                    <Id>f37d4c34-cbe2-441c-82fc-ff8872b4886f</Id>
                    <DisplayName>and NIC is present</DisplayName>
                    <Children>
                      <ActivityNode xsi:type="ExecuteActivityNode">
                        <Id>d9a65e38-4e36-4950-9e47-c008b70522c0</Id>
                        <DisplayName>Set Management Network</DisplayName>
                        <Children>
                          <ActivityNode xsi:type="ConditionBranchNode">
                            <Id>8fba2cef-4f76-4f38-bd18-4d4422747927</Id>
                            <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
                            <DisplayName>If Execution Fails</DisplayName>
                            <Children>
                              <ActivityNode xsi:type="ExecuteActivityNode">
                                <Id>e8c56d8a-30e4-46a2-b398-9e479f427786</Id>
                                <DisplayName>Failed To Update VM Network Adapter - Public (9004)</DisplayName>
                                <Children>
                                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                                    <Id>82e1db1c-e819-4f47-824c-395ff7bfc43a</Id>
                                    <ActivityNodeId>e8c56d8a-30e4-46a2-b398-9e479f427786</ActivityNodeId>
                                    <CompletedId>5d9f45f8-0734-4c4f-98af-d6096ada56e4</CompletedId>
                                  </ActivityNode>
                                </Children>
                                <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                                  <Id>e8c56d8a-30e4-46a2-b398-9e479f427786</Id>
                                  <DisplayName>Failed To Update VM Network Adapter - Public (9004)</DisplayName>
                                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                                    <SingleTargetId>
                                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                                    </SingleTargetId>
                                  </TargetLoadBalancer>
                                  <InheritTarget>false</InheritTarget>
                                  <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                                  <Assignments>
                                    <PropertyReferenceValuePair>
                                      <VariableToSet>
                                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                                        <LinkChain>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>ResolvedTarget</PropertyName>
                                          </Link>
                                          <Link xsi:type="ObjectReferenceLink">
                                            <ObjectLink>
                                              <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                                              <ObjectType>PropertyExtension</ObjectType>
                                            </ObjectLink>
                                          </Link>
                                        </LinkChain>
                                        <ObjectType>ProcessInstance</ObjectType>
                                      </VariableToSet>
                                      <NewValue xsi:type="SubstitutableNumber">
                                        <HardcodedValue>9004</HardcodedValue>
                                      </NewValue>
                                    </PropertyReferenceValuePair>
                                    <PropertyReferenceValuePair>
                                      <VariableToSet>
                                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorDescription</DisplayPath>
                                        <LinkChain>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>ResolvedTarget</PropertyName>
                                          </Link>
                                          <Link xsi:type="ObjectReferenceLink">
                                            <ObjectLink>
                                              <Id>05385a56-169a-4946-9e3e-8de36ceaa838</Id>
                                              <ObjectType>PropertyExtension</ObjectType>
                                            </ObjectLink>
                                          </Link>
                                        </LinkChain>
                                        <ObjectType>ProcessInstance</ObjectType>
                                      </VariableToSet>
                                      <NewValue xsi:type="SubstitutableString">
                                        <FormattedCode>Failed To Update VM Network Adapter - Public:
Virtual Machine:
{0}

Network Adapter:
{1}

Network:
{2}

</FormattedCode>
                                        <References>
                                          <VariableReference xsi:type="PropertyReference">
                                            <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                                            <LinkChain>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>ResolvedTarget</PropertyName>
                                              </Link>
                                              <Link xsi:type="ObjectReferenceLink">
                                                <ObjectLink>
                                                  <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                                  <ObjectType>PropertyExtension</ObjectType>
                                                </ObjectLink>
                                              </Link>
                                            </LinkChain>
                                            <ObjectType>ProcessInstance</ObjectType>
                                          </VariableReference>
                                          <VariableReference xsi:type="PropertyReference">
                                            <DisplayPath>Workflow.Select VM Network Adapters.Result Table.First Row.Hardware</DisplayPath>
                                            <LinkChain>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>ResultTable</PropertyName>
                                              </Link>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>FirstRow</PropertyName>
                                              </Link>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>Hardware</PropertyName>
                                              </Link>
                                            </LinkChain>
                                            <ObjectId>3a1b368f-9a0d-45a9-a6f5-85d23d3ee21d</ObjectId>
                                            <ObjectType>ActivityInstance</ObjectType>
                                          </VariableReference>
                                          <VariableReference xsi:type="PropertyReference">
                                            <DisplayPath>Workflow.Read Management VLAN.Result Table.First Row.vCenterNetPath</DisplayPath>
                                            <LinkChain>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>ResultTable</PropertyName>
                                              </Link>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>FirstRow</PropertyName>
                                              </Link>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>vCenterNetPath</PropertyName>
                                              </Link>
                                            </LinkChain>
                                            <ObjectId>a9dafa48-aa30-40c3-b493-624f9d68e0b1</ObjectId>
                                            <ObjectType>ActivityInstance</ObjectType>
                                          </VariableReference>
                                        </References>
                                      </NewValue>
                                    </PropertyReferenceValuePair>
                                  </Assignments>
                                </Configuration>
                              </ActivityNode>
                              <ActivityNode xsi:type="CompletedNode">
                                <Id>6578783d-bcc6-4408-abc8-6d440d8665ba</Id>
                                <Notes>Fail the entire process</Notes>
                                <CompletedType>FailedNotCompleted</CompletedType>
                                <ResultMessage>
                                  <FormattedCode>Failed to update the public network adapter for VM '{0}'.
{1}</FormattedCode>
                                  <References>
                                    <VariableReference xsi:type="PropertyReference">
                                      <DisplayPath>Process.Target.Properties.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                                      <LinkChain>
                                        <Link xsi:type="PropertyNameLink">
                                          <PropertyName>ResolvedTarget</PropertyName>
                                        </Link>
                                        <Link xsi:type="ObjectReferenceLink">
                                          <ObjectLink>
                                            <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                            <ObjectType>PropertyExtension</ObjectType>
                                          </ObjectLink>
                                        </Link>
                                      </LinkChain>
                                      <ObjectType>ProcessInstance</ObjectType>
                                    </VariableReference>
                                    <VariableReference xsi:type="PropertyReference">
                                      <DisplayPath>Workflow.Set Public Network.Error Information</DisplayPath>
                                      <LinkChain>
                                        <Link xsi:type="PropertyNameLink">
                                          <PropertyName>ErrorInformation</PropertyName>
                                        </Link>
                                      </LinkChain>
                                      <ObjectId>d9a65e38-4e36-4950-9e47-c008b70522c0</ObjectId>
                                      <ObjectType>ActivityInstance</ObjectType>
                                    </VariableReference>
                                  </References>
                                </ResultMessage>
                              </ActivityNode>
                            </Children>
                            <Condition>
                              <Id>59363553-6d2c-4771-b2e2-1376e4f94c36</Id>
                              <Conditions>
                                <ConditionDefinition xsi:type="VariableConditionDefinition">
                                  <Id>ef25ccb8-2c17-40f1-bb7a-0fe67fd753d2</Id>
                                  <Expression xsi:type="SubstitutableBoolean">
                                    <HardcodedValue>true</HardcodedValue>
                                  </Expression>
                                  <Comparison>Equals</Comparison>
                                  <VariableReference xsi:type="PropertyReference">
                                    <LinkChain>
                                      <Link xsi:type="PropertyNameLink">
                                        <PropertyName>InstanceFailed</PropertyName>
                                      </Link>
                                    </LinkChain>
                                    <ObjectId>d9a65e38-4e36-4950-9e47-c008b70522c0</ObjectId>
                                    <ObjectType>ActivityInstance</ObjectType>
                                  </VariableReference>
                                </ConditionDefinition>
                              </Conditions>
                            </Condition>
                          </ActivityNode>
                        </Children>
                        <Configuration xsi:type="UpdateVMNetworkAdapterActivityConfiguration" xml:space="preserve">
                          <Id>d9a65e38-4e36-4950-9e47-c008b70522c0</Id>
                          <DisplayName>Set Management Network</DisplayName>
                          <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
                            <SingleTargetReference>
                              <FormattedCode>{0}</FormattedCode>
                              <References>
                                <VariableReference xsi:type="PropertyReference">
                                  <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.VCenter</DisplayPath>
                                  <LinkChain>
                                    <Link xsi:type="PropertyNameLink">
                                      <PropertyName>ResolvedTarget</PropertyName>
                                    </Link>
                                    <Link xsi:type="ObjectReferenceLink">
                                      <ObjectLink>
                                        <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                                        <ObjectType>PropertyExtension</ObjectType>
                                      </ObjectLink>
                                    </Link>
                                  </LinkChain>
                                  <ObjectType>ProcessInstance</ObjectType>
                                </VariableReference>
                              </References>
                            </SingleTargetReference>
                          </TargetLoadBalancer>
                          <InheritTarget>false</InheritTarget>
                          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                          <VTask>
                            <MainText>Update VM Network Adapter</MainText>
                          </VTask>
                          <TimeOutPeriod>
                            <DisplayUnits>Minutes</DisplayUnits>
                            <Period>
                              <HardcodedValue>20</HardcodedValue>
                            </Period>
                          </TimeOutPeriod>
                          <VirtualMachineName>
                            <FormattedCode>{0}</FormattedCode>
                            <References>
                              <VariableReference xsi:type="PropertyReference">
                                <DisplayPath>Workflow.Read Table from XML.Result Table.First Row.VMFullPath</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResultTable</PropertyName>
                                  </Link>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>FirstRow</PropertyName>
                                  </Link>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>VMFullPath</PropertyName>
                                  </Link>
                                </LinkChain>
                                <ObjectId>8ee30969-45a8-4eb4-bf05-d9e855acfa6a</ObjectId>
                                <ObjectType>ActivityInstance</ObjectType>
                              </VariableReference>
                            </References>
                          </VirtualMachineName>
                          <NetworkAdapterName>
                            <FormattedCode>{0}</FormattedCode>
                            <References>
                              <VariableReference xsi:type="PropertyReference">
                                <DisplayPath>Workflow.For Each Block.Item.Hardware</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>Hardware</PropertyName>
                                  </Link>
                                </LinkChain>
                                <ObjectId>21547374-ee9e-4e15-89dc-8da16b8e97c4</ObjectId>
                                <ObjectType>ActivityInstance</ObjectType>
                              </VariableReference>
                            </References>
                          </NetworkAdapterName>
                          <Connected>Yes</Connected>
                          <ConnectOnPowerOn>Yes</ConnectOnPowerOn>
                          <MACAddressType>DoNotChange</MACAddressType>
                          <Network>
                            <FormattedCode>{0}</FormattedCode>
                            <References>
                              <VariableReference xsi:type="PropertyReference">
                                <DisplayPath>Workflow.Read Management VLAN.Result Table.First Row.vCenterNetPath</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResultTable</PropertyName>
                                  </Link>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>FirstRow</PropertyName>
                                  </Link>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>vCenterNetPath</PropertyName>
                                  </Link>
                                </LinkChain>
                                <ObjectId>a9dafa48-aa30-40c3-b493-624f9d68e0b1</ObjectId>
                                <ObjectType>ActivityInstance</ObjectType>
                              </VariableReference>
                            </References>
                          </Network>
                        </Configuration>
                      </ActivityNode>
                    </Children>
                    <Condition>
                      <Id>9984b9ef-c6a1-4d4b-9392-50c0d2a3598f</Id>
                      <Conditions>
                        <ConditionDefinition xsi:type="VariableConditionDefinition">
                          <Id>75246297-9118-43be-b164-fcb5f022357f</Id>
                          <Expression xsi:type="SubstitutableNumber">
                            <HardcodedValue>1</HardcodedValue>
                          </Expression>
                          <Comparison>GreaterThanOrEquals</Comparison>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Workflow.Select VM Network Adapters.Result Table.Row Count</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResultTable</PropertyName>
                              </Link>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>RowCount</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectId>3a1b368f-9a0d-45a9-a6f5-85d23d3ee21d</ObjectId>
                            <ObjectType>ActivityInstance</ObjectType>
                          </VariableReference>
                        </ConditionDefinition>
                      </Conditions>
                    </Condition>
                  </ActivityNode>
                  <ActivityNode xsi:type="ConditionBranchNode">
                    <Id>4ebce24f-1b39-4543-b9a4-8c8b9d24468e</Id>
                    <DisplayName>else, add the NIC</DisplayName>
                    <Children>
                      <ActivityNode xsi:type="ExecuteActivityNode">
                        <Id>6e2165ea-6803-4b8c-8efb-d637fba4933d</Id>
                        <DisplayName>Add Network Adapter 1</DisplayName>
                        <Children>
                          <ActivityNode xsi:type="ConditionBranchNode">
                            <Id>c030217a-cbea-4340-ac1f-2deba5ee33c7</Id>
                            <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
                            <DisplayName>If Execution Fails</DisplayName>
                            <Children>
                              <ActivityNode xsi:type="ExecuteActivityNode">
                                <Id>d64f7303-48df-4b78-b9e7-77acb45a60fb</Id>
                                <DisplayName>Add VM Network Adapter failed (9002)</DisplayName>
                                <Children>
                                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                                    <Id>152ee30d-b9e7-4298-b728-bf75486b2926</Id>
                                    <ActivityNodeId>d64f7303-48df-4b78-b9e7-77acb45a60fb</ActivityNodeId>
                                    <CompletedId>7b01fd2c-6ae9-43e9-b4e0-3afd04651a91</CompletedId>
                                  </ActivityNode>
                                </Children>
                                <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                                  <Id>d64f7303-48df-4b78-b9e7-77acb45a60fb</Id>
                                  <DisplayName>Add VM Network Adapter failed (9002)</DisplayName>
                                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                                    <SingleTargetId>
                                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                                    </SingleTargetId>
                                  </TargetLoadBalancer>
                                  <InheritTarget>false</InheritTarget>
                                  <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                                  <Assignments>
                                    <PropertyReferenceValuePair>
                                      <VariableToSet>
                                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                                        <LinkChain>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>ResolvedTarget</PropertyName>
                                          </Link>
                                          <Link xsi:type="ObjectReferenceLink">
                                            <ObjectLink>
                                              <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                                              <ObjectType>PropertyExtension</ObjectType>
                                            </ObjectLink>
                                          </Link>
                                        </LinkChain>
                                        <ObjectType>ProcessInstance</ObjectType>
                                      </VariableToSet>
                                      <NewValue xsi:type="SubstitutableNumber">
                                        <HardcodedValue>9002</HardcodedValue>
                                      </NewValue>
                                    </PropertyReferenceValuePair>
                                    <PropertyReferenceValuePair>
                                      <VariableToSet>
                                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorDescription</DisplayPath>
                                        <LinkChain>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>ResolvedTarget</PropertyName>
                                          </Link>
                                          <Link xsi:type="ObjectReferenceLink">
                                            <ObjectLink>
                                              <Id>05385a56-169a-4946-9e3e-8de36ceaa838</Id>
                                              <ObjectType>PropertyExtension</ObjectType>
                                            </ObjectLink>
                                          </Link>
                                        </LinkChain>
                                        <ObjectType>ProcessInstance</ObjectType>
                                      </VariableToSet>
                                      <NewValue xsi:type="SubstitutableString">
                                        <FormattedCode>Failed To add  VM network adapter:
Virtual Machine:
{0}

Network:
{1}

</FormattedCode>
                                        <References>
                                          <VariableReference xsi:type="PropertyReference">
                                            <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                                            <LinkChain>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>ResolvedTarget</PropertyName>
                                              </Link>
                                              <Link xsi:type="ObjectReferenceLink">
                                                <ObjectLink>
                                                  <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                                  <ObjectType>PropertyExtension</ObjectType>
                                                </ObjectLink>
                                              </Link>
                                            </LinkChain>
                                            <ObjectType>ProcessInstance</ObjectType>
                                          </VariableReference>
                                          <VariableReference xsi:type="PropertyReference">
                                            <DisplayPath>Workflow.Read Management VLAN.Result Table.First Row.vCenterNetPath</DisplayPath>
                                            <LinkChain>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>ResultTable</PropertyName>
                                              </Link>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>FirstRow</PropertyName>
                                              </Link>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>vCenterNetPath</PropertyName>
                                              </Link>
                                            </LinkChain>
                                            <ObjectId>a9dafa48-aa30-40c3-b493-624f9d68e0b1</ObjectId>
                                            <ObjectType>ActivityInstance</ObjectType>
                                          </VariableReference>
                                        </References>
                                      </NewValue>
                                    </PropertyReferenceValuePair>
                                  </Assignments>
                                </Configuration>
                              </ActivityNode>
                              <ActivityNode xsi:type="CompletedNode">
                                <Id>7c7c3433-6c7c-4fcc-916e-de3262bf95c8</Id>
                                <Notes>Fail the entire process</Notes>
                                <CompletedType>FailedNotCompleted</CompletedType>
                                <ResultMessage>
                                  <FormattedCode>{0}</FormattedCode>
                                  <References>
                                    <VariableReference xsi:type="PropertyReference">
                                      <DisplayPath>Workflow.Add Network Adapter 1.Error Information</DisplayPath>
                                      <LinkChain>
                                        <Link xsi:type="PropertyNameLink">
                                          <PropertyName>ErrorInformation</PropertyName>
                                        </Link>
                                      </LinkChain>
                                      <ObjectId>6e2165ea-6803-4b8c-8efb-d637fba4933d</ObjectId>
                                      <ObjectType>ActivityInstance</ObjectType>
                                    </VariableReference>
                                  </References>
                                </ResultMessage>
                              </ActivityNode>
                            </Children>
                            <Condition>
                              <Id>c4a5609c-36f3-4b5f-b2e4-9596a93b85fa</Id>
                              <Conditions>
                                <ConditionDefinition xsi:type="VariableConditionDefinition">
                                  <Id>9dfb8f21-07ae-4f47-b4cd-86e1bbdc8cf8</Id>
                                  <Expression xsi:type="SubstitutableBoolean">
                                    <HardcodedValue>true</HardcodedValue>
                                  </Expression>
                                  <Comparison>Equals</Comparison>
                                  <VariableReference xsi:type="PropertyReference">
                                    <LinkChain>
                                      <Link xsi:type="PropertyNameLink">
                                        <PropertyName>InstanceFailed</PropertyName>
                                      </Link>
                                    </LinkChain>
                                    <ObjectId>6e2165ea-6803-4b8c-8efb-d637fba4933d</ObjectId>
                                    <ObjectType>ActivityInstance</ObjectType>
                                  </VariableReference>
                                </ConditionDefinition>
                              </Conditions>
                            </Condition>
                          </ActivityNode>
                        </Children>
                        <Configuration xsi:type="AddVMNetworkAdapterActivityConfiguration" xml:space="preserve">
                          <Id>6e2165ea-6803-4b8c-8efb-d637fba4933d</Id>
                          <DisplayName>Add Network Adapter 1</DisplayName>
                          <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
                            <SingleTargetReference>
                              <FormattedCode>{0}</FormattedCode>
                              <References>
                                <VariableReference xsi:type="PropertyReference">
                                  <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.VCenter</DisplayPath>
                                  <LinkChain>
                                    <Link xsi:type="PropertyNameLink">
                                      <PropertyName>ResolvedTarget</PropertyName>
                                    </Link>
                                    <Link xsi:type="ObjectReferenceLink">
                                      <ObjectLink>
                                        <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                                        <ObjectType>PropertyExtension</ObjectType>
                                      </ObjectLink>
                                    </Link>
                                  </LinkChain>
                                  <ObjectType>ProcessInstance</ObjectType>
                                </VariableReference>
                              </References>
                            </SingleTargetReference>
                          </TargetLoadBalancer>
                          <InheritTarget>false</InheritTarget>
                          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                          <VTask>
                            <MainText>Add VM Network</MainText>
                          </VTask>
                          <TimeOutPeriod>
                            <DisplayUnits>Minutes</DisplayUnits>
                            <Period>
                              <HardcodedValue>20</HardcodedValue>
                            </Period>
                          </TimeOutPeriod>
                          <VirtualMachineName>
                            <FormattedCode>{0}</FormattedCode>
                            <References>
                              <VariableReference xsi:type="PropertyReference">
                                <DisplayPath>Workflow.Read Table from XML.Result Table.First Row.VMFullPath</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResultTable</PropertyName>
                                  </Link>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>FirstRow</PropertyName>
                                  </Link>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>VMFullPath</PropertyName>
                                  </Link>
                                </LinkChain>
                                <ObjectId>8ee30969-45a8-4eb4-bf05-d9e855acfa6a</ObjectId>
                                <ObjectType>ActivityInstance</ObjectType>
                              </VariableReference>
                            </References>
                          </VirtualMachineName>
                          <NetworkAdapterType>E1000</NetworkAdapterType>
                          <NetworkLabel>
                            <FormattedCode>{0}</FormattedCode>
                            <References>
                              <VariableReference xsi:type="PropertyReference">
                                <DisplayPath>Workflow.Read Management VLAN.Result Table.First Row.vCenterNetPath</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResultTable</PropertyName>
                                  </Link>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>FirstRow</PropertyName>
                                  </Link>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>vCenterNetPath</PropertyName>
                                  </Link>
                                </LinkChain>
                                <ObjectId>a9dafa48-aa30-40c3-b493-624f9d68e0b1</ObjectId>
                                <ObjectType>ActivityInstance</ObjectType>
                              </VariableReference>
                            </References>
                          </NetworkLabel>
                          <IsConnectAtPowerOn>true</IsConnectAtPowerOn>
                        </Configuration>
                      </ActivityNode>
                    </Children>
                    <Condition>
                      <Id>e319971a-37a1-4669-97be-60c2498b7f00</Id>
                      <Conditions />
                    </Condition>
                  </ActivityNode>
                </Children>
              </ActivityNode>
            </Children>
            <Condition>
              <Id>7fe5a93f-1615-4164-8de7-7d0c56b35c05</Id>
              <Conditions>
                <ConditionDefinition xsi:type="VariableConditionDefinition">
                  <Id>e0e055e7-bb5e-4d5a-b7c1-da5ffeaf019a</Id>
                  <Expression xsi:type="SubstitutableString">
                    <HardcodedValue />
                  </Expression>
                  <Comparison>NotEquals</Comparison>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Process.Variables.Input.Infrastructure network</DisplayPath>
                    <LinkChain />
                    <ObjectId>ebe96522-96fb-424e-86a4-f4d8afa1b467</ObjectId>
                    <ObjectType>GlobalVariable</ObjectType>
                  </VariableReference>
                </ConditionDefinition>
                <ConditionDefinition xsi:type="VariableConditionDefinition">
                  <Id>7ba0088a-3c96-464e-a04e-85765e56911c</Id>
                  <Expression xsi:type="SubstitutableNumber">
                    <HardcodedValue>0</HardcodedValue>
                  </Expression>
                  <Comparison>Equals</Comparison>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Process.Variables.Local.row count</DisplayPath>
                    <LinkChain />
                    <ObjectId>97f730d0-b0b5-4f2b-866f-640699a21727</ObjectId>
                    <ObjectType>GlobalVariable</ObjectType>
                  </VariableReference>
                </ConditionDefinition>
              </Conditions>
            </Condition>
          </ActivityNode>
          <ActivityNode xsi:type="ConditionBranchNode">
            <Id>09161372-f2ae-428e-9cb4-a63e12b541f8</Id>
            <DisplayName>If Service Network defined </DisplayName>
            <Children>
              <ActivityNode xsi:type="SwitchNode">
                <Id>fd353114-a9eb-49d9-b7d1-412685bd097d</Id>
                <DisplayName />
                <Children>
                  <ActivityNode xsi:type="ConditionBranchNode">
                    <Id>4f4bfb36-da91-41dd-a9fe-50cfff682e78</Id>
                    <DisplayName>and NIC is present</DisplayName>
                    <Children>
                      <ActivityNode xsi:type="ExecuteActivityNode">
                        <Id>2ea7426b-fed9-4b54-bf59-091344e060ac</Id>
                        <DisplayName>Set Service Network</DisplayName>
                        <Children>
                          <ActivityNode xsi:type="ConditionBranchNode">
                            <Id>dafff82c-bc4b-4fdc-b6be-ce077a562a94</Id>
                            <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
                            <DisplayName>If Execution Fails</DisplayName>
                            <Children>
                              <ActivityNode xsi:type="ExecuteActivityNode">
                                <Id>e6f63d59-541c-474e-92b7-6d040b72a4ef</Id>
                                <DisplayName>Failed To Update VM Network Adapter - Management (9004)</DisplayName>
                                <Children>
                                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                                    <Id>3a7ee34c-cf55-431d-93f5-dcd8810ad013</Id>
                                    <ActivityNodeId>e6f63d59-541c-474e-92b7-6d040b72a4ef</ActivityNodeId>
                                    <CompletedId>453a80af-7430-4a7e-b16b-0c787cd481db</CompletedId>
                                  </ActivityNode>
                                </Children>
                                <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                                  <Id>e6f63d59-541c-474e-92b7-6d040b72a4ef</Id>
                                  <DisplayName>Failed To Update VM Network Adapter - Management (9004)</DisplayName>
                                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                                    <SingleTargetId>
                                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                                    </SingleTargetId>
                                  </TargetLoadBalancer>
                                  <InheritTarget>false</InheritTarget>
                                  <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                                  <Assignments>
                                    <PropertyReferenceValuePair>
                                      <VariableToSet>
                                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                                        <LinkChain>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>ResolvedTarget</PropertyName>
                                          </Link>
                                          <Link xsi:type="ObjectReferenceLink">
                                            <ObjectLink>
                                              <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                                              <ObjectType>PropertyExtension</ObjectType>
                                            </ObjectLink>
                                          </Link>
                                        </LinkChain>
                                        <ObjectType>ProcessInstance</ObjectType>
                                      </VariableToSet>
                                      <NewValue xsi:type="SubstitutableNumber">
                                        <HardcodedValue>9004</HardcodedValue>
                                      </NewValue>
                                    </PropertyReferenceValuePair>
                                    <PropertyReferenceValuePair>
                                      <VariableToSet>
                                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorDescription</DisplayPath>
                                        <LinkChain>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>ResolvedTarget</PropertyName>
                                          </Link>
                                          <Link xsi:type="ObjectReferenceLink">
                                            <ObjectLink>
                                              <Id>05385a56-169a-4946-9e3e-8de36ceaa838</Id>
                                              <ObjectType>PropertyExtension</ObjectType>
                                            </ObjectLink>
                                          </Link>
                                        </LinkChain>
                                        <ObjectType>ProcessInstance</ObjectType>
                                      </VariableToSet>
                                      <NewValue xsi:type="SubstitutableString">
                                        <FormattedCode>Failed To Update VM Network Adapter - Management:
Virtual Machine:
{0}

Network Adapter:
{1}

Network:
{2}

</FormattedCode>
                                        <References>
                                          <VariableReference xsi:type="PropertyReference">
                                            <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                                            <LinkChain>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>ResolvedTarget</PropertyName>
                                              </Link>
                                              <Link xsi:type="ObjectReferenceLink">
                                                <ObjectLink>
                                                  <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                                  <ObjectType>PropertyExtension</ObjectType>
                                                </ObjectLink>
                                              </Link>
                                            </LinkChain>
                                            <ObjectType>ProcessInstance</ObjectType>
                                          </VariableReference>
                                          <VariableReference xsi:type="PropertyReference">
                                            <DisplayPath>Workflow.Select VM Network Adapters.Result Table.First Row.Hardware</DisplayPath>
                                            <LinkChain>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>ResultTable</PropertyName>
                                              </Link>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>FirstRow</PropertyName>
                                              </Link>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>Hardware</PropertyName>
                                              </Link>
                                            </LinkChain>
                                            <ObjectId>3a1b368f-9a0d-45a9-a6f5-85d23d3ee21d</ObjectId>
                                            <ObjectType>ActivityInstance</ObjectType>
                                          </VariableReference>
                                          <VariableReference xsi:type="PropertyReference">
                                            <DisplayPath>Workflow.Read Management VLAN.Result Table.First Row.vCenterNetPath</DisplayPath>
                                            <LinkChain>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>ResultTable</PropertyName>
                                              </Link>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>FirstRow</PropertyName>
                                              </Link>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>vCenterNetPath</PropertyName>
                                              </Link>
                                            </LinkChain>
                                            <ObjectId>a9dafa48-aa30-40c3-b493-624f9d68e0b1</ObjectId>
                                            <ObjectType>ActivityInstance</ObjectType>
                                          </VariableReference>
                                        </References>
                                      </NewValue>
                                    </PropertyReferenceValuePair>
                                  </Assignments>
                                </Configuration>
                              </ActivityNode>
                              <ActivityNode xsi:type="CompletedNode">
                                <Id>5dc4c5f3-39bb-49fe-b802-036a13e410cf</Id>
                                <Notes>Fail the entire process</Notes>
                                <CompletedType>FailedNotCompleted</CompletedType>
                                <ResultMessage>
                                  <FormattedCode>Failed to update the public network adapter for VM '{0}'.
{1}</FormattedCode>
                                  <References>
                                    <VariableReference xsi:type="PropertyReference">
                                      <DisplayPath>Process.Target.Properties.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                                      <LinkChain>
                                        <Link xsi:type="PropertyNameLink">
                                          <PropertyName>ResolvedTarget</PropertyName>
                                        </Link>
                                        <Link xsi:type="ObjectReferenceLink">
                                          <ObjectLink>
                                            <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                            <ObjectType>PropertyExtension</ObjectType>
                                          </ObjectLink>
                                        </Link>
                                      </LinkChain>
                                      <ObjectType>ProcessInstance</ObjectType>
                                    </VariableReference>
                                    <VariableReference xsi:type="PropertyReference">
                                      <DisplayPath>Workflow.Set Management Network.Error Information</DisplayPath>
                                      <LinkChain>
                                        <Link xsi:type="PropertyNameLink">
                                          <PropertyName>ErrorInformation</PropertyName>
                                        </Link>
                                      </LinkChain>
                                      <ObjectId>2ea7426b-fed9-4b54-bf59-091344e060ac</ObjectId>
                                      <ObjectType>ActivityInstance</ObjectType>
                                    </VariableReference>
                                  </References>
                                </ResultMessage>
                              </ActivityNode>
                            </Children>
                            <Condition>
                              <Id>59363553-6d2c-4771-b2e2-1376e4f94c36</Id>
                              <Conditions>
                                <ConditionDefinition xsi:type="VariableConditionDefinition">
                                  <Id>ef25ccb8-2c17-40f1-bb7a-0fe67fd753d2</Id>
                                  <Expression xsi:type="SubstitutableBoolean">
                                    <HardcodedValue>true</HardcodedValue>
                                  </Expression>
                                  <Comparison>Equals</Comparison>
                                  <VariableReference xsi:type="PropertyReference">
                                    <LinkChain>
                                      <Link xsi:type="PropertyNameLink">
                                        <PropertyName>InstanceFailed</PropertyName>
                                      </Link>
                                    </LinkChain>
                                    <ObjectId>2ea7426b-fed9-4b54-bf59-091344e060ac</ObjectId>
                                    <ObjectType>ActivityInstance</ObjectType>
                                  </VariableReference>
                                </ConditionDefinition>
                              </Conditions>
                            </Condition>
                          </ActivityNode>
                        </Children>
                        <Configuration xsi:type="UpdateVMNetworkAdapterActivityConfiguration" xml:space="preserve">
                          <Id>2ea7426b-fed9-4b54-bf59-091344e060ac</Id>
                          <DisplayName>Set Service Network</DisplayName>
                          <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
                            <SingleTargetReference>
                              <FormattedCode>{0}</FormattedCode>
                              <References>
                                <VariableReference xsi:type="PropertyReference">
                                  <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.VCenter</DisplayPath>
                                  <LinkChain>
                                    <Link xsi:type="PropertyNameLink">
                                      <PropertyName>ResolvedTarget</PropertyName>
                                    </Link>
                                    <Link xsi:type="ObjectReferenceLink">
                                      <ObjectLink>
                                        <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                                        <ObjectType>PropertyExtension</ObjectType>
                                      </ObjectLink>
                                    </Link>
                                  </LinkChain>
                                  <ObjectType>ProcessInstance</ObjectType>
                                </VariableReference>
                              </References>
                            </SingleTargetReference>
                          </TargetLoadBalancer>
                          <InheritTarget>false</InheritTarget>
                          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                          <VTask>
                            <MainText>Update VM Network Adapter</MainText>
                          </VTask>
                          <TimeOutPeriod>
                            <DisplayUnits>Minutes</DisplayUnits>
                            <Period>
                              <HardcodedValue>20</HardcodedValue>
                            </Period>
                          </TimeOutPeriod>
                          <VirtualMachineName>
                            <FormattedCode>{0}</FormattedCode>
                            <References>
                              <VariableReference xsi:type="PropertyReference">
                                <DisplayPath>Workflow.Read Table from XML.Result Table.First Row.VMFullPath</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResultTable</PropertyName>
                                  </Link>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>FirstRow</PropertyName>
                                  </Link>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>VMFullPath</PropertyName>
                                  </Link>
                                </LinkChain>
                                <ObjectId>8ee30969-45a8-4eb4-bf05-d9e855acfa6a</ObjectId>
                                <ObjectType>ActivityInstance</ObjectType>
                              </VariableReference>
                            </References>
                          </VirtualMachineName>
                          <NetworkAdapterName>
                            <FormattedCode>{0}</FormattedCode>
                            <References>
                              <VariableReference xsi:type="PropertyReference">
                                <DisplayPath>Workflow.For Each Block.Item.Hardware</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>Hardware</PropertyName>
                                  </Link>
                                </LinkChain>
                                <ObjectId>21547374-ee9e-4e15-89dc-8da16b8e97c4</ObjectId>
                                <ObjectType>ActivityInstance</ObjectType>
                              </VariableReference>
                            </References>
                          </NetworkAdapterName>
                          <Connected>Yes</Connected>
                          <ConnectOnPowerOn>Yes</ConnectOnPowerOn>
                          <MACAddressType>DoNotChange</MACAddressType>
                          <Network>
                            <FormattedCode>{0}</FormattedCode>
                            <References>
                              <VariableReference xsi:type="PropertyReference">
                                <DisplayPath>Workflow.Read Service VLAN.Result Table.First Row.vCenterNetPath</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResultTable</PropertyName>
                                  </Link>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>FirstRow</PropertyName>
                                  </Link>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>vCenterNetPath</PropertyName>
                                  </Link>
                                </LinkChain>
                                <ObjectId>8ec45d7d-5029-4d9c-98f6-980a3390c1b4</ObjectId>
                                <ObjectType>ActivityInstance</ObjectType>
                              </VariableReference>
                            </References>
                          </Network>
                        </Configuration>
                      </ActivityNode>
                    </Children>
                    <Condition>
                      <Id>9984b9ef-c6a1-4d4b-9392-50c0d2a3598f</Id>
                      <Conditions>
                        <ConditionDefinition xsi:type="VariableConditionDefinition">
                          <Id>75246297-9118-43be-b164-fcb5f022357f</Id>
                          <Expression xsi:type="SubstitutableNumber">
                            <HardcodedValue>2</HardcodedValue>
                          </Expression>
                          <Comparison>Equals</Comparison>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Workflow.Select VM Network Adapters.Result Table.Row Count</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResultTable</PropertyName>
                              </Link>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>RowCount</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectId>3a1b368f-9a0d-45a9-a6f5-85d23d3ee21d</ObjectId>
                            <ObjectType>ActivityInstance</ObjectType>
                          </VariableReference>
                        </ConditionDefinition>
                      </Conditions>
                    </Condition>
                  </ActivityNode>
                  <ActivityNode xsi:type="ConditionBranchNode">
                    <Id>8b8233c9-b70a-4d58-b6a7-e5a45132d5c1</Id>
                    <DisplayName>else, add the NIC</DisplayName>
                    <Children>
                      <ActivityNode xsi:type="ExecuteActivityNode">
                        <Id>5d62bca0-a775-46e9-9c0c-c13c2834b7ae</Id>
                        <DisplayName>Add Network Adapter 2</DisplayName>
                        <Children>
                          <ActivityNode xsi:type="ConditionBranchNode">
                            <Id>6648ac25-eb19-493f-8e69-d40a3c71278e</Id>
                            <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
                            <DisplayName>If Execution Fails</DisplayName>
                            <Children>
                              <ActivityNode xsi:type="ExecuteActivityNode">
                                <Id>4bd6814b-29c2-4b09-b778-559dccb2be4f</Id>
                                <DisplayName>Add VM Network Adapter failed (9002)</DisplayName>
                                <Children>
                                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                                    <Id>dd0e8aeb-f669-4211-98bf-fcb9e6be2a95</Id>
                                    <ActivityNodeId>4bd6814b-29c2-4b09-b778-559dccb2be4f</ActivityNodeId>
                                    <CompletedId>3c4fd43d-766c-403c-b295-35457fcb910f</CompletedId>
                                  </ActivityNode>
                                </Children>
                                <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                                  <Id>4bd6814b-29c2-4b09-b778-559dccb2be4f</Id>
                                  <DisplayName>Add VM Network Adapter failed (9002)</DisplayName>
                                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                                    <SingleTargetId>
                                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                                    </SingleTargetId>
                                  </TargetLoadBalancer>
                                  <InheritTarget>false</InheritTarget>
                                  <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                                  <Assignments>
                                    <PropertyReferenceValuePair>
                                      <VariableToSet>
                                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                                        <LinkChain>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>ResolvedTarget</PropertyName>
                                          </Link>
                                          <Link xsi:type="ObjectReferenceLink">
                                            <ObjectLink>
                                              <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                                              <ObjectType>PropertyExtension</ObjectType>
                                            </ObjectLink>
                                          </Link>
                                        </LinkChain>
                                        <ObjectType>ProcessInstance</ObjectType>
                                      </VariableToSet>
                                      <NewValue xsi:type="SubstitutableNumber">
                                        <HardcodedValue>9002</HardcodedValue>
                                      </NewValue>
                                    </PropertyReferenceValuePair>
                                    <PropertyReferenceValuePair>
                                      <VariableToSet>
                                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorDescription</DisplayPath>
                                        <LinkChain>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>ResolvedTarget</PropertyName>
                                          </Link>
                                          <Link xsi:type="ObjectReferenceLink">
                                            <ObjectLink>
                                              <Id>05385a56-169a-4946-9e3e-8de36ceaa838</Id>
                                              <ObjectType>PropertyExtension</ObjectType>
                                            </ObjectLink>
                                          </Link>
                                        </LinkChain>
                                        <ObjectType>ProcessInstance</ObjectType>
                                      </VariableToSet>
                                      <NewValue xsi:type="SubstitutableString">
                                        <FormattedCode>Failed To add  VM network adapter:
Virtual Machine:
{0}

Network:
{1}
</FormattedCode>
                                        <References>
                                          <VariableReference xsi:type="PropertyReference">
                                            <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                                            <LinkChain>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>ResolvedTarget</PropertyName>
                                              </Link>
                                              <Link xsi:type="ObjectReferenceLink">
                                                <ObjectLink>
                                                  <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                                  <ObjectType>PropertyExtension</ObjectType>
                                                </ObjectLink>
                                              </Link>
                                            </LinkChain>
                                            <ObjectType>ProcessInstance</ObjectType>
                                          </VariableReference>
                                          <VariableReference xsi:type="PropertyReference">
                                            <DisplayPath>Workflow.Read Management VLAN.Result Table.First Row.vCenterNetPath</DisplayPath>
                                            <LinkChain>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>ResultTable</PropertyName>
                                              </Link>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>FirstRow</PropertyName>
                                              </Link>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>vCenterNetPath</PropertyName>
                                              </Link>
                                            </LinkChain>
                                            <ObjectId>a9dafa48-aa30-40c3-b493-624f9d68e0b1</ObjectId>
                                            <ObjectType>ActivityInstance</ObjectType>
                                          </VariableReference>
                                        </References>
                                      </NewValue>
                                    </PropertyReferenceValuePair>
                                  </Assignments>
                                </Configuration>
                              </ActivityNode>
                              <ActivityNode xsi:type="CompletedNode">
                                <Id>ee0c9c2a-de65-401d-9559-c62f08baa009</Id>
                                <Notes>Fail the entire process</Notes>
                                <CompletedType>FailedNotCompleted</CompletedType>
                                <ResultMessage>
                                  <FormattedCode>{0}</FormattedCode>
                                  <References>
                                    <VariableReference xsi:type="PropertyReference">
                                      <LinkChain>
                                        <Link xsi:type="PropertyNameLink">
                                          <PropertyName>ErrorInformation</PropertyName>
                                        </Link>
                                      </LinkChain>
                                      <ObjectId>5d62bca0-a775-46e9-9c0c-c13c2834b7ae</ObjectId>
                                      <ObjectType>ActivityInstance</ObjectType>
                                    </VariableReference>
                                  </References>
                                </ResultMessage>
                              </ActivityNode>
                            </Children>
                            <Condition>
                              <Id>c4a5609c-36f3-4b5f-b2e4-9596a93b85fa</Id>
                              <Conditions>
                                <ConditionDefinition xsi:type="VariableConditionDefinition">
                                  <Id>9dfb8f21-07ae-4f47-b4cd-86e1bbdc8cf8</Id>
                                  <Expression xsi:type="SubstitutableBoolean">
                                    <HardcodedValue>true</HardcodedValue>
                                  </Expression>
                                  <Comparison>Equals</Comparison>
                                  <VariableReference xsi:type="PropertyReference">
                                    <LinkChain>
                                      <Link xsi:type="PropertyNameLink">
                                        <PropertyName>InstanceFailed</PropertyName>
                                      </Link>
                                    </LinkChain>
                                    <ObjectId>5d62bca0-a775-46e9-9c0c-c13c2834b7ae</ObjectId>
                                    <ObjectType>ActivityInstance</ObjectType>
                                  </VariableReference>
                                </ConditionDefinition>
                              </Conditions>
                            </Condition>
                          </ActivityNode>
                        </Children>
                        <Configuration xsi:type="AddVMNetworkAdapterActivityConfiguration" xml:space="preserve">
                          <Id>5d62bca0-a775-46e9-9c0c-c13c2834b7ae</Id>
                          <DisplayName>Add Network Adapter 2</DisplayName>
                          <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
                            <SingleTargetReference>
                              <FormattedCode>{0}</FormattedCode>
                              <References>
                                <VariableReference xsi:type="PropertyReference">
                                  <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.VCenter</DisplayPath>
                                  <LinkChain>
                                    <Link xsi:type="PropertyNameLink">
                                      <PropertyName>ResolvedTarget</PropertyName>
                                    </Link>
                                    <Link xsi:type="ObjectReferenceLink">
                                      <ObjectLink>
                                        <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                                        <ObjectType>PropertyExtension</ObjectType>
                                      </ObjectLink>
                                    </Link>
                                  </LinkChain>
                                  <ObjectType>ProcessInstance</ObjectType>
                                </VariableReference>
                              </References>
                            </SingleTargetReference>
                          </TargetLoadBalancer>
                          <InheritTarget>false</InheritTarget>
                          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                          <VTask>
                            <MainText>Add VM Network</MainText>
                          </VTask>
                          <TimeOutPeriod>
                            <DisplayUnits>Minutes</DisplayUnits>
                            <Period>
                              <HardcodedValue>20</HardcodedValue>
                            </Period>
                          </TimeOutPeriod>
                          <VirtualMachineName>
                            <FormattedCode>{0}</FormattedCode>
                            <References>
                              <VariableReference xsi:type="PropertyReference">
                                <DisplayPath>Workflow.Read Table from XML.Result Table.First Row.VMFullPath</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResultTable</PropertyName>
                                  </Link>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>FirstRow</PropertyName>
                                  </Link>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>VMFullPath</PropertyName>
                                  </Link>
                                </LinkChain>
                                <ObjectId>8ee30969-45a8-4eb4-bf05-d9e855acfa6a</ObjectId>
                                <ObjectType>ActivityInstance</ObjectType>
                              </VariableReference>
                            </References>
                          </VirtualMachineName>
                          <NetworkAdapterType>E1000</NetworkAdapterType>
                          <NetworkLabel>
                            <FormattedCode>{0}</FormattedCode>
                            <References>
                              <VariableReference xsi:type="PropertyReference">
                                <DisplayPath>Workflow.Read Service VLAN.Result Table.First Row.vCenterNetPath</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResultTable</PropertyName>
                                  </Link>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>FirstRow</PropertyName>
                                  </Link>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>vCenterNetPath</PropertyName>
                                  </Link>
                                </LinkChain>
                                <ObjectId>8ec45d7d-5029-4d9c-98f6-980a3390c1b4</ObjectId>
                                <ObjectType>ActivityInstance</ObjectType>
                              </VariableReference>
                            </References>
                          </NetworkLabel>
                          <IsConnectAtPowerOn>true</IsConnectAtPowerOn>
                        </Configuration>
                      </ActivityNode>
                    </Children>
                    <Condition>
                      <Id>e319971a-37a1-4669-97be-60c2498b7f00</Id>
                      <Conditions />
                    </Condition>
                  </ActivityNode>
                </Children>
              </ActivityNode>
            </Children>
            <Condition>
              <Id>7fe5a93f-1615-4164-8de7-7d0c56b35c05</Id>
              <Conditions>
                <ConditionDefinition xsi:type="VariableConditionDefinition">
                  <Id>e0e055e7-bb5e-4d5a-b7c1-da5ffeaf019a</Id>
                  <Expression xsi:type="SubstitutableString">
                    <HardcodedValue />
                  </Expression>
                  <Comparison>NotEquals</Comparison>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Process.Variables.Input.Service Network</DisplayPath>
                    <LinkChain />
                    <ObjectId>ac1d7fc3-e826-4b03-bf59-4ab8920c33b7</ObjectId>
                    <ObjectType>GlobalVariable</ObjectType>
                  </VariableReference>
                </ConditionDefinition>
                <ConditionDefinition xsi:type="VariableConditionDefinition">
                  <Id>6941e9fa-23c1-4369-9309-667036ccf5ec</Id>
                  <Expression xsi:type="SubstitutableNumber">
                    <HardcodedValue>1</HardcodedValue>
                  </Expression>
                  <Comparison>Equals</Comparison>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Process.Variables.Local.row count</DisplayPath>
                    <LinkChain />
                    <ObjectId>97f730d0-b0b5-4f2b-866f-640699a21727</ObjectId>
                    <ObjectType>GlobalVariable</ObjectType>
                  </VariableReference>
                </ConditionDefinition>
              </Conditions>
            </Condition>
          </ActivityNode>
          <ActivityNode xsi:type="ExecuteActivityNode">
            <Id>997fea11-0305-468d-a469-d19cd3967d8c</Id>
            <DisplayName>Set row count</DisplayName>
            <Children>
              <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                <Id>a66ce282-e190-4fbf-b112-c1f1ea3f9d1d</Id>
                <ActivityNodeId>997fea11-0305-468d-a469-d19cd3967d8c</ActivityNodeId>
                <CompletedId>6e101ecf-eeab-4271-9a11-06e78028f326</CompletedId>
              </ActivityNode>
            </Children>
            <Configuration xsi:type="SetVariableActivityConfiguration" xml:space="preserve">
              <Id>997fea11-0305-468d-a469-d19cd3967d8c</Id>
              <DisplayName>Set row count</DisplayName>
              <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                <SingleTargetId>
                  <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                </SingleTargetId>
              </TargetLoadBalancer>
              <InheritTarget>false</InheritTarget>
              <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
              <VariableToSet>
                <DisplayPath>Process.Variables.Local.row count</DisplayPath>
                <LinkChain />
                <ObjectId>97f730d0-b0b5-4f2b-866f-640699a21727</ObjectId>
                <ObjectType>GlobalVariable</ObjectType>
              </VariableToSet>
              <NewValue xsi:type="SubstitutableNumber">
                <FormattedCode>{0} + 1</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Process.Variables.Local.row count</DisplayPath>
                    <LinkChain />
                    <ObjectId>97f730d0-b0b5-4f2b-866f-640699a21727</ObjectId>
                    <ObjectType>GlobalVariable</ObjectType>
                  </VariableReference>
                </References>
              </NewValue>
            </Configuration>
          </ActivityNode>
        </Children>
        <ForEachSource xsi:type="PropertyReference">
          <DisplayPath>Workflow.Query VM Network Adapters.Network Adapters Table.Rows</DisplayPath>
          <LinkChain>
            <Link xsi:type="PropertyNameLink">
              <PropertyName>NetworkAdaptersTable</PropertyName>
            </Link>
            <Link xsi:type="PropertyNameLink">
              <PropertyName>TIARows</PropertyName>
            </Link>
          </LinkChain>
          <ObjectId>99ed70bf-7706-4168-b36a-20eefba69bd1</ObjectId>
          <ObjectType>ActivityInstance</ObjectType>
        </ForEachSource>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>b10fa280-4ed3-44b9-83c7-29af28d28aa4</Id>
        <DisplayName>Power On VM</DisplayName>
        <Children>
          <ActivityNode xsi:type="ConditionBranchNode">
            <Id>e2b234eb-b93c-479a-a7ed-a61888b63295</Id>
            <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
            <DisplayName>If Execution Fails</DisplayName>
            <Children>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>9b8e94e3-8fba-469a-94cc-d7729143c5d9</Id>
                <DisplayName>Unable to power on VM (9005)</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>162b84c4-a0aa-401e-bfc4-919b131e37ab</Id>
                    <ActivityNodeId>9b8e94e3-8fba-469a-94cc-d7729143c5d9</ActivityNodeId>
                    <CompletedId>af888450-97bf-486b-b15f-5f3272d1704b</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                  <Id>9b8e94e3-8fba-469a-94cc-d7729143c5d9</Id>
                  <DisplayName>Unable to power on VM (9005)</DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                  <Assignments>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableNumber">
                        <HardcodedValue>9005</HardcodedValue>
                      </NewValue>
                    </PropertyReferenceValuePair>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorDescription</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>05385a56-169a-4946-9e3e-8de36ceaa838</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableString">
                        <FormattedCode> Failed to power on VM:
{0}
</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResolvedTarget</PropertyName>
                              </Link>
                              <Link xsi:type="ObjectReferenceLink">
                                <ObjectLink>
                                  <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                  <ObjectType>PropertyExtension</ObjectType>
                                </ObjectLink>
                              </Link>
                            </LinkChain>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableReference>
                        </References>
                      </NewValue>
                    </PropertyReferenceValuePair>
                  </Assignments>
                </Configuration>
              </ActivityNode>
              <ActivityNode xsi:type="CompletedNode">
                <Id>1af6a4d6-5a89-4690-be36-b44440ed8b31</Id>
                <Notes>Fail the entire process</Notes>
                <CompletedType>FailedNotCompleted</CompletedType>
                <ResultMessage>
                  <FormattedCode>Failed to power on VM '{0}'.
{1}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Process.Target.Properties.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ResolvedTarget</PropertyName>
                        </Link>
                        <Link xsi:type="ObjectReferenceLink">
                          <ObjectLink>
                            <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                            <ObjectType>PropertyExtension</ObjectType>
                          </ObjectLink>
                        </Link>
                      </LinkChain>
                      <ObjectType>ProcessInstance</ObjectType>
                    </VariableReference>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Workflow.Power On VM.Error Information</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ErrorInformation</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>b10fa280-4ed3-44b9-83c7-29af28d28aa4</ObjectId>
                      <ObjectType>ActivityInstance</ObjectType>
                    </VariableReference>
                  </References>
                </ResultMessage>
              </ActivityNode>
            </Children>
            <Condition>
              <Id>cf451d8c-67b5-4387-bbbb-bd6c21f861c4</Id>
              <Conditions>
                <ConditionDefinition xsi:type="VariableConditionDefinition">
                  <Id>b462ffe2-b18d-43d5-83ba-ccdc9adce21f</Id>
                  <Expression xsi:type="SubstitutableBoolean">
                    <HardcodedValue>true</HardcodedValue>
                  </Expression>
                  <Comparison>Equals</Comparison>
                  <VariableReference xsi:type="PropertyReference">
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>InstanceFailed</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>b10fa280-4ed3-44b9-83c7-29af28d28aa4</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </ConditionDefinition>
              </Conditions>
            </Condition>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="VMPowerOnActivityConfiguration" xml:space="preserve">
          <Id>b10fa280-4ed3-44b9-83c7-29af28d28aa4</Id>
          <DisplayName>Power On VM</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
            <SingleTargetReference>
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.VCenter</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>ResolvedTarget</PropertyName>
                    </Link>
                    <Link xsi:type="ObjectReferenceLink">
                      <ObjectLink>
                        <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                        <ObjectType>PropertyExtension</ObjectType>
                      </ObjectLink>
                    </Link>
                  </LinkChain>
                  <ObjectType>ProcessInstance</ObjectType>
                </VariableReference>
              </References>
            </SingleTargetReference>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
          <VTask xsi:type="VTaskAttrPower">
            <MainText>Power On</MainText>
            <Skip>true</Skip>
          </VTask>
          <TimeOutPeriod>
            <DisplayUnits>Minutes</DisplayUnits>
            <Period>
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Global Variables.Cloud Server Provisioning Timeout (Minutes) - VM Power On</DisplayPath>
                  <LinkChain />
                  <ObjectId>9933f0e9-2899-4729-ab73-e40ffdbf4afc</ObjectId>
                  <ObjectType>GlobalVariable</ObjectType>
                </VariableReference>
              </References>
            </Period>
          </TimeOutPeriod>
          <VName>
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Workflow.Read Table from XML.Result Table.First Row.VMFullPath</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>ResultTable</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>FirstRow</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>VMFullPath</PropertyName>
                  </Link>
                </LinkChain>
                <ObjectId>8ee30969-45a8-4eb4-bf05-d9e855acfa6a</ObjectId>
                <ObjectType>ActivityInstance</ObjectType>
              </VariableReference>
            </References>
          </VName>
          <Host>
            <HardcodedValue />
          </Host>
          <Tools>true</Tools>
          <GuestOS>false</GuestOS>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>03e495a2-1834-4ae4-aeb3-ea6b1c545901</Id>
        <DisplayName>Set Max Loops (Minutes)</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>b10b88b3-5bf6-43ea-b009-48d108b22851</Id>
            <ActivityNodeId>03e495a2-1834-4ae4-aeb3-ea6b1c545901</ActivityNodeId>
            <CompletedId>ab84f5c6-e02d-421b-bb5f-dc36b1699ad0</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
          <Id>03e495a2-1834-4ae4-aeb3-ea6b1c545901</Id>
          <DisplayName>Set Max Loops (Minutes)</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
          <Assignments>
            <PropertyReferenceValuePair>
              <VariableToSet>
                <DisplayPath>Process.Variables.Local.Max Loops</DisplayPath>
                <LinkChain />
                <ObjectId>e5672780-3a5e-4122-8897-04eb1f666c77</ObjectId>
                <ObjectType>GlobalVariable</ObjectType>
              </VariableToSet>
              <NewValue xsi:type="SubstitutableNumber">
                <HardcodedValue>10</HardcodedValue>
              </NewValue>
            </PropertyReferenceValuePair>
          </Assignments>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="WhileNode">
        <Id>42321123-ca70-455c-8bfb-c3687c9fd5b4</Id>
        <DisplayName>While VM Powered Off</DisplayName>
        <Children>
          <ActivityNode xsi:type="ExecuteActivityNode">
            <Id>e8db4248-7587-49ae-ad71-a221434975d9</Id>
            <DisplayName>Query VM</DisplayName>
            <Children>
              <ActivityNode xsi:type="ConditionBranchNode">
                <Id>2b86721d-7f75-419f-9147-056558cd6563</Id>
                <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
                <DisplayName>If Execution Fails</DisplayName>
                <Children>
                  <ActivityNode xsi:type="ExecuteActivityNode">
                    <Id>a00beeea-d5d1-40d4-9015-fcd5b074e8e3</Id>
                    <DisplayName>Unable to Query VM (9014)</DisplayName>
                    <Children>
                      <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                        <Id>2f1393b9-316f-4864-a560-991f8bb59e67</Id>
                        <ActivityNodeId>a00beeea-d5d1-40d4-9015-fcd5b074e8e3</ActivityNodeId>
                        <CompletedId>c505f08a-98d7-4571-8fbc-1c21654ada18</CompletedId>
                      </ActivityNode>
                    </Children>
                    <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                      <Id>a00beeea-d5d1-40d4-9015-fcd5b074e8e3</Id>
                      <DisplayName>Unable to Query VM (9014)</DisplayName>
                      <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                        <SingleTargetId>
                          <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                        </SingleTargetId>
                      </TargetLoadBalancer>
                      <InheritTarget>false</InheritTarget>
                      <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
                      <Assignments>
                        <PropertyReferenceValuePair>
                          <VariableToSet>
                            <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResolvedTarget</PropertyName>
                              </Link>
                              <Link xsi:type="ObjectReferenceLink">
                                <ObjectLink>
                                  <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                                  <ObjectType>PropertyExtension</ObjectType>
                                </ObjectLink>
                              </Link>
                            </LinkChain>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableToSet>
                          <NewValue xsi:type="SubstitutableNumber">
                            <HardcodedValue>9014</HardcodedValue>
                          </NewValue>
                        </PropertyReferenceValuePair>
                        <PropertyReferenceValuePair>
                          <VariableToSet>
                            <DisplayPath>Process.Target.Cloud.Service.General.ErrorDescription</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResolvedTarget</PropertyName>
                              </Link>
                              <Link xsi:type="ObjectReferenceLink">
                                <ObjectLink>
                                  <Id>05385a56-169a-4946-9e3e-8de36ceaa838</Id>
                                  <ObjectType>PropertyExtension</ObjectType>
                                </ObjectLink>
                              </Link>
                            </LinkChain>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableToSet>
                          <NewValue xsi:type="SubstitutableString">
                            <FormattedCode>Failed to query VM:
{0}</FormattedCode>
                            <References>
                              <VariableReference xsi:type="PropertyReference">
                                <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResolvedTarget</PropertyName>
                                  </Link>
                                  <Link xsi:type="ObjectReferenceLink">
                                    <ObjectLink>
                                      <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                      <ObjectType>PropertyExtension</ObjectType>
                                    </ObjectLink>
                                  </Link>
                                </LinkChain>
                                <ObjectType>ProcessInstance</ObjectType>
                              </VariableReference>
                            </References>
                          </NewValue>
                        </PropertyReferenceValuePair>
                      </Assignments>
                    </Configuration>
                  </ActivityNode>
                  <ActivityNode xsi:type="CompletedNode">
                    <Id>96e77f3f-d62d-4721-a74c-13a7d6fbe47c</Id>
                    <Notes>Fail the entire process</Notes>
                    <CompletedType>FailedNotCompleted</CompletedType>
                    <ResultMessage>
                      <FormattedCode>{0}</FormattedCode>
                      <References>
                        <VariableReference xsi:type="PropertyReference">
                          <LinkChain>
                            <Link xsi:type="PropertyNameLink">
                              <PropertyName>ErrorInformation</PropertyName>
                            </Link>
                          </LinkChain>
                          <ObjectId>e8db4248-7587-49ae-ad71-a221434975d9</ObjectId>
                          <ObjectType>ActivityInstance</ObjectType>
                        </VariableReference>
                      </References>
                    </ResultMessage>
                  </ActivityNode>
                </Children>
                <Condition>
                  <Id>6c86c75e-ecaa-4703-a348-2b97a9b51db9</Id>
                  <Conditions>
                    <ConditionDefinition xsi:type="VariableConditionDefinition">
                      <Id>5ce9240d-8bf6-4b82-8fb3-01394dc66536</Id>
                      <Expression xsi:type="SubstitutableBoolean">
                        <HardcodedValue>true</HardcodedValue>
                      </Expression>
                      <Comparison>Equals</Comparison>
                      <VariableReference xsi:type="PropertyReference">
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>InstanceFailed</PropertyName>
                          </Link>
                        </LinkChain>
                        <ObjectId>e8db4248-7587-49ae-ad71-a221434975d9</ObjectId>
                        <ObjectType>ActivityInstance</ObjectType>
                      </VariableReference>
                    </ConditionDefinition>
                  </Conditions>
                </Condition>
              </ActivityNode>
            </Children>
            <Configuration xsi:type="VMwareQueryVMsActivityConfiguration" xml:space="preserve">
              <Id>e8db4248-7587-49ae-ad71-a221434975d9</Id>
              <DisplayName>Query VM</DisplayName>
              <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
                <SingleTargetReference>
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.VCenter</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ResolvedTarget</PropertyName>
                        </Link>
                        <Link xsi:type="ObjectReferenceLink">
                          <ObjectLink>
                            <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                            <ObjectType>PropertyExtension</ObjectType>
                          </ObjectLink>
                        </Link>
                      </LinkChain>
                      <ObjectType>ProcessInstance</ObjectType>
                    </VariableReference>
                  </References>
                </SingleTargetReference>
              </TargetLoadBalancer>
              <InheritTarget>false</InheritTarget>
              <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
              <VTask>
                <MainText>Query VMs</MainText>
              </VTask>
              <TimeOutPeriod>
                <DisplayUnits>Minutes</DisplayUnits>
                <Period>
                  <HardcodedValue>5</HardcodedValue>
                </Period>
              </TimeOutPeriod>
              <HostName>
                <HardcodedValue>*</HardcodedValue>
              </HostName>
              <VirtualMachineName>
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.Read Table from XML.Result Table.First Row.VMFullPath</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResultTable</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>FirstRow</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>VMFullPath</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>8ee30969-45a8-4eb4-bf05-d9e855acfa6a</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </VirtualMachineName>
              <DatacenterName>
                <HardcodedValue>*</HardcodedValue>
              </DatacenterName>
              <VMFilter>VirtualMachines</VMFilter>
            </Configuration>
          </ActivityNode>
          <ActivityNode xsi:type="ExecuteActivityNode">
            <Id>afae396a-743d-4759-99ea-d5d582da5c32</Id>
            <DisplayName>Set Current Powerstate</DisplayName>
            <Children>
              <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                <Id>0eb1f036-02ae-4c6a-a497-d6ee61c67258</Id>
                <ActivityNodeId>afae396a-743d-4759-99ea-d5d582da5c32</ActivityNodeId>
                <CompletedId>6da0ac8b-6f13-43f9-b7f1-9e30f20b3870</CompletedId>
              </ActivityNode>
            </Children>
            <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
              <Id>afae396a-743d-4759-99ea-d5d582da5c32</Id>
              <DisplayName>Set Current Powerstate</DisplayName>
              <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                <SingleTargetId>
                  <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                </SingleTargetId>
              </TargetLoadBalancer>
              <InheritTarget>false</InheritTarget>
              <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
              <Assignments>
                <PropertyReferenceValuePair>
                  <VariableToSet>
                    <DisplayPath>Process.Variables.Local.Current Power State</DisplayPath>
                    <LinkChain />
                    <ObjectId>85609cab-1ffc-4e8b-b86f-c4b5c8c03c8f</ObjectId>
                    <ObjectType>GlobalVariable</ObjectType>
                  </VariableToSet>
                  <NewValue xsi:type="SubstitutableString">
                    <FormattedCode>{0}</FormattedCode>
                    <References>
                      <VariableReference xsi:type="PropertyReference">
                        <DisplayPath>Workflow.Query VM.Virtual Machines.First Row.State</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>VirtualMachines</PropertyName>
                          </Link>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>FirstRow</PropertyName>
                          </Link>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>State</PropertyName>
                          </Link>
                        </LinkChain>
                        <ObjectId>e8db4248-7587-49ae-ad71-a221434975d9</ObjectId>
                        <ObjectType>ActivityInstance</ObjectType>
                      </VariableReference>
                    </References>
                  </NewValue>
                </PropertyReferenceValuePair>
                <PropertyReferenceValuePair>
                  <VariableToSet>
                    <DisplayPath>Process.Variables.Local.loop count</DisplayPath>
                    <LinkChain />
                    <ObjectId>fae1cfd3-c1d2-44eb-85df-1aa1f2166120</ObjectId>
                    <ObjectType>GlobalVariable</ObjectType>
                  </VariableToSet>
                  <NewValue xsi:type="SubstitutableNumber">
                    <FormattedCode>{0} + 1</FormattedCode>
                    <References>
                      <VariableReference xsi:type="PropertyReference">
                        <DisplayPath>Process.Variables.Local.loop count</DisplayPath>
                        <LinkChain />
                        <ObjectId>fae1cfd3-c1d2-44eb-85df-1aa1f2166120</ObjectId>
                        <ObjectType>GlobalVariable</ObjectType>
                      </VariableReference>
                    </References>
                  </NewValue>
                </PropertyReferenceValuePair>
              </Assignments>
            </Configuration>
          </ActivityNode>
          <ActivityNode xsi:type="ExecuteActivityNode">
            <Id>dc7dbdec-a3b4-4ac6-a8a9-8213e1ac012c</Id>
            <DisplayName>Sleep</DisplayName>
            <Children>
              <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                <Id>e19d75e0-3268-4e58-bf19-68130b76de74</Id>
                <ActivityNodeId>dc7dbdec-a3b4-4ac6-a8a9-8213e1ac012c</ActivityNodeId>
                <CompletedId>855fc733-d06f-4e59-9380-7cdd11523e57</CompletedId>
              </ActivityNode>
            </Children>
            <Configuration xsi:type="SleepActivityConfiguration" xml:space="preserve">
              <Id>dc7dbdec-a3b4-4ac6-a8a9-8213e1ac012c</Id>
              <DisplayName>Sleep</DisplayName>
              <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                <SingleTargetId>
                  <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                </SingleTargetId>
              </TargetLoadBalancer>
              <InheritTarget>false</InheritTarget>
              <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
              <Seconds>
                <HardcodedValue>30</HardcodedValue>
              </Seconds>
            </Configuration>
          </ActivityNode>
        </Children>
        <Condition>
          <Id>70a2a0d9-31a8-4658-8329-471ded1bb96c</Id>
          <Conditions>
            <ConditionDefinition xsi:type="VariableConditionDefinition">
              <Id>347b0421-4569-4040-bfe4-21f4792418e7</Id>
              <Expression xsi:type="SubstitutableString">
                <HardcodedValue>poweredOn</HardcodedValue>
              </Expression>
              <Comparison>NotEquals</Comparison>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Process.Variables.Local.Current Power State</DisplayPath>
                <LinkChain />
                <ObjectId>85609cab-1ffc-4e8b-b86f-c4b5c8c03c8f</ObjectId>
                <ObjectType>GlobalVariable</ObjectType>
              </VariableReference>
            </ConditionDefinition>
            <ConditionDefinition xsi:type="VariableConditionDefinition">
              <Id>11fc27a0-3d7c-4968-a970-7a05be85263d</Id>
              <Expression xsi:type="SubstitutableNumber">
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Process.Variables.Local.Max Loops</DisplayPath>
                    <LinkChain />
                    <ObjectId>e5672780-3a5e-4122-8897-04eb1f666c77</ObjectId>
                    <ObjectType>GlobalVariable</ObjectType>
                  </VariableReference>
                </References>
              </Expression>
              <Comparison>LessThanOrEquals</Comparison>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Process.Variables.Local.loop count</DisplayPath>
                <LinkChain />
                <ObjectId>fae1cfd3-c1d2-44eb-85df-1aa1f2166120</ObjectId>
                <ObjectType>GlobalVariable</ObjectType>
              </VariableReference>
            </ConditionDefinition>
          </Conditions>
        </Condition>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>1cbd8b4e-7e89-4fa1-8109-d88e662dc6a9</Id>
        <DisplayName>Reset Loop Counter</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>29f062b6-77bf-4d81-873c-770ea8f02814</Id>
            <ActivityNodeId>1cbd8b4e-7e89-4fa1-8109-d88e662dc6a9</ActivityNodeId>
            <CompletedId>7b4dcfa0-cd56-469d-9921-c63b4b1d646f</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="SetVariableActivityConfiguration" xml:space="preserve">
          <Id>1cbd8b4e-7e89-4fa1-8109-d88e662dc6a9</Id>
          <DisplayName>Reset Loop Counter</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
          <VariableToSet>
            <DisplayPath>Process.Variables.Local.loop count</DisplayPath>
            <LinkChain />
            <ObjectId>fae1cfd3-c1d2-44eb-85df-1aa1f2166120</ObjectId>
            <ObjectType>GlobalVariable</ObjectType>
          </VariableToSet>
          <NewValue xsi:type="SubstitutableNumber">
            <HardcodedValue>0</HardcodedValue>
          </NewValue>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>d92c3b02-88ef-42f9-8cad-353989e141e7</Id>
        <DisplayName>Wait for System to Boot</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>09c66224-f612-49a1-803b-416f301c7a04</Id>
            <ActivityNodeId>d92c3b02-88ef-42f9-8cad-353989e141e7</ActivityNodeId>
            <CompletedId>71aef86e-9a8f-4594-beb9-b4691c2b7620</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="SleepActivityConfiguration" xml:space="preserve">
          <Id>d92c3b02-88ef-42f9-8cad-353989e141e7</Id>
          <DisplayName>Wait for System to Boot</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
          <Seconds>
            <FormattedCode>{0} * 60</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Global Variables.Cloud Server Provisioning Timeout (Minutes) - VM Boot Time</DisplayPath>
                <LinkChain />
                <ObjectId>83fa080f-bbd7-4dba-ae74-f1ece4f9180b</ObjectId>
                <ObjectType>GlobalVariable</ObjectType>
              </VariableReference>
            </References>
          </Seconds>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="StartProcessNode">
        <Id>d007c304-62d2-4d80-b34d-c166df94f8f9</Id>
        <DisplayName>Discover VMs</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>1158fe07-fee8-4b70-a3df-9108f36b083f</Id>
            <ProcessNodeId>d007c304-62d2-4d80-b34d-c166df94f8f9</ProcessNodeId>
            <CompletedId>1c24dfc8-3a80-4e33-936f-ddc69343cb2e</CompletedId>
          </ActivityNode>
        </Children>
        <ProcessId>a4dd5702-7469-4450-9dc5-2ea5a69a9108</ProcessId>
        <InputVariableTable>
          <VariableAssignmentsAsArray>
            <InputVariableAssignment>
              <InputVariableId>063274a1-0f04-429b-858e-c06dddd757cf</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <HardcodedValue>Moref</HardcodedValue>
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>bdc477ea-50e2-40a8-be65-81090f0c6164</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <HardcodedValue>exclude</HardcodedValue>
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>99d56a28-6b74-41ab-8ae4-160a1efdd2f8</InputVariableId>
              <VariableValue xsi:type="SubstitutableBoolean">
                <HardcodedValue>false</HardcodedValue>
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>1729fee0-71a8-479f-a517-99f50d026827</InputVariableId>
              <VariableValue xsi:type="SubstitutableNumber">
                <HardcodedValue>1</HardcodedValue>
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>169bf081-10c1-4597-872a-a62350706038</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.Query VMs.Virtual Machines.First Row.Managed Object Reference</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>VirtualMachines</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>FirstRow</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>Managed Object Reference</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>a9210916-8200-432f-bd3b-0a80df0bc148</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>3f0a61ba-c353-489d-aaa6-7948a7ac98d2</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Global Variables.Cloud Service Item Update Channel ID</DisplayPath>
                    <LinkChain />
                    <ObjectId>c070b5b6-0120-48f1-8b36-2319f9348a4a</ObjectId>
                    <ObjectType>GlobalVariable</ObjectType>
                  </VariableReference>
                </References>
              </VariableValue>
            </InputVariableAssignment>
          </VariableAssignmentsAsArray>
        </InputVariableTable>
        <Asynchronous>false</Asynchronous>
        <InheritTarget>false</InheritTarget>
        <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
          <SingleTargetReference>
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.VCenter</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>ResolvedTarget</PropertyName>
                  </Link>
                  <Link xsi:type="ObjectReferenceLink">
                    <ObjectLink>
                      <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                      <ObjectType>PropertyExtension</ObjectType>
                    </ObjectLink>
                  </Link>
                </LinkChain>
                <ObjectType>ProcessInstance</ObjectType>
              </VariableReference>
            </References>
          </SingleTargetReference>
        </TargetLoadBalancer>
        <InheritPriorityClass>true</InheritPriorityClass>
        <RuntimeUserId>
          <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
        </RuntimeUserId>
        <KnowledgeBaseId>00000000-0000-0000-0000-000000000000</KnowledgeBaseId>
        <StartPointId>
          <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
        </StartPointId>
        <StartPointName>
          <FormattedCode />
        </StartPointName>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>cd81dca7-6621-44c4-baa5-75def1020e3f</Id>
        <DisplayName>Replace String</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>b9bc688e-79d1-47d4-a05f-9baa75e20155</Id>
            <ActivityNodeId>cd81dca7-6621-44c4-baa5-75def1020e3f</ActivityNodeId>
            <CompletedId>47ed7f54-8d30-448a-8405-02e4cb9e7563</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="ReplaceStringActivityConfiguration" xml:space="preserve">
          <Id>cd81dca7-6621-44c4-baa5-75def1020e3f</Id>
          <DisplayName>Replace String</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
          <InputString>
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Workflow.Query VMs.Virtual Machines.First Row.Managed Object Reference</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>VirtualMachines</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>FirstRow</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>Managed Object Reference</PropertyName>
                  </Link>
                </LinkChain>
                <ObjectId>a9210916-8200-432f-bd3b-0a80df0bc148</ObjectId>
                <ObjectType>ActivityInstance</ObjectType>
              </VariableReference>
            </References>
          </InputString>
          <ReplaceList>
            <SubstitutableRepaceItem>
              <ReplacedString>
                <HardcodedValue>VirtualMachine-</HardcodedValue>
              </ReplacedString>
              <ReplacementString>
                <HardcodedValue />
              </ReplacementString>
            </SubstitutableRepaceItem>
          </ReplaceList>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>2cc4d333-e22b-4af6-955e-9951b0215b5c</Id>
        <DisplayName>Set Output Variables</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>9705d867-7479-41f6-9b52-da3cd74ee5fe</Id>
            <ActivityNodeId>2cc4d333-e22b-4af6-955e-9951b0215b5c</ActivityNodeId>
            <CompletedId>32284a64-921a-410f-bb95-54ce1e191f31</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
          <Id>2cc4d333-e22b-4af6-955e-9951b0215b5c</Id>
          <DisplayName>Set Output Variables</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ContainingProcessId>
          <Assignments>
            <PropertyReferenceValuePair>
              <VariableToSet>
                <DisplayPath>Process.Variables.Output.vASA IP Address</DisplayPath>
                <LinkChain />
                <ObjectId>70f54010-69e6-4daa-b647-2e41ed368796</ObjectId>
                <ObjectType>GlobalVariable</ObjectType>
              </VariableToSet>
              <NewValue xsi:type="SubstitutableString">
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Process.Target.Cloud.Service.Server.Networks.First Row.IP Address</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResolvedTarget</PropertyName>
                      </Link>
                      <Link xsi:type="ObjectReferenceLink">
                        <ObjectLink>
                          <Id>c8314a62-d2a8-4e09-8632-55e0c77d7f20</Id>
                          <ObjectType>PropertyExtension</ObjectType>
                        </ObjectLink>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>FirstRow</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>IP Address</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectType>ProcessInstance</ObjectType>
                  </VariableReference>
                </References>
              </NewValue>
            </PropertyReferenceValuePair>
            <PropertyReferenceValuePair>
              <VariableToSet>
                <DisplayPath>Process.Variables.Output.Unique ID</DisplayPath>
                <LinkChain />
                <ObjectId>bd8aeaf1-0a6c-4654-8859-e0f1ec66ec33</ObjectId>
                <ObjectType>GlobalVariable</ObjectType>
              </VariableToSet>
              <NewValue xsi:type="SubstitutableString">
                <FormattedCode>{0}:{1}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.Find vCenter Target.Found Targets.First.Target Id</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>GetAllFoundTargets</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>FirstItem</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>GetReferencedObject</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>Id</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>f653dca3-5848-402a-8cb6-88ef13ecb34c</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.Read Table from XML.Result Table.First Row.Moref</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResultTable</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>FirstRow</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>Moref</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>8ee30969-45a8-4eb4-bf05-d9e855acfa6a</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </NewValue>
            </PropertyReferenceValuePair>
          </Assignments>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="StartProcessNode">
        <Id>87521596-c9dc-4d6c-a370-d1641525961d</Id>
        <DisplayName>Provision vASA &gt;&gt; Post Provision</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>a11db4fb-e4d1-44fc-9251-d0707a82806c</Id>
            <ProcessNodeId>87521596-c9dc-4d6c-a370-d1641525961d</ProcessNodeId>
            <CompletedId>8df12836-7bf9-49e9-94b6-d8ffa0ee2373</CompletedId>
          </ActivityNode>
        </Children>
        <ProcessId>7f8aa71e-5efc-4f5c-9271-a018ac55c594</ProcessId>
        <InputVariableTable>
          <VariableAssignmentsAsArray />
        </InputVariableTable>
        <Asynchronous>false</Asynchronous>
        <InheritTarget>true</InheritTarget>
        <InheritPriorityClass>true</InheritPriorityClass>
        <RuntimeUserId>
          <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
        </RuntimeUserId>
        <KnowledgeBaseId>00000000-0000-0000-0000-000000000000</KnowledgeBaseId>
        <StartPointId>
          <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
        </StartPointId>
        <StartPointName>
          <FormattedCode />
        </StartPointName>
      </ActivityNode>
    </Children>
  </FirstActivity>
  <ProcessId>bdcc5bce-6c7b-44c4-bf40-b4e6570360f1</ProcessId>
</WorkflowConfiguration>