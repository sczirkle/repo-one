<?xml version="1.0"?>
<WorkflowConfiguration xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xml:space="preserve">
  <Id>5d9f7a03-46b1-441b-a13a-25157866067a</Id>
  <DisplayName>Create VLAN on UCS</DisplayName>
  <CreatedTime>2016-02-15T20:41:51.723375Z</CreatedTime>
  <ModifiedTime>2016-02-15T20:42:09.9326171Z</ModifiedTime>
  <FirstActivity xsi:type="RootNode">
    <Id>26e10efe-f172-4480-9641-b31226307f03</Id>
    <DisplayName />
    <Children>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>ec2d6f58-99b5-457b-9fc7-48679abe8add</Id>
        <DisplayName>Set VLAN DN</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>596ae0eb-6eff-419a-96b3-e618c34115eb</Id>
            <ActivityNodeId>ec2d6f58-99b5-457b-9fc7-48679abe8add</ActivityNodeId>
            <CompletedId>d8e5f848-96c8-467c-acc1-e24dcbbc6570</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="SetVariableActivityConfiguration" xml:space="preserve">
          <Id>ec2d6f58-99b5-457b-9fc7-48679abe8add</Id>
          <DisplayName>Set VLAN DN</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>d4355f96-0751-420b-a12e-42d5f3b34067</ContainingProcessId>
          <VariableToSet>
            <DisplayPath>Process.Variables.Output.VLAN Distinguished Name</DisplayPath>
            <LinkChain />
            <ObjectId>c19d13a0-d59c-45f6-b1ce-17380b9dabab</ObjectId>
            <ObjectType>GlobalVariable</ObjectType>
          </VariableToSet>
          <NewValue xsi:type="SubstitutableString">
            <FormattedCode>fabric/lan/net-{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Process.Variables.Input.VLAN Name</DisplayPath>
                <LinkChain />
                <ObjectId>bdbafb67-681d-4540-b706-1e4a49a322fe</ObjectId>
                <ObjectType>GlobalVariable</ObjectType>
              </VariableReference>
            </References>
          </NewValue>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>7dfe9a50-9116-406c-83fb-f2ea0f0f1772</Id>
        <DisplayName>Find UCS Managed Objects</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>3259156f-891c-48ee-9108-0f3e7c5358ba</Id>
            <ActivityNodeId>7dfe9a50-9116-406c-83fb-f2ea0f0f1772</ActivityNodeId>
            <CompletedId>86e56d13-f96b-4ed8-bbe4-f9a13f4c257c</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="GetManagedObjectActivityConfiguration" xml:space="preserve">
          <Id>7dfe9a50-9116-406c-83fb-f2ea0f0f1772</Id>
          <DisplayName>Find UCS Managed Objects</DisplayName>
          <TargetLoadBalancer xsi:type="ProcessTargetLoadBalancer" />
          <ContainingProcessId>d4355f96-0751-420b-a12e-42d5f3b34067</ContainingProcessId>
          <CollectXmlOutput>true</CollectXmlOutput>
          <Criterias>
            <CriteriaInfo>
              <Name>Distinguished &amp;name:</Name>
              <AttributeName>dn</AttributeName>
              <IsRequired>false</IsRequired>
              <ValueTypeName>System.String</ValueTypeName>
              <ConfigurationTypeName>Tidal.Automation.Common.Product.SubstitutableWildcard</ConfigurationTypeName>
              <CriteriaValue xsi:type="SubstitutableWildcard">
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Process.Variables.Output.VLAN Distinguished Name</DisplayPath>
                    <LinkChain />
                    <ObjectId>c19d13a0-d59c-45f6-b1ce-17380b9dabab</ObjectId>
                    <ObjectType>GlobalVariable</ObjectType>
                  </VariableReference>
                </References>
              </CriteriaValue>
            </CriteriaInfo>
          </Criterias>
          <ClassName>Tidal.Automation.Ucs.Common.UCSFabricVLAN</ClassName>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>77045745-4bc1-4a59-9e19-ebe8bf22a16e</Id>
        <DisplayName>Get Result Node</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>1641dbde-d01e-498d-8b81-5041057e6a25</Id>
            <ActivityNodeId>77045745-4bc1-4a59-9e19-ebe8bf22a16e</ActivityNodeId>
            <CompletedId>743b73d8-d978-49c4-8f72-dec963e66d92</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="XslTransformActivityConfiguration" xml:space="preserve">
          <Id>77045745-4bc1-4a59-9e19-ebe8bf22a16e</Id>
          <DisplayName>Get Result Node</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>d4355f96-0751-420b-a12e-42d5f3b34067</ContainingProcessId>
          <SourceText>
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Workflow.Find UCS Managed Objects.XML Output</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>Result</PropertyName>
                  </Link>
                </LinkChain>
                <ObjectId>7dfe9a50-9116-406c-83fb-f2ea0f0f1772</ObjectId>
                <ObjectType>ActivityInstance</ObjectType>
              </VariableReference>
            </References>
          </SourceText>
          <TransformPath>
            <HardcodedValue />
          </TransformPath>
          <XSLDocument>
            <HardcodedValue>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"&gt;
  &lt;xsl:output method="text" indent="yes"/&gt;

  &lt;xsl:template match="/"&gt;
&lt;xsl:if test="count(//outConfigs/*) &amp;gt; 0"&gt;
&lt;xsl:copy-of select="//outConfigs/*[1]" /&gt;
&lt;/xsl:if&gt;
  &lt;/xsl:template&gt;
&lt;/xsl:stylesheet&gt;</HardcodedValue>
          </XSLDocument>
          <OutputFormat>Text</OutputFormat>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ConditionBranchNode">
        <Id>b298f462-55be-47fb-b364-2972eb626d64</Id>
        <DisplayName>Create VLAN</DisplayName>
        <Children>
          <ActivityNode xsi:type="ExecuteActivityNode">
            <Id>628d2d9f-0047-4dea-bd65-9a62c631edb9</Id>
            <DisplayName>Execute UCS Manager Command</DisplayName>
            <Children>
              <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                <Id>5773d8cd-ef41-4e03-a3f5-8a721bf714d2</Id>
                <ActivityNodeId>628d2d9f-0047-4dea-bd65-9a62c631edb9</ActivityNodeId>
                <CompletedId>eb3ab71b-7f63-4c17-b421-55b440b15ff5</CompletedId>
              </ActivityNode>
            </Children>
            <Configuration xsi:type="ExecuteUcsCommandActivityConfiguration" xml:space="preserve">
              <Id>628d2d9f-0047-4dea-bd65-9a62c631edb9</Id>
              <DisplayName>Execute UCS Manager Command</DisplayName>
              <TargetLoadBalancer xsi:type="ProcessTargetLoadBalancer" />
              <ContainingProcessId>d4355f96-0751-420b-a12e-42d5f3b34067</ContainingProcessId>
              <CollectXmlOutput>true</CollectXmlOutput>
              <CommandText>
                <FormattedCode>&lt;configConfMo inHierarchical="false"&gt;
   &lt;inConfig&gt;
      &lt;fabricVlan dn="{0}" name="{1}" status="created" sharing="{2}" id="{3}"/&gt;
   &lt;/inConfig&gt;
&lt;/configConfMo&gt;</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Process.Variables.Output.VLAN Distinguished Name</DisplayPath>
                    <LinkChain />
                    <ObjectId>c19d13a0-d59c-45f6-b1ce-17380b9dabab</ObjectId>
                    <ObjectType>GlobalVariable</ObjectType>
                  </VariableReference>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Process.Variables.Input.VLAN Name</DisplayPath>
                    <LinkChain />
                    <ObjectId>bdbafb67-681d-4540-b706-1e4a49a322fe</ObjectId>
                    <ObjectType>GlobalVariable</ObjectType>
                  </VariableReference>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Process.Variables.Input.Sharing</DisplayPath>
                    <LinkChain />
                    <ObjectId>bf6027a3-aef0-4b7e-b6c6-45f7a0db1a40</ObjectId>
                    <ObjectType>GlobalVariable</ObjectType>
                  </VariableReference>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Process.Variables.Input.VLAN ID</DisplayPath>
                    <LinkChain />
                    <ObjectId>3e31f2bf-5574-42f8-a096-cd8a5828ead2</ObjectId>
                    <ObjectType>GlobalVariable</ObjectType>
                  </VariableReference>
                </References>
              </CommandText>
              <Columns />
              <TransformXmlResponse>false</TransformXmlResponse>
            </Configuration>
          </ActivityNode>
        </Children>
        <Condition>
          <Id>f649d05b-faf2-456c-bd64-e3736b3500f6</Id>
          <Conditions>
            <ConditionDefinition xsi:type="VariableConditionDefinition">
              <Id>9411c074-c849-4ec8-8c47-89fd6456b8bd</Id>
              <Expression xsi:type="SubstitutableString">
                <HardcodedValue />
              </Expression>
              <Comparison>Equals</Comparison>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Workflow.Get Result Node.Output</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>Output</PropertyName>
                  </Link>
                </LinkChain>
                <ObjectId>77045745-4bc1-4a59-9e19-ebe8bf22a16e</ObjectId>
                <ObjectType>ActivityInstance</ObjectType>
              </VariableReference>
            </ConditionDefinition>
          </Conditions>
        </Condition>
      </ActivityNode>
    </Children>
  </FirstActivity>
  <ProcessId>d4355f96-0751-420b-a12e-42d5f3b34067</ProcessId>
</WorkflowConfiguration>