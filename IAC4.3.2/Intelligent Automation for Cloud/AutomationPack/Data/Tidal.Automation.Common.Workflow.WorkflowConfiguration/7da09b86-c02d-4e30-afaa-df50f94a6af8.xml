<?xml version="1.0"?>
<WorkflowConfiguration xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xml:space="preserve">
  <Id>7da09b86-c02d-4e30-afaa-df50f94a6af8</Id>
  <DisplayName>Reserve BGP AS in Portal</DisplayName>
  <CreatedTime>2016-02-15T20:46:20.70775Z</CreatedTime>
  <ModifiedTime>2016-02-15T20:46:38.9169921Z</ModifiedTime>
  <FirstActivity xsi:type="RootNode">
    <Id>56b99761-d45e-49ba-9faa-1ba947891d35</Id>
    <DisplayName />
    <Children>
      <ActivityNode xsi:type="LockNode">
        <Id>545e71ff-4f2b-4547-8aad-72c7763c27d7</Id>
        <DisplayName>Queue Block</DisplayName>
        <Children>
          <ActivityNode xsi:type="ExecuteActivityNode">
            <Id>96cb687f-f21d-47e2-ac7e-ee46d48de05e</Id>
            <DisplayName>Find Unassigned BGP AS</DisplayName>
            <Children>
              <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                <Id>2030d8d3-5e86-4071-9adb-53cc8d83af21</Id>
                <ActivityNodeId>96cb687f-f21d-47e2-ac7e-ee46d48de05e</ActivityNodeId>
                <CompletedId>e3ee4d9b-60e3-4e15-83e3-5f81a63770cf</CompletedId>
              </ActivityNode>
            </Children>
            <Configuration xsi:type="FindServiceItemsActivityConfiguration" xml:space="preserve">
              <Id>96cb687f-f21d-47e2-ac7e-ee46d48de05e</Id>
              <DisplayName>Find Unassigned BGP AS</DisplayName>
              <TargetLoadBalancer xsi:type="ProcessTargetLoadBalancer" />
              <ContainingProcessId>c50cf231-ae08-4d64-9909-d1ceee930dff</ContainingProcessId>
              <RetryTimePeriod>
                <DisplayUnits>Minutes</DisplayUnits>
                <Period>
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Adapters.Cisco Prime Service Catalog Adapter.Retry Time Period (minutes)</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>DefaultRetryMinutes</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>c433762b-9ba6-4059-a616-85d8f3f236c3</ObjectId>
                      <ObjectType>Adapter</ObjectType>
                    </VariableReference>
                  </References>
                </Period>
              </RetryTimePeriod>
              <RetryFrequency>
                <DisplayUnits>Seconds</DisplayUnits>
                <Period>
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Adapters.Cisco Prime Service Catalog Adapter.Retry Frequency (seconds)</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>DefaultRetryFrequency</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>c433762b-9ba6-4059-a616-85d8f3f236c3</ObjectId>
                      <ObjectType>Adapter</ObjectType>
                    </VariableReference>
                  </References>
                </Period>
              </RetryFrequency>
              <Timeout>
                <DisplayUnits>Seconds</DisplayUnits>
                <Period>
                  <HardcodedValue>100</HardcodedValue>
                </Period>
              </Timeout>
              <ItemType>
                <HardcodedValue>BGPAutonomousSystem</HardcodedValue>
              </ItemType>
              <ItemName>
                <FormattedCode />
              </ItemName>
              <BrowseServiceItemName>BGPAutonomousSystem</BrowseServiceItemName>
              <Properties>
                <ServiceItemProperty>
                  <Name>
                    <HardcodedValue>Name</HardcodedValue>
                  </Name>
                </ServiceItemProperty>
                <ServiceItemProperty>
                  <Name>
                    <HardcodedValue>ASNumber</HardcodedValue>
                  </Name>
                  <VariableType>Number</VariableType>
                </ServiceItemProperty>
              </Properties>
              <SearchCriteria>
                <ServiceItemSearchCriteria>
                  <Name>
                    <HardcodedValue>Status</HardcodedValue>
                  </Name>
                  <Value xsi:type="SubstitutableString">
                    <HardcodedValue>Unassigned</HardcodedValue>
                  </Value>
                  <Comparison>Equal</Comparison>
                </ServiceItemSearchCriteria>
              </SearchCriteria>
              <FindType>FindSpecifiedRows</FindType>
              <Count>1</Count>
              <ReturnSubscriberInfo>true</ReturnSubscriberInfo>
              <Subscriber>
                <HardcodedValue />
              </Subscriber>
              <SubscriberOuName>
                <HardcodedValue />
              </SubscriberOuName>
            </Configuration>
          </ActivityNode>
          <ActivityNode xsi:type="ConditionBranchNode">
            <Id>ac0150ac-51b5-43e3-920e-e7aa557b0ec3</Id>
            <DisplayName>If no free AS found</DisplayName>
            <Children>
              <ActivityNode xsi:type="CompletedNode">
                <Id>1e97e07d-0c34-4235-80ee-346a8dfda45e</Id>
                <CompletedType>FailedNotCompleted</CompletedType>
                <ResultMessage>
                  <HardcodedValue>No free BGP AS's were found in the pool</HardcodedValue>
                </ResultMessage>
              </ActivityNode>
            </Children>
            <Condition>
              <Id>179c5d17-d225-4a5a-9859-506fb24ed601</Id>
              <Conditions>
                <ConditionDefinition xsi:type="VariableConditionDefinition">
                  <Id>ce0bde15-8a7d-48e7-bea2-672beca6b190</Id>
                  <Expression xsi:type="SubstitutableNumber">
                    <HardcodedValue>0</HardcodedValue>
                  </Expression>
                  <Comparison>Equals</Comparison>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.Find Unassigned VLAN.Service Items.Row Count</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResultsTable</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>RowCount</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>96cb687f-f21d-47e2-ac7e-ee46d48de05e</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </ConditionDefinition>
              </Conditions>
            </Condition>
          </ActivityNode>
          <ActivityNode xsi:type="ExecuteActivityNode">
            <Id>8dbd29b0-1228-44d0-825a-3490b69795d5</Id>
            <DisplayName>Update BGP AS Service Item</DisplayName>
            <Children>
              <ActivityNode xsi:type="ConditionBranchNode">
                <Id>00ea1409-875f-47bf-858b-b121eb32d2dd</Id>
                <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
                <DisplayName>If Execution Fails</DisplayName>
                <Children>
                  <ActivityNode xsi:type="ExecuteActivityNode">
                    <Id>5fda5ce5-11da-445f-ad4e-0c0c3a572bb5</Id>
                    <DisplayName>Unable to update service item (1011)</DisplayName>
                    <Children>
                      <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                        <Id>3670e426-4498-47be-991e-4b273fd691a8</Id>
                        <ActivityNodeId>5fda5ce5-11da-445f-ad4e-0c0c3a572bb5</ActivityNodeId>
                        <CompletedId>d8219456-2ce3-409f-9d40-7630d94e0b99</CompletedId>
                      </ActivityNode>
                    </Children>
                    <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                      <Id>5fda5ce5-11da-445f-ad4e-0c0c3a572bb5</Id>
                      <DisplayName>Unable to update service item (1011)</DisplayName>
                      <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                        <SingleTargetId>
                          <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                        </SingleTargetId>
                      </TargetLoadBalancer>
                      <InheritTarget>false</InheritTarget>
                      <ContainingProcessId>c50cf231-ae08-4d64-9909-d1ceee930dff</ContainingProcessId>
                      <Assignments>
                        <PropertyReferenceValuePair>
                          <VariableToSet>
                            <DisplayPath>Process.Target.Properties.Cloud.Service.General.ErrorCode</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResolvedTarget</PropertyName>
                              </Link>
                              <Link xsi:type="ObjectReferenceLink">
                                <ObjectLink>
                                  <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                                  <ObjectType>PropertyExtension</ObjectType>
                                </ObjectLink>
                              </Link>
                            </LinkChain>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableToSet>
                          <NewValue xsi:type="SubstitutableNumber">
                            <HardcodedValue>1011</HardcodedValue>
                          </NewValue>
                        </PropertyReferenceValuePair>
                        <PropertyReferenceValuePair>
                          <VariableToSet>
                            <DisplayPath>Process.Target.Properties.Cloud.Service.General.ErrorDescription</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResolvedTarget</PropertyName>
                              </Link>
                              <Link xsi:type="ObjectReferenceLink">
                                <ObjectLink>
                                  <Id>05385a56-169a-4946-9e3e-8de36ceaa838</Id>
                                  <ObjectType>PropertyExtension</ObjectType>
                                </ObjectLink>
                              </Link>
                            </LinkChain>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableToSet>
                          <NewValue xsi:type="SubstitutableString">
                            <FormattedCode>Unable to update service item:
{0}
</FormattedCode>
                            <References>
                              <VariableReference xsi:type="PropertyReference">
                                <DisplayPath>Process.Variables.Local.Name</DisplayPath>
                                <LinkChain />
                                <ObjectId>2196085e-7cda-405c-bbf1-4c8d68294613</ObjectId>
                                <ObjectType>GlobalVariable</ObjectType>
                              </VariableReference>
                            </References>
                          </NewValue>
                        </PropertyReferenceValuePair>
                      </Assignments>
                    </Configuration>
                  </ActivityNode>
                  <ActivityNode xsi:type="CompletedNode">
                    <Id>306b5895-6e92-4970-b6be-f31def6a528e</Id>
                    <Notes>Fail the entire process</Notes>
                    <CompletedType>FailedNotCompleted</CompletedType>
                    <ResultMessage>
                      <FormattedCode>{0}</FormattedCode>
                      <References>
                        <VariableReference xsi:type="PropertyReference">
                          <LinkChain>
                            <Link xsi:type="PropertyNameLink">
                              <PropertyName>ErrorInformation</PropertyName>
                            </Link>
                          </LinkChain>
                          <ObjectId>8dbd29b0-1228-44d0-825a-3490b69795d5</ObjectId>
                          <ObjectType>ActivityInstance</ObjectType>
                        </VariableReference>
                      </References>
                    </ResultMessage>
                  </ActivityNode>
                </Children>
                <Condition>
                  <Id>1e7a7a40-bd28-4af1-9c58-511559d4f463</Id>
                  <Conditions>
                    <ConditionDefinition xsi:type="VariableConditionDefinition">
                      <Id>5a074c68-c1b3-4802-99b4-55bfcfaea063</Id>
                      <Expression xsi:type="SubstitutableBoolean">
                        <HardcodedValue>true</HardcodedValue>
                      </Expression>
                      <Comparison>Equals</Comparison>
                      <VariableReference xsi:type="PropertyReference">
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>InstanceFailed</PropertyName>
                          </Link>
                        </LinkChain>
                        <ObjectId>8dbd29b0-1228-44d0-825a-3490b69795d5</ObjectId>
                        <ObjectType>ActivityInstance</ObjectType>
                      </VariableReference>
                    </ConditionDefinition>
                  </Conditions>
                </Condition>
              </ActivityNode>
            </Children>
            <Configuration xsi:type="UpdateServiceItemActivityConfiguration" xml:space="preserve">
              <Id>8dbd29b0-1228-44d0-825a-3490b69795d5</Id>
              <DisplayName>Update BGP AS Service Item</DisplayName>
              <TargetLoadBalancer xsi:type="ProcessTargetLoadBalancer" />
              <ContainingProcessId>c50cf231-ae08-4d64-9909-d1ceee930dff</ContainingProcessId>
              <RetryTimePeriod>
                <DisplayUnits>Minutes</DisplayUnits>
                <Period>
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Adapters.Cisco Prime Service Catalog Adapter.Retry Time Period (minutes)</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>DefaultRetryMinutes</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>c433762b-9ba6-4059-a616-85d8f3f236c3</ObjectId>
                      <ObjectType>Adapter</ObjectType>
                    </VariableReference>
                  </References>
                </Period>
              </RetryTimePeriod>
              <RetryFrequency>
                <DisplayUnits>Seconds</DisplayUnits>
                <Period>
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Adapters.Cisco Prime Service Catalog Adapter.Retry Frequency (seconds)</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>DefaultRetryFrequency</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>c433762b-9ba6-4059-a616-85d8f3f236c3</ObjectId>
                      <ObjectType>Adapter</ObjectType>
                    </VariableReference>
                  </References>
                </Period>
              </RetryFrequency>
              <Timeout>
                <DisplayUnits>Seconds</DisplayUnits>
                <Period>
                  <HardcodedValue>100</HardcodedValue>
                </Period>
              </Timeout>
              <ItemType>
                <HardcodedValue>BGPAutonomousSystem</HardcodedValue>
              </ItemType>
              <ItemName>
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.Find Unassigned BGP AS.Service Items.First Row.Name</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResultsTable</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>FirstRow</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>Name</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>96cb687f-f21d-47e2-ac7e-ee46d48de05e</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </ItemName>
              <BrowseServiceItemName>BGPAutonomousSystem</BrowseServiceItemName>
              <ItemAttributes>
                <ServiceItemPropertyInformation>
                  <Name>
                    <HardcodedValue>Status</HardcodedValue>
                  </Name>
                  <Value xsi:type="SubstitutableString">
                    <HardcodedValue>Assigned</HardcodedValue>
                  </Value>
                </ServiceItemPropertyInformation>
                <ServiceItemPropertyInformation>
                  <Name>
                    <HardcodedValue>TenantSIName</HardcodedValue>
                  </Name>
                  <Value xsi:type="SubstitutableString">
                    <FormattedCode>{0}</FormattedCode>
                    <References>
                      <VariableReference xsi:type="PropertyReference">
                        <DisplayPath>Process.Variables.Input.Tenant Name</DisplayPath>
                        <LinkChain />
                        <ObjectId>5ed7006d-1b45-4100-8c42-b9caa9665186</ObjectId>
                        <ObjectType>GlobalVariable</ObjectType>
                      </VariableReference>
                    </References>
                  </Value>
                </ServiceItemPropertyInformation>
                <ServiceItemPropertyInformation>
                  <Name>
                    <HardcodedValue>EdgeLocation</HardcodedValue>
                  </Name>
                  <Value xsi:type="SubstitutableString">
                    <FormattedCode>{0}</FormattedCode>
                    <References>
                      <VariableReference xsi:type="PropertyReference">
                        <DisplayPath>Process.Variables.Input.Edge Location</DisplayPath>
                        <LinkChain />
                        <ObjectId>1d51ebea-7381-43da-a14c-32c41db8a8cb</ObjectId>
                        <ObjectType>GlobalVariable</ObjectType>
                      </VariableReference>
                    </References>
                  </Value>
                </ServiceItemPropertyInformation>
                <ServiceItemPropertyInformation>
                  <Name>
                    <HardcodedValue>PODSIName</HardcodedValue>
                  </Name>
                  <Value xsi:type="SubstitutableString">
                    <FormattedCode>{0}</FormattedCode>
                    <References>
                      <VariableReference xsi:type="PropertyReference">
                        <DisplayPath>Process.Variables.Input.POD Name</DisplayPath>
                        <LinkChain />
                        <ObjectId>d5b3958d-47c5-4e44-8cf4-51bab763ae43</ObjectId>
                        <ObjectType>GlobalVariable</ObjectType>
                      </VariableReference>
                    </References>
                  </Value>
                </ServiceItemPropertyInformation>
              </ItemAttributes>
              <Subscriber>
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.Find Unassigned BGP AS.Service Items.First Row.Subscription_loginID</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResultsTable</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>FirstRow</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>Subscription_loginID</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>96cb687f-f21d-47e2-ac7e-ee46d48de05e</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </Subscriber>
              <SubscriberOuName>
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.Find Unassigned BGP AS.Service Items.First Row.Subscription_ouname</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResultsTable</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>FirstRow</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>Subscription_ouname</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>96cb687f-f21d-47e2-ac7e-ee46d48de05e</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </SubscriberOuName>
              <SubscriberRequisitionEntryId>
                <FormattedCode />
              </SubscriberRequisitionEntryId>
              <ChannelId>
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Global Variables.Cloud Service Item Update Channel ID</DisplayPath>
                    <LinkChain />
                    <ObjectId>c070b5b6-0120-48f1-8b36-2319f9348a4a</ObjectId>
                    <ObjectType>GlobalVariable</ObjectType>
                  </VariableReference>
                </References>
              </ChannelId>
            </Configuration>
          </ActivityNode>
          <ActivityNode xsi:type="ExecuteActivityNode">
            <Id>ca272cd9-4e4a-4514-ab5c-33c4bd6c633f</Id>
            <DisplayName>Set BGP AS Number</DisplayName>
            <Children>
              <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                <Id>6bf1ab7a-5dad-4801-986c-5bbc302b470c</Id>
                <ActivityNodeId>ca272cd9-4e4a-4514-ab5c-33c4bd6c633f</ActivityNodeId>
                <CompletedId>e6e8238d-977d-408d-82e7-1ed8193696d3</CompletedId>
              </ActivityNode>
            </Children>
            <Configuration xsi:type="SetVariableActivityConfiguration" xml:space="preserve">
              <Id>ca272cd9-4e4a-4514-ab5c-33c4bd6c633f</Id>
              <DisplayName>Set BGP AS Number</DisplayName>
              <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                <SingleTargetId>
                  <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                </SingleTargetId>
              </TargetLoadBalancer>
              <InheritTarget>false</InheritTarget>
              <ContainingProcessId>c50cf231-ae08-4d64-9909-d1ceee930dff</ContainingProcessId>
              <VariableToSet>
                <DisplayPath>Process.Variables.Output.BGP AS Number</DisplayPath>
                <LinkChain />
                <ObjectId>db5cba1c-ef64-48ee-b300-a9ccba4c5876</ObjectId>
                <ObjectType>GlobalVariable</ObjectType>
              </VariableToSet>
              <NewValue xsi:type="SubstitutableNumber">
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.Find Unassigned BGP AS.Service Items.First Row.ASNumber</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResultsTable</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>FirstRow</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ASNumber</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>96cb687f-f21d-47e2-ac7e-ee46d48de05e</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </NewValue>
            </Configuration>
          </ActivityNode>
        </Children>
        <LockSource xsi:type="SubstitutableObjectReference">
          <FormattedCode />
          <HardcodedValue>
            <Id>4deb517c-d9d5-4726-8e01-9f3ac7e14fb9</Id>
            <ObjectType>SynchronizedResource</ObjectType>
          </HardcodedValue>
        </LockSource>
        <Priority>High</Priority>
        <TimeoutOccurred>false</TimeoutOccurred>
      </ActivityNode>
    </Children>
  </FirstActivity>
  <ProcessId>c50cf231-ae08-4d64-9909-d1ceee930dff</ProcessId>
</WorkflowConfiguration>