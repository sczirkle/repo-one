<?xml version="1.0"?>
<WorkflowConfiguration xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xml:space="preserve">
  <Id>1a69999b-dfb9-4e9b-9696-1e779260d1c6</Id>
  <DisplayName>Create UCSD VMware Network Policy</DisplayName>
  <CreatedTime>2016-02-15T20:43:14.6765Z</CreatedTime>
  <ModifiedTime>2016-02-15T20:43:32.8857421Z</ModifiedTime>
  <FirstActivity xsi:type="RootNode">
    <Id>dbfbbab2-2067-411f-a198-a25ba160a4e6</Id>
    <DisplayName />
    <Children>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>2f6e64b2-60da-4516-b84f-17fa57431865</Id>
        <DisplayName>XPath Query</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>2f22f89e-e607-4f36-b4d5-6968ad0d6406</Id>
            <ActivityNodeId>2f6e64b2-60da-4516-b84f-17fa57431865</ActivityNodeId>
            <CompletedId>6520f1d4-6eca-45dc-acfd-e341e11a0944</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="XPathQueryActivityConfiguration" xml:space="preserve">
          <Id>2f6e64b2-60da-4516-b84f-17fa57431865</Id>
          <DisplayName>XPath Query</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>3ff74824-c492-45ae-b5b8-b0a193f18126</ContainingProcessId>
          <SourceXml>
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Process.Target.Cloud.Service.General.ServiceRequestXML</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>ResolvedTarget</PropertyName>
                  </Link>
                  <Link xsi:type="ObjectReferenceLink">
                    <ObjectLink>
                      <Id>e5988c6a-0497-4e11-92fb-8bf107b20995</Id>
                      <ObjectType>PropertyExtension</ObjectType>
                    </ObjectLink>
                  </Link>
                </LinkChain>
                <ObjectType>ProcessInstance</ObjectType>
              </VariableReference>
            </References>
          </SourceXml>
          <Namespaces />
          <Queries>
            <XPathQueryDefinition>
              <DisplayName>AccountName</DisplayName>
              <Query>
                <HardcodedValue>root/FormData/SIBDUCSDPortGroup.AccountName</HardcodedValue>
              </Query>
              <ReturnType>String</ReturnType>
              <DefaultBehavior>Fail</DefaultBehavior>
            </XPathQueryDefinition>
            <XPathQueryDefinition>
              <DisplayName>PortgroupName</DisplayName>
              <Query>
                <HardcodedValue>root/FormData/SIBDUCSDPortGroup.PortgroupName</HardcodedValue>
              </Query>
              <ReturnType>String</ReturnType>
              <DefaultBehavior>Fail</DefaultBehavior>
            </XPathQueryDefinition>
            <XPathQueryDefinition>
              <DisplayName>GatewayList</DisplayName>
              <Query>
                <HardcodedValue>root/FormData/SIBDUCSDPortGroup.GatewayList</HardcodedValue>
              </Query>
              <ReturnType>String</ReturnType>
              <DefaultBehavior>Fail</DefaultBehavior>
            </XPathQueryDefinition>
            <XPathQueryDefinition>
              <DisplayName>PolicyDescription</DisplayName>
              <Query>
                <HardcodedValue>root/FormData/SIBDUCSDPortGroup.PolicyDescription</HardcodedValue>
              </Query>
              <ReturnType>String</ReturnType>
              <DefaultBehavior>Fail</DefaultBehavior>
            </XPathQueryDefinition>
            <XPathQueryDefinition>
              <DisplayName>PortGroupType</DisplayName>
              <Query>
                <HardcodedValue>root/FormData/SIBDUCSDPortGroup.PortGroupType</HardcodedValue>
              </Query>
              <ReturnType>String</ReturnType>
              <DefaultBehavior>Fail</DefaultBehavior>
            </XPathQueryDefinition>
            <XPathQueryDefinition>
              <DisplayName>StaticIPPool</DisplayName>
              <Query>
                <HardcodedValue>root/FormData/SIBDUCSDPortGroup.StaticIPPool</HardcodedValue>
              </Query>
              <ReturnType>String</ReturnType>
              <DefaultBehavior>Fail</DefaultBehavior>
            </XPathQueryDefinition>
            <XPathQueryDefinition>
              <DisplayName>SubnetMask</DisplayName>
              <Query>
                <HardcodedValue>root/FormData/SIBDUCSDPortGroup.SubnetMask</HardcodedValue>
              </Query>
              <ReturnType>String</ReturnType>
              <DefaultBehavior>Fail</DefaultBehavior>
            </XPathQueryDefinition>
            <XPathQueryDefinition>
              <DisplayName>VirtualNetworkName</DisplayName>
              <Query>
                <HardcodedValue>root/FormData/SIBDUCSDPortGroup.VirtualNetworkName</HardcodedValue>
              </Query>
              <ReturnType>String</ReturnType>
              <DefaultBehavior>Fail</DefaultBehavior>
            </XPathQueryDefinition>
            <XPathQueryDefinition>
              <DisplayName>PEID</DisplayName>
              <Query>
                <HardcodedValue>root/FormData/SIBDUCSDPortGroup.PEID</HardcodedValue>
              </Query>
              <ReturnType>String</ReturnType>
              <DefaultBehavior>Fail</DefaultBehavior>
            </XPathQueryDefinition>
          </Queries>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>736194c5-f057-4406-8a73-1067211c520f</Id>
        <DisplayName>Find Targets</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>5d25dfb5-1f5c-4a4f-8e2a-acf11f6086e1</Id>
            <ActivityNodeId>736194c5-f057-4406-8a73-1067211c520f</ActivityNodeId>
            <CompletedId>fa516d6a-3c34-4113-9a5e-0d5c580ad4d0</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="BuiltinFindTargetsActivityConfiguration" xml:space="preserve">
          <Id>736194c5-f057-4406-8a73-1067211c520f</Id>
          <DisplayName>Find Targets</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>3ff74824-c492-45ae-b5b8-b0a193f18126</ContainingProcessId>
          <TargetTypeName>Tidal.Automation.Cloupia.Common.CloupiaServerTargetConfiguration, Tidal.Automation.Cloupia.Common</TargetTypeName>
          <TargetTypeExtensionId>34a2dc2e-7934-04fb-039d-78426a997296</TargetTypeExtensionId>
          <TargetGroupId>3e10ea6d-9285-494e-bea1-37b349f22045</TargetGroupId>
          <MatchingCriteria>
            <GenericCriteria xsi:type="GuidCriteria">
              <LinkChain>
                <Link xsi:type="PropertyNameLink">
                  <PropertyName>Id</PropertyName>
                </Link>
              </LinkChain>
              <MatchingGuid>
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.XPath Query.Results.PEID</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>Results</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>PEID</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>2f6e64b2-60da-4516-b84f-17fa57431865</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </MatchingGuid>
              <Comparison>Equals</Comparison>
            </GenericCriteria>
          </MatchingCriteria>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ConditionBranchNode">
        <Id>51a97ec4-4721-4bfb-92c5-79ac915dbd9d</Id>
        <DisplayName>If Target Exists</DisplayName>
        <Children>
          <ActivityNode xsi:type="ExecuteActivityNode">
            <Id>e16649e2-a556-450c-8b1c-694a8ecb2858</Id>
            <DisplayName>Execute Cisco UCS Director Task</DisplayName>
            <Children>
              <ActivityNode xsi:type="ConditionBranchNode">
                <Id>e52e2314-d678-4373-ac8c-65722ad8a874</Id>
                <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
                <DisplayName>If Execution Fails</DisplayName>
                <Children>
                  <ActivityNode xsi:type="ExecuteActivityNode">
                    <Id>e7c0c505-d177-434a-8b89-a9760ef9227d</Id>
                    <DisplayName>Set Error Code</DisplayName>
                    <Children>
                      <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                        <Id>6cc238c0-2efa-4e70-b85c-2043618d04ed</Id>
                        <ActivityNodeId>e7c0c505-d177-434a-8b89-a9760ef9227d</ActivityNodeId>
                        <CompletedId>569e7b85-f100-4626-92f7-778906d1c5de</CompletedId>
                      </ActivityNode>
                    </Children>
                    <Configuration xsi:type="SetVariableActivityConfiguration" xml:space="preserve">
                      <Id>e7c0c505-d177-434a-8b89-a9760ef9227d</Id>
                      <DisplayName>Set Error Code</DisplayName>
                      <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                        <SingleTargetId>
                          <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                        </SingleTargetId>
                      </TargetLoadBalancer>
                      <InheritTarget>false</InheritTarget>
                      <ContainingProcessId>3ff74824-c492-45ae-b5b8-b0a193f18126</ContainingProcessId>
                      <VariableToSet>
                        <DisplayPath>Process.Variables.Output.Error Code</DisplayPath>
                        <LinkChain />
                        <ObjectId>c91d2be4-909c-4b1c-87fd-63ca7eba8d78</ObjectId>
                        <ObjectType>GlobalVariable</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableNumber">
                        <HardcodedValue>9101</HardcodedValue>
                      </NewValue>
                    </Configuration>
                  </ActivityNode>
                  <ActivityNode xsi:type="CompletedNode">
                    <Id>92404ef5-c5ca-471b-bcc6-2e83d5883610</Id>
                    <Notes>Fail the entire process</Notes>
                    <CompletedType>FailedNotCompleted</CompletedType>
                    <ResultMessage>
                      <FormattedCode>{0}</FormattedCode>
                      <References>
                        <VariableReference xsi:type="PropertyReference">
                          <LinkChain>
                            <Link xsi:type="PropertyNameLink">
                              <PropertyName>ErrorInformation</PropertyName>
                            </Link>
                          </LinkChain>
                          <ObjectId>e16649e2-a556-450c-8b1c-694a8ecb2858</ObjectId>
                          <ObjectType>ActivityInstance</ObjectType>
                        </VariableReference>
                      </References>
                    </ResultMessage>
                  </ActivityNode>
                </Children>
                <Condition>
                  <Id>e75d1986-4680-41ae-ad6c-6e33285ab261</Id>
                  <Conditions>
                    <ConditionDefinition xsi:type="VariableConditionDefinition">
                      <Id>97d2f775-9ddc-424d-96a6-1d39617104f0</Id>
                      <Expression xsi:type="SubstitutableBoolean">
                        <HardcodedValue>true</HardcodedValue>
                      </Expression>
                      <Comparison>Equals</Comparison>
                      <VariableReference xsi:type="PropertyReference">
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>InstanceFailed</PropertyName>
                          </Link>
                        </LinkChain>
                        <ObjectId>e16649e2-a556-450c-8b1c-694a8ecb2858</ObjectId>
                        <ObjectType>ActivityInstance</ObjectType>
                      </VariableReference>
                    </ConditionDefinition>
                  </Conditions>
                </Condition>
              </ActivityNode>
            </Children>
            <Configuration xsi:type="ExecuteTaskActivityConfiguration" xml:space="preserve">
              <Id>e16649e2-a556-450c-8b1c-694a8ecb2858</Id>
              <DisplayName>Execute Cisco UCS Director Task</DisplayName>
              <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
                <SingleTargetReference>
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Workflow.Find Targets.Found Targets.First</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>GetAllFoundTargets</PropertyName>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>FirstItem</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>736194c5-f057-4406-8a73-1067211c520f</ObjectId>
                      <ObjectType>ActivityInstance</ObjectType>
                    </VariableReference>
                  </References>
                </SingleTargetReference>
              </TargetLoadBalancer>
              <InheritTarget>false</InheritTarget>
              <ContainingProcessId>3ff74824-c492-45ae-b5b8-b0a193f18126</ContainingProcessId>
              <RelativeUrl>
                <FormattedCode>cloupia/api-v2/vmNetworkPolicy</FormattedCode>
              </RelativeUrl>
              <Method>
                <HardcodedValue>POST</HardcodedValue>
              </Method>
              <Request>
                <FormattedCode>&lt;cuicOperationRequest&gt;
  &lt;payload&gt;
    &lt;![CDATA[
      &lt;vmNetworkPolicy&gt;
        &lt;adapterType&gt;&lt;/adapterType&gt;
        &lt;cloudName&gt;{0}&lt;/cloudName&gt;
        &lt;copyFromTemplate&gt;true&lt;/copyFromTemplate&gt;
        &lt;dhcp&gt;false&lt;/dhcp&gt;
        &lt;gatewayList&gt;{1}&lt;/gatewayList&gt;
        &lt;policyDescription&gt;{2}&lt;/policyDescription&gt;
        &lt;policyName&gt;{3}&lt;/policyName&gt;
        &lt;portGrpType&gt;Virtual Machine Portgroup&lt;/portGrpType&gt;
        &lt;staticIpPool&gt;{4}&lt;/staticIpPool&gt;
        &lt;subnetMask&gt;{5}&lt;/subnetMask&gt;
        &lt;virtualNetworkName&gt;{6}&lt;/virtualNetworkName&gt;
      &lt;/vmNetworkPolicy&gt;
    ]]&gt;
  &lt;/payload&gt;
&lt;/cuicOperationRequest&gt;</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.XPath Query.Results.AccountName</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>Results</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>AccountName</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>2f6e64b2-60da-4516-b84f-17fa57431865</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.XPath Query.Results.GatewayList</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>Results</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>GatewayList</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>2f6e64b2-60da-4516-b84f-17fa57431865</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.XPath Query.Results.PolicyDescription</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>Results</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>PolicyDescription</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>2f6e64b2-60da-4516-b84f-17fa57431865</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.XPath Query.Results.PortgroupName</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>Results</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>PortgroupName</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>2f6e64b2-60da-4516-b84f-17fa57431865</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.XPath Query.Results.StaticIPPool</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>Results</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>StaticIPPool</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>2f6e64b2-60da-4516-b84f-17fa57431865</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.XPath Query.Results.SubnetMask</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>Results</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>SubnetMask</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>2f6e64b2-60da-4516-b84f-17fa57431865</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.XPath Query.Results.VirtualNetworkName</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>Results</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>VirtualNetworkName</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>2f6e64b2-60da-4516-b84f-17fa57431865</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </Request>
              <Timeout>
                <DisplayUnits>Seconds</DisplayUnits>
                <Period>
                  <HardcodedValue>100</HardcodedValue>
                </Period>
              </Timeout>
            </Configuration>
          </ActivityNode>
        </Children>
        <Condition>
          <Id>46f47816-c1f2-4cf8-a909-1fac2d6ca059</Id>
          <Conditions>
            <ConditionDefinition xsi:type="VariableConditionDefinition">
              <Id>a39d6d6e-d4cb-40d8-bfba-84d0e10d785f</Id>
              <Expression xsi:type="SubstitutableNumber">
                <HardcodedValue>0</HardcodedValue>
              </Expression>
              <Comparison>GreaterThan</Comparison>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Workflow.Find Targets.Found Targets.Count</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>GetAllFoundTargets</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>ItemCount</PropertyName>
                  </Link>
                </LinkChain>
                <ObjectId>736194c5-f057-4406-8a73-1067211c520f</ObjectId>
                <ObjectType>ActivityInstance</ObjectType>
              </VariableReference>
            </ConditionDefinition>
          </Conditions>
        </Condition>
      </ActivityNode>
    </Children>
  </FirstActivity>
  <ProcessId>3ff74824-c492-45ae-b5b8-b0a193f18126</ProcessId>
</WorkflowConfiguration>