<?xml version="1.0"?>
<WorkflowConfiguration xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xml:space="preserve">
  <Id>08c987b7-dedc-4f66-909a-313b7781cb9e</Id>
  <DisplayName>Provision Virtual Security Gateway</DisplayName>
  <CreatedTime>2016-02-15T20:41:24.64525Z</CreatedTime>
  <ModifiedTime>2016-02-15T20:41:42.8701171Z</ModifiedTime>
  <FirstActivity xsi:type="RootNode">
    <Id>9ec1f44d-66b3-4360-8861-0e22b83e8bc3</Id>
    <DisplayName />
    <Children>
      <ActivityNode xsi:type="StartProcessNode">
        <Id>538515eb-09d7-441f-a05e-a4ca9cae0097</Id>
        <DisplayName>Update Requisition Status</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>2651e908-5f66-49d9-9f65-523da5587a03</Id>
            <ProcessNodeId>538515eb-09d7-441f-a05e-a4ca9cae0097</ProcessNodeId>
            <CompletedId>8c4535ba-17fe-411b-bd13-6f4b8a583dbd</CompletedId>
          </ActivityNode>
        </Children>
        <ProcessId>27ac8b0e-2d5c-4a7d-b4c6-4947d040f51d</ProcessId>
        <InputVariableTable>
          <VariableAssignmentsAsArray>
            <InputVariableAssignment>
              <InputVariableId>7b33d2b5-8e24-4926-a8c7-a55dfe1d3c85</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <HardcodedValue />
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>854f35e5-cf46-4494-bf03-a123600a05e5</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <HardcodedValue />
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>fa0e45ca-7db8-4548-9c58-66bd3b0e8675</InputVariableId>
              <VariableValue xsi:type="SubstitutableNumber">
                <HardcodedValue>5</HardcodedValue>
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>b51d99b4-9b9f-4df0-8d9b-7d9eef60095c</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Process.Target.Cloud.Service.General.ServiceRequestXML.Action</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResolvedTarget</PropertyName>
                      </Link>
                      <Link xsi:type="ObjectReferenceLink">
                        <ObjectLink>
                          <Id>2132b89a-bfc4-4d72-90a3-211077c5715c</Id>
                          <ObjectType>PropertyExtension</ObjectType>
                        </ObjectLink>
                      </Link>
                    </LinkChain>
                    <ObjectType>ProcessInstance</ObjectType>
                  </VariableReference>
                </References>
              </VariableValue>
            </InputVariableAssignment>
          </VariableAssignmentsAsArray>
        </InputVariableTable>
        <Asynchronous>false</Asynchronous>
        <InheritTarget>true</InheritTarget>
        <TargetLoadBalancer xsi:type="ProcessTargetLoadBalancer" />
        <InheritPriorityClass>true</InheritPriorityClass>
        <RuntimeUserId>
          <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
        </RuntimeUserId>
        <KnowledgeBaseId>00000000-0000-0000-0000-000000000000</KnowledgeBaseId>
        <StartPointId>
          <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
        </StartPointId>
        <StartPointName>
          <FormattedCode />
        </StartPointName>
      </ActivityNode>
      <ActivityNode xsi:type="StartProcessNode">
        <Id>b2a5f0d6-2669-4543-b16f-79c90162c049</Id>
        <DisplayName>Provision VSG &gt;&gt; Pre Provision</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>c3591593-3a56-4aab-9074-ff89db4cba22</Id>
            <ProcessNodeId>b2a5f0d6-2669-4543-b16f-79c90162c049</ProcessNodeId>
            <CompletedId>96e47bf0-ef47-4b97-b08f-99a1eb11a95b</CompletedId>
          </ActivityNode>
        </Children>
        <ProcessId>4038151a-e849-45d6-9f04-82bd0d8dbfe6</ProcessId>
        <InputVariableTable>
          <VariableAssignmentsAsArray />
        </InputVariableTable>
        <Asynchronous>false</Asynchronous>
        <InheritTarget>true</InheritTarget>
        <TargetLoadBalancer xsi:type="ProcessTargetLoadBalancer" />
        <InheritPriorityClass>true</InheritPriorityClass>
        <RuntimeUserId>
          <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
        </RuntimeUserId>
        <KnowledgeBaseId>00000000-0000-0000-0000-000000000000</KnowledgeBaseId>
        <StartPointId>
          <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
        </StartPointId>
        <StartPointName>
          <FormattedCode />
        </StartPointName>
      </ActivityNode>
      <ActivityNode xsi:type="ParallelNode">
        <Id>328fbeba-7060-4342-aa67-17049a5ee835</Id>
        <DisplayName>Parallel Block</DisplayName>
        <Children>
          <ActivityNode xsi:type="SequenceNode">
            <Id>1413160d-ceac-4394-8f3d-ff083ebce83e</Id>
            <DisplayName>Sequential Block</DisplayName>
            <Children>
              <ActivityNode xsi:type="StartProcessNode">
                <Id>b6025680-db06-425b-b3e1-fcfd51b3fa59</Id>
                <DisplayName>Retrieve vCenter and Resource Pool</DisplayName>
                <Children>
                  <ActivityNode xsi:type="ConditionBranchNode">
                    <Id>784ca77b-1d5f-4403-a713-da6232ee6e51</Id>
                    <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
                    <DisplayName>If Execution Fails</DisplayName>
                    <Children>
                      <ActivityNode xsi:type="ExecuteActivityNode">
                        <Id>2e8c4462-bbb5-43a0-98c8-f30623e5ef18</Id>
                        <DisplayName>Set Remediation Settings</DisplayName>
                        <Children>
                          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                            <Id>300d4301-6477-48f6-8b1c-cbb9f7b2877a</Id>
                            <ActivityNodeId>2e8c4462-bbb5-43a0-98c8-f30623e5ef18</ActivityNodeId>
                            <CompletedId>4e6af97b-ba00-4b98-9da9-a9be2b1c5b0c</CompletedId>
                          </ActivityNode>
                        </Children>
                        <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                          <Id>2e8c4462-bbb5-43a0-98c8-f30623e5ef18</Id>
                          <DisplayName>Set Remediation Settings</DisplayName>
                          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                            <SingleTargetId>
                              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                            </SingleTargetId>
                          </TargetLoadBalancer>
                          <InheritTarget>false</InheritTarget>
                          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                          <Assignments>
                            <PropertyReferenceValuePair>
                              <VariableToSet>
                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResolvedTarget</PropertyName>
                                  </Link>
                                  <Link xsi:type="ObjectReferenceLink">
                                    <ObjectLink>
                                      <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                                      <ObjectType>PropertyExtension</ObjectType>
                                    </ObjectLink>
                                  </Link>
                                </LinkChain>
                                <ObjectType>ProcessInstance</ObjectType>
                              </VariableToSet>
                              <NewValue xsi:type="SubstitutableNumber">
                                <HardcodedValue>1012</HardcodedValue>
                              </NewValue>
                            </PropertyReferenceValuePair>
                            <PropertyReferenceValuePair>
                              <VariableToSet>
                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.Actions</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResolvedTarget</PropertyName>
                                  </Link>
                                  <Link xsi:type="ObjectReferenceLink">
                                    <ObjectLink>
                                      <Id>d3e16466-5e76-4adf-9738-9d3faf351bce</Id>
                                      <ObjectType>PropertyExtension</ObjectType>
                                    </ObjectLink>
                                  </Link>
                                </LinkChain>
                                <ObjectType>ProcessInstance</ObjectType>
                              </VariableToSet>
                              <NewValue xsi:type="SubstitutableString">
                                <HardcodedValue>Cancel</HardcodedValue>
                              </NewValue>
                            </PropertyReferenceValuePair>
                          </Assignments>
                        </Configuration>
                      </ActivityNode>
                      <ActivityNode xsi:type="CompletedNode">
                        <Id>02219d9f-7939-4f45-ba64-75690f3c990a</Id>
                        <Notes>Fail the entire process</Notes>
                        <CompletedType>FailedNotCompleted</CompletedType>
                        <ResultMessage>
                          <FormattedCode>{0}</FormattedCode>
                          <References>
                            <VariableReference xsi:type="PropertyReference">
                              <LinkChain>
                                <Link xsi:type="PropertyNameLink">
                                  <PropertyName>ErrorInformation</PropertyName>
                                </Link>
                              </LinkChain>
                              <ObjectId>b6025680-db06-425b-b3e1-fcfd51b3fa59</ObjectId>
                              <ObjectType>ProcessInstance</ObjectType>
                            </VariableReference>
                          </References>
                        </ResultMessage>
                      </ActivityNode>
                    </Children>
                    <Condition>
                      <Id>f1e0da70-480f-4ad9-a3ba-79536eda15af</Id>
                      <Conditions>
                        <ConditionDefinition xsi:type="VariableConditionDefinition">
                          <Id>b9a97bd2-3262-4020-8840-0d8ae0770c06</Id>
                          <Expression xsi:type="SubstitutableBoolean">
                            <HardcodedValue>true</HardcodedValue>
                          </Expression>
                          <Comparison>Equals</Comparison>
                          <VariableReference xsi:type="PropertyReference">
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>InstanceFailed</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectId>b6025680-db06-425b-b3e1-fcfd51b3fa59</ObjectId>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableReference>
                        </ConditionDefinition>
                      </Conditions>
                    </Condition>
                  </ActivityNode>
                </Children>
                <ProcessId>d6c24223-8803-47c0-af04-c5696f7c0a5b</ProcessId>
                <InputVariableTable>
                  <VariableAssignmentsAsArray>
                    <InputVariableAssignment>
                      <InputVariableId>7a649f4a-613e-44fd-a609-27487b30bc71</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>61fa70ab-5890-4645-a21c-bcc9c980659e</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>15240ce4-17e6-4848-a227-db1bc1668b06</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>dcecbf57-df0a-45e9-acf2-5f374790e44f</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>44b9366b-7a9e-44c9-ac57-c3da36bfb0a5</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>8900a0d8-1af9-4fea-8826-8c1504a484f9</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <FormattedCode>{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Variables.Input.vCenterResourcePool</DisplayPath>
                            <LinkChain />
                            <ObjectId>02320cef-eb4f-43c9-81cc-b7f30dcf442a</ObjectId>
                            <ObjectType>GlobalVariable</ObjectType>
                          </VariableReference>
                        </References>
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>48904642-9042-4a09-8f88-d22b0d7ba392</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue>UniqueID</HardcodedValue>
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>d77bb3bf-3961-493b-87ac-89e46eb56d6c</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue>ResourcePool</HardcodedValue>
                      </VariableValue>
                    </InputVariableAssignment>
                  </VariableAssignmentsAsArray>
                </InputVariableTable>
                <Asynchronous>false</Asynchronous>
                <InheritTarget>false</InheritTarget>
                <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
                  <SingleTargetReference>
                    <FormattedCode />
                    <HardcodedValue>
                      <Id>ba183b27-04b2-4f17-aa1d-709221bd68f5</Id>
                      <ObjectType>Target</ObjectType>
                    </HardcodedValue>
                  </SingleTargetReference>
                </TargetLoadBalancer>
                <InheritPriorityClass>true</InheritPriorityClass>
                <RuntimeUserId>
                  <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
                </RuntimeUserId>
                <KnowledgeBaseId>00000000-0000-0000-0000-000000000000</KnowledgeBaseId>
                <StartPointId>
                  <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
                </StartPointId>
                <StartPointName>
                  <FormattedCode />
                </StartPointName>
              </ActivityNode>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>67de8ca3-9176-49ee-b9e3-3f0d7e902064</Id>
                <DisplayName>Read vCenter and Resource Pool</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>35760ae2-1434-4ccf-aa1e-ba9a0a6b6e87</Id>
                    <ActivityNodeId>67de8ca3-9176-49ee-b9e3-3f0d7e902064</ActivityNodeId>
                    <CompletedId>1507d097-2504-43a6-abf3-5350c455db71</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="ReadTableFromXmlActivityConfiguration" xml:space="preserve">
                  <Id>67de8ca3-9176-49ee-b9e3-3f0d7e902064</Id>
                  <DisplayName>Read vCenter and Resource Pool</DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                  <Columns>
                    <BuiltinTableColumn>
                      <Name>PlatformElementID</Name>
                      <DataType>System.String</DataType>
                    </BuiltinTableColumn>
                    <BuiltinTableColumn>
                      <Name>MORef</Name>
                      <DataType>System.String</DataType>
                    </BuiltinTableColumn>
                    <BuiltinTableColumn>
                      <Name>Datacenter</Name>
                      <DataType>System.String</DataType>
                    </BuiltinTableColumn>
                  </Columns>
                  <XmlRowElementName>
                    <HardcodedValue>row</HardcodedValue>
                  </XmlRowElementName>
                  <XmlString>
                    <FormattedCode>{0}</FormattedCode>
                    <References>
                      <VariableReference xsi:type="PropertyReference">
                        <DisplayPath>Workflow.Retrieve vCenter and Resource Pool.ResultsTable XML</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="ProcessOutputVariableLink">
                            <LaunchingActivityId>b6025680-db06-425b-b3e1-fcfd51b3fa59</LaunchingActivityId>
                            <OutputVariableId>d4e94a28-84a7-4635-b8f5-db6fc2a37b62</OutputVariableId>
                          </Link>
                        </LinkChain>
                        <ObjectId>b6025680-db06-425b-b3e1-fcfd51b3fa59</ObjectId>
                        <ObjectType>WorkflowNode</ObjectType>
                      </VariableReference>
                    </References>
                  </XmlString>
                </Configuration>
              </ActivityNode>
              <ActivityNode xsi:type="StartProcessNode">
                <Id>eb0cfd47-dbbd-4d5f-9642-39873ba5ee1c</Id>
                <DisplayName>Retrieve Datastore</DisplayName>
                <Children>
                  <ActivityNode xsi:type="ConditionBranchNode">
                    <Id>a3f84b7d-872a-476f-998b-bc5ad7b413a1</Id>
                    <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
                    <DisplayName>If Execution Fails</DisplayName>
                    <Children>
                      <ActivityNode xsi:type="ExecuteActivityNode">
                        <Id>d91aa5e9-3be6-4cdd-b471-c7e43e551680</Id>
                        <DisplayName>Set Remediation Settings </DisplayName>
                        <Children>
                          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                            <Id>3787ab10-c354-47ca-84e9-5055e7cbf028</Id>
                            <ActivityNodeId>d91aa5e9-3be6-4cdd-b471-c7e43e551680</ActivityNodeId>
                            <CompletedId>e75fb886-9ed4-420d-bda4-8c951014a13c</CompletedId>
                          </ActivityNode>
                        </Children>
                        <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                          <Id>d91aa5e9-3be6-4cdd-b471-c7e43e551680</Id>
                          <DisplayName>Set Remediation Settings </DisplayName>
                          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                            <SingleTargetId>
                              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                            </SingleTargetId>
                          </TargetLoadBalancer>
                          <InheritTarget>false</InheritTarget>
                          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                          <Assignments>
                            <PropertyReferenceValuePair>
                              <VariableToSet>
                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResolvedTarget</PropertyName>
                                  </Link>
                                  <Link xsi:type="ObjectReferenceLink">
                                    <ObjectLink>
                                      <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                                      <ObjectType>PropertyExtension</ObjectType>
                                    </ObjectLink>
                                  </Link>
                                </LinkChain>
                                <ObjectType>ProcessInstance</ObjectType>
                              </VariableToSet>
                              <NewValue xsi:type="SubstitutableNumber">
                                <HardcodedValue>1012</HardcodedValue>
                              </NewValue>
                            </PropertyReferenceValuePair>
                            <PropertyReferenceValuePair>
                              <VariableToSet>
                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.Actions</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResolvedTarget</PropertyName>
                                  </Link>
                                  <Link xsi:type="ObjectReferenceLink">
                                    <ObjectLink>
                                      <Id>d3e16466-5e76-4adf-9738-9d3faf351bce</Id>
                                      <ObjectType>PropertyExtension</ObjectType>
                                    </ObjectLink>
                                  </Link>
                                </LinkChain>
                                <ObjectType>ProcessInstance</ObjectType>
                              </VariableToSet>
                              <NewValue xsi:type="SubstitutableString">
                                <HardcodedValue>Cancel</HardcodedValue>
                              </NewValue>
                            </PropertyReferenceValuePair>
                          </Assignments>
                        </Configuration>
                      </ActivityNode>
                      <ActivityNode xsi:type="CompletedNode">
                        <Id>3b0d8a70-38f2-4196-91c6-352b2db9de1c</Id>
                        <Notes>Fail the entire process</Notes>
                        <CompletedType>FailedNotCompleted</CompletedType>
                        <ResultMessage>
                          <FormattedCode>{0}</FormattedCode>
                          <References>
                            <VariableReference xsi:type="PropertyReference">
                              <LinkChain>
                                <Link xsi:type="PropertyNameLink">
                                  <PropertyName>ErrorInformation</PropertyName>
                                </Link>
                              </LinkChain>
                              <ObjectId>eb0cfd47-dbbd-4d5f-9642-39873ba5ee1c</ObjectId>
                              <ObjectType>ProcessInstance</ObjectType>
                            </VariableReference>
                          </References>
                        </ResultMessage>
                      </ActivityNode>
                    </Children>
                    <Condition>
                      <Id>1b963ae6-d8b5-4310-9a72-b21d632af6fe</Id>
                      <Conditions>
                        <ConditionDefinition xsi:type="VariableConditionDefinition">
                          <Id>891f9250-d438-40cf-a323-a5cc38fdb831</Id>
                          <Expression xsi:type="SubstitutableBoolean">
                            <HardcodedValue>true</HardcodedValue>
                          </Expression>
                          <Comparison>Equals</Comparison>
                          <VariableReference xsi:type="PropertyReference">
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>InstanceFailed</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectId>eb0cfd47-dbbd-4d5f-9642-39873ba5ee1c</ObjectId>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableReference>
                        </ConditionDefinition>
                      </Conditions>
                    </Condition>
                  </ActivityNode>
                </Children>
                <ProcessId>d6c24223-8803-47c0-af04-c5696f7c0a5b</ProcessId>
                <InputVariableTable>
                  <VariableAssignmentsAsArray>
                    <InputVariableAssignment>
                      <InputVariableId>7a649f4a-613e-44fd-a609-27487b30bc71</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>61fa70ab-5890-4645-a21c-bcc9c980659e</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>15240ce4-17e6-4848-a227-db1bc1668b06</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>dcecbf57-df0a-45e9-acf2-5f374790e44f</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>44b9366b-7a9e-44c9-ac57-c3da36bfb0a5</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>8900a0d8-1af9-4fea-8826-8c1504a484f9</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <FormattedCode>{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Variables.Input.vCenterDatastore</DisplayPath>
                            <LinkChain />
                            <ObjectId>1b60d944-e62d-42ad-b2b7-e8b22d3a901e</ObjectId>
                            <ObjectType>GlobalVariable</ObjectType>
                          </VariableReference>
                        </References>
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>48904642-9042-4a09-8f88-d22b0d7ba392</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue>UniqueID</HardcodedValue>
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>d77bb3bf-3961-493b-87ac-89e46eb56d6c</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue>Datastore</HardcodedValue>
                      </VariableValue>
                    </InputVariableAssignment>
                  </VariableAssignmentsAsArray>
                </InputVariableTable>
                <Asynchronous>false</Asynchronous>
                <InheritTarget>false</InheritTarget>
                <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
                  <SingleTargetReference>
                    <FormattedCode />
                    <HardcodedValue>
                      <Id>ba183b27-04b2-4f17-aa1d-709221bd68f5</Id>
                      <ObjectType>Target</ObjectType>
                    </HardcodedValue>
                  </SingleTargetReference>
                </TargetLoadBalancer>
                <InheritPriorityClass>true</InheritPriorityClass>
                <RuntimeUserId>
                  <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
                </RuntimeUserId>
                <KnowledgeBaseId>00000000-0000-0000-0000-000000000000</KnowledgeBaseId>
                <StartPointId>
                  <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
                </StartPointId>
                <StartPointName>
                  <FormattedCode />
                </StartPointName>
              </ActivityNode>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>2de73ba1-b950-4ace-a7db-1184a1cd9189</Id>
                <DisplayName>Read Datastore</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>9b608016-2bb9-45e7-a357-0bac1034ad81</Id>
                    <ActivityNodeId>2de73ba1-b950-4ace-a7db-1184a1cd9189</ActivityNodeId>
                    <CompletedId>aea20c83-52c8-490d-afe8-a0307d35cfd7</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="ReadTableFromXmlActivityConfiguration" xml:space="preserve">
                  <Id>2de73ba1-b950-4ace-a7db-1184a1cd9189</Id>
                  <DisplayName>Read Datastore</DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                  <Columns>
                    <BuiltinTableColumn>
                      <Name>MORef</Name>
                      <DataType>System.String</DataType>
                    </BuiltinTableColumn>
                    <BuiltinTableColumn>
                      <Name>DatastoreCluster</Name>
                      <DataType>System.String</DataType>
                    </BuiltinTableColumn>
                  </Columns>
                  <XmlRowElementName>
                    <HardcodedValue>row</HardcodedValue>
                  </XmlRowElementName>
                  <XmlString>
                    <FormattedCode>{0}</FormattedCode>
                    <References>
                      <VariableReference xsi:type="PropertyReference">
                        <DisplayPath>Workflow.Retrieve Datastore.ResultsTable XML</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="ProcessOutputVariableLink">
                            <LaunchingActivityId>eb0cfd47-dbbd-4d5f-9642-39873ba5ee1c</LaunchingActivityId>
                            <OutputVariableId>d4e94a28-84a7-4635-b8f5-db6fc2a37b62</OutputVariableId>
                          </Link>
                        </LinkChain>
                        <ObjectId>eb0cfd47-dbbd-4d5f-9642-39873ba5ee1c</ObjectId>
                        <ObjectType>WorkflowNode</ObjectType>
                      </VariableReference>
                    </References>
                  </XmlString>
                </Configuration>
              </ActivityNode>
              <ActivityNode xsi:type="SwitchNode">
                <Id>baee8885-dfa4-408b-b160-94d340e76668</Id>
                <DisplayName>Condition Block</DisplayName>
                <Children>
                  <ActivityNode xsi:type="ConditionBranchNode">
                    <Id>b8ae73cd-9c97-4459-b3a1-8e16d297753e</Id>
                    <DisplayName>If No Datastore Cluster</DisplayName>
                    <Children>
                      <ActivityNode xsi:type="ExecuteActivityNode">
                        <Id>2551540a-5cb3-4b0d-b463-5cf28e37ca0d</Id>
                        <DisplayName>Set Datastore Id</DisplayName>
                        <Children>
                          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                            <Id>81c34e5a-fb97-4a6c-add9-33567d7c81cd</Id>
                            <ActivityNodeId>2551540a-5cb3-4b0d-b463-5cf28e37ca0d</ActivityNodeId>
                            <CompletedId>1c2412b4-d916-44c5-b9f6-a20c4b55f0d3</CompletedId>
                          </ActivityNode>
                        </Children>
                        <Configuration xsi:type="SetVariableActivityConfiguration" xml:space="preserve">
                          <Id>2551540a-5cb3-4b0d-b463-5cf28e37ca0d</Id>
                          <DisplayName>Set Datastore Id</DisplayName>
                          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                            <SingleTargetId>
                              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                            </SingleTargetId>
                          </TargetLoadBalancer>
                          <InheritTarget>false</InheritTarget>
                          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                          <VariableToSet>
                            <DisplayPath>Process.Variables.Local.Datastore ID</DisplayPath>
                            <LinkChain />
                            <ObjectId>46f68e7b-1fce-4c7a-a204-1b4d4651688b</ObjectId>
                            <ObjectType>GlobalVariable</ObjectType>
                          </VariableToSet>
                          <NewValue xsi:type="SubstitutableString">
                            <FormattedCode>Datastore-{0}</FormattedCode>
                            <References>
                              <VariableReference xsi:type="PropertyReference">
                                <DisplayPath>Workflow.Read Datastore.Result Table.First Row.MORef</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResultTable</PropertyName>
                                  </Link>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>FirstRow</PropertyName>
                                  </Link>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>MORef</PropertyName>
                                  </Link>
                                </LinkChain>
                                <ObjectId>2de73ba1-b950-4ace-a7db-1184a1cd9189</ObjectId>
                                <ObjectType>ActivityInstance</ObjectType>
                              </VariableReference>
                            </References>
                          </NewValue>
                        </Configuration>
                      </ActivityNode>
                    </Children>
                    <Condition>
                      <Id>4bf77c71-1607-4015-bffc-8566f6ad5505</Id>
                      <Conditions>
                        <ConditionDefinition xsi:type="VariableConditionDefinition">
                          <Id>c7c30b11-af13-41fd-ad07-ed921c845fda</Id>
                          <Expression xsi:type="SubstitutableString">
                            <HardcodedValue>No</HardcodedValue>
                          </Expression>
                          <Comparison>Equals</Comparison>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Workflow.Read Datastore.Result Table.First Row.DatastoreCluster</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResultTable</PropertyName>
                              </Link>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>FirstRow</PropertyName>
                              </Link>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>DatastoreCluster</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectId>2de73ba1-b950-4ace-a7db-1184a1cd9189</ObjectId>
                            <ObjectType>ActivityInstance</ObjectType>
                          </VariableReference>
                        </ConditionDefinition>
                      </Conditions>
                    </Condition>
                  </ActivityNode>
                  <ActivityNode xsi:type="ConditionBranchNode">
                    <Id>09a2e777-57a4-465b-a2e2-694df6f6788a</Id>
                    <DisplayName>Condition Branch</DisplayName>
                    <Children>
                      <ActivityNode xsi:type="ExecuteActivityNode">
                        <Id>c16ce7e2-68a1-4c1a-b12f-2512f6650173</Id>
                        <DisplayName>Set Datastore Id</DisplayName>
                        <Children>
                          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                            <Id>46f11663-19ec-4346-82b1-695b404e750f</Id>
                            <ActivityNodeId>c16ce7e2-68a1-4c1a-b12f-2512f6650173</ActivityNodeId>
                            <CompletedId>e8f68a0f-333e-4a7b-9df0-95f1b81464c4</CompletedId>
                          </ActivityNode>
                        </Children>
                        <Configuration xsi:type="SetVariableActivityConfiguration" xml:space="preserve">
                          <Id>c16ce7e2-68a1-4c1a-b12f-2512f6650173</Id>
                          <DisplayName>Set Datastore Id</DisplayName>
                          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                            <SingleTargetId>
                              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                            </SingleTargetId>
                          </TargetLoadBalancer>
                          <InheritTarget>false</InheritTarget>
                          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                          <VariableToSet>
                            <DisplayPath>Process.Variables.Local.Datastore ID</DisplayPath>
                            <LinkChain />
                            <ObjectId>46f68e7b-1fce-4c7a-a204-1b4d4651688b</ObjectId>
                            <ObjectType>GlobalVariable</ObjectType>
                          </VariableToSet>
                          <NewValue xsi:type="SubstitutableString">
                            <FormattedCode>StoragePod-{0}</FormattedCode>
                            <References>
                              <VariableReference xsi:type="PropertyReference">
                                <DisplayPath>Workflow.Read Datastore.Result Table.First Row.MORef</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResultTable</PropertyName>
                                  </Link>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>FirstRow</PropertyName>
                                  </Link>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>MORef</PropertyName>
                                  </Link>
                                </LinkChain>
                                <ObjectId>2de73ba1-b950-4ace-a7db-1184a1cd9189</ObjectId>
                                <ObjectType>ActivityInstance</ObjectType>
                              </VariableReference>
                            </References>
                          </NewValue>
                        </Configuration>
                      </ActivityNode>
                    </Children>
                    <Condition>
                      <Id>1da226ab-8a60-40a7-a713-5584b4354326</Id>
                      <Conditions />
                    </Condition>
                  </ActivityNode>
                </Children>
              </ActivityNode>
            </Children>
          </ActivityNode>
          <ActivityNode xsi:type="SequenceNode">
            <Id>06537a47-62ac-4f7a-9adc-aa15dfad3890</Id>
            <DisplayName>Sequential Block</DisplayName>
            <Children>
              <ActivityNode xsi:type="StartProcessNode">
                <Id>1311ad76-bdac-4a22-8559-8e0fdc611e0a</Id>
                <DisplayName>Retrieve Management VLAN</DisplayName>
                <Children>
                  <ActivityNode xsi:type="ConditionBranchNode">
                    <Id>fcb22076-231c-4215-97e0-103a885e99bf</Id>
                    <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
                    <DisplayName>If Execution Fails</DisplayName>
                    <Children>
                      <ActivityNode xsi:type="ExecuteActivityNode">
                        <Id>c461019c-bc98-48a8-af2c-583d0bf52988</Id>
                        <DisplayName>Set Remediation Settings</DisplayName>
                        <Children>
                          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                            <Id>df40bc73-4255-4eef-a2d6-10438654db42</Id>
                            <ActivityNodeId>c461019c-bc98-48a8-af2c-583d0bf52988</ActivityNodeId>
                            <CompletedId>bada3d11-3aa7-410c-967b-94a51fff5534</CompletedId>
                          </ActivityNode>
                        </Children>
                        <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                          <Id>c461019c-bc98-48a8-af2c-583d0bf52988</Id>
                          <DisplayName>Set Remediation Settings</DisplayName>
                          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                            <SingleTargetId>
                              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                            </SingleTargetId>
                          </TargetLoadBalancer>
                          <InheritTarget>false</InheritTarget>
                          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                          <Assignments>
                            <PropertyReferenceValuePair>
                              <VariableToSet>
                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResolvedTarget</PropertyName>
                                  </Link>
                                  <Link xsi:type="ObjectReferenceLink">
                                    <ObjectLink>
                                      <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                                      <ObjectType>PropertyExtension</ObjectType>
                                    </ObjectLink>
                                  </Link>
                                </LinkChain>
                                <ObjectType>ProcessInstance</ObjectType>
                              </VariableToSet>
                              <NewValue xsi:type="SubstitutableNumber">
                                <HardcodedValue>1012</HardcodedValue>
                              </NewValue>
                            </PropertyReferenceValuePair>
                            <PropertyReferenceValuePair>
                              <VariableToSet>
                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.Actions</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResolvedTarget</PropertyName>
                                  </Link>
                                  <Link xsi:type="ObjectReferenceLink">
                                    <ObjectLink>
                                      <Id>d3e16466-5e76-4adf-9738-9d3faf351bce</Id>
                                      <ObjectType>PropertyExtension</ObjectType>
                                    </ObjectLink>
                                  </Link>
                                </LinkChain>
                                <ObjectType>ProcessInstance</ObjectType>
                              </VariableToSet>
                              <NewValue xsi:type="SubstitutableString">
                                <HardcodedValue>Cancel</HardcodedValue>
                              </NewValue>
                            </PropertyReferenceValuePair>
                          </Assignments>
                        </Configuration>
                      </ActivityNode>
                      <ActivityNode xsi:type="CompletedNode">
                        <Id>3a465993-86f8-4a27-b5ac-8180efa5b515</Id>
                        <Notes>Fail the entire process</Notes>
                        <CompletedType>FailedNotCompleted</CompletedType>
                        <ResultMessage>
                          <FormattedCode>{0}</FormattedCode>
                          <References>
                            <VariableReference xsi:type="PropertyReference">
                              <LinkChain>
                                <Link xsi:type="PropertyNameLink">
                                  <PropertyName>ErrorInformation</PropertyName>
                                </Link>
                              </LinkChain>
                              <ObjectId>1311ad76-bdac-4a22-8559-8e0fdc611e0a</ObjectId>
                              <ObjectType>ProcessInstance</ObjectType>
                            </VariableReference>
                          </References>
                        </ResultMessage>
                      </ActivityNode>
                    </Children>
                    <Condition>
                      <Id>a50d17fd-4d67-4184-9f77-ba6974019135</Id>
                      <Conditions>
                        <ConditionDefinition xsi:type="VariableConditionDefinition">
                          <Id>eac62d59-2e48-467c-ba7d-343dba672ac1</Id>
                          <Expression xsi:type="SubstitutableBoolean">
                            <HardcodedValue>true</HardcodedValue>
                          </Expression>
                          <Comparison>Equals</Comparison>
                          <VariableReference xsi:type="PropertyReference">
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>InstanceFailed</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectId>1311ad76-bdac-4a22-8559-8e0fdc611e0a</ObjectId>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableReference>
                        </ConditionDefinition>
                      </Conditions>
                    </Condition>
                  </ActivityNode>
                </Children>
                <ProcessId>d6c24223-8803-47c0-af04-c5696f7c0a5b</ProcessId>
                <InputVariableTable>
                  <VariableAssignmentsAsArray>
                    <InputVariableAssignment>
                      <InputVariableId>7a649f4a-613e-44fd-a609-27487b30bc71</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>61fa70ab-5890-4645-a21c-bcc9c980659e</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>15240ce4-17e6-4848-a227-db1bc1668b06</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>dcecbf57-df0a-45e9-acf2-5f374790e44f</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>44b9366b-7a9e-44c9-ac57-c3da36bfb0a5</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>8900a0d8-1af9-4fea-8826-8c1504a484f9</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <FormattedCode>{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Variables.Input.Infrastructure network</DisplayPath>
                            <LinkChain />
                            <ObjectId>b42b2dd2-d0b3-4db5-bc07-7e75bd9e73de</ObjectId>
                            <ObjectType>GlobalVariable</ObjectType>
                          </VariableReference>
                        </References>
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>48904642-9042-4a09-8f88-d22b0d7ba392</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue>Name</HardcodedValue>
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>d77bb3bf-3961-493b-87ac-89e46eb56d6c</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue>VLANInstance</HardcodedValue>
                      </VariableValue>
                    </InputVariableAssignment>
                  </VariableAssignmentsAsArray>
                </InputVariableTable>
                <Asynchronous>false</Asynchronous>
                <InheritTarget>false</InheritTarget>
                <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
                  <SingleTargetReference>
                    <FormattedCode />
                    <HardcodedValue>
                      <Id>ba183b27-04b2-4f17-aa1d-709221bd68f5</Id>
                      <ObjectType>Target</ObjectType>
                    </HardcodedValue>
                  </SingleTargetReference>
                </TargetLoadBalancer>
                <InheritPriorityClass>true</InheritPriorityClass>
                <RuntimeUserId>
                  <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
                </RuntimeUserId>
                <KnowledgeBaseId>00000000-0000-0000-0000-000000000000</KnowledgeBaseId>
                <StartPointId>
                  <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
                </StartPointId>
                <StartPointName>
                  <FormattedCode />
                </StartPointName>
              </ActivityNode>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>3fb2f1b6-58df-4323-93dd-3695de72bdb8</Id>
                <DisplayName>Read Management VLAN</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>e9c6847b-b0a2-4152-a578-cd81dce7b8b1</Id>
                    <ActivityNodeId>3fb2f1b6-58df-4323-93dd-3695de72bdb8</ActivityNodeId>
                    <CompletedId>2b57bb09-eea8-48f1-9d93-86ab095d4e08</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="ReadTableFromXmlActivityConfiguration" xml:space="preserve">
                  <Id>3fb2f1b6-58df-4323-93dd-3695de72bdb8</Id>
                  <DisplayName>Read Management VLAN</DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                  <Columns>
                    <BuiltinTableColumn>
                      <Name>vCenterNetPath</Name>
                      <DataType>System.String</DataType>
                    </BuiltinTableColumn>
                  </Columns>
                  <XmlRowElementName>
                    <HardcodedValue>row</HardcodedValue>
                  </XmlRowElementName>
                  <XmlString>
                    <FormattedCode>{0}</FormattedCode>
                    <References>
                      <VariableReference xsi:type="PropertyReference">
                        <DisplayPath>Workflow.Retrieve Management VLAN.ResultsTable XML</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="ProcessOutputVariableLink">
                            <LaunchingActivityId>1311ad76-bdac-4a22-8559-8e0fdc611e0a</LaunchingActivityId>
                            <OutputVariableId>d4e94a28-84a7-4635-b8f5-db6fc2a37b62</OutputVariableId>
                          </Link>
                        </LinkChain>
                        <ObjectId>1311ad76-bdac-4a22-8559-8e0fdc611e0a</ObjectId>
                        <ObjectType>WorkflowNode</ObjectType>
                      </VariableReference>
                    </References>
                  </XmlString>
                </Configuration>
              </ActivityNode>
              <ActivityNode xsi:type="StartProcessNode">
                <Id>3147cebd-7873-4670-a00c-34e1ef6ad249</Id>
                <DisplayName>Retrieve Service VLAN</DisplayName>
                <Children>
                  <ActivityNode xsi:type="ConditionBranchNode">
                    <Id>5bbfb306-2205-4b41-8728-7a895892ec09</Id>
                    <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
                    <DisplayName>If Execution Fails</DisplayName>
                    <Children>
                      <ActivityNode xsi:type="ExecuteActivityNode">
                        <Id>a01e9c44-cb76-40f0-bb1a-9d4247987528</Id>
                        <DisplayName>Set Remediation Settings</DisplayName>
                        <Children>
                          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                            <Id>3eccde83-a34b-42ce-af51-918cc3c45215</Id>
                            <ActivityNodeId>a01e9c44-cb76-40f0-bb1a-9d4247987528</ActivityNodeId>
                            <CompletedId>d989f01c-75a4-4f51-b4a6-1fa44a15ea24</CompletedId>
                          </ActivityNode>
                        </Children>
                        <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                          <Id>a01e9c44-cb76-40f0-bb1a-9d4247987528</Id>
                          <DisplayName>Set Remediation Settings</DisplayName>
                          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                            <SingleTargetId>
                              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                            </SingleTargetId>
                          </TargetLoadBalancer>
                          <InheritTarget>false</InheritTarget>
                          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                          <Assignments>
                            <PropertyReferenceValuePair>
                              <VariableToSet>
                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResolvedTarget</PropertyName>
                                  </Link>
                                  <Link xsi:type="ObjectReferenceLink">
                                    <ObjectLink>
                                      <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                                      <ObjectType>PropertyExtension</ObjectType>
                                    </ObjectLink>
                                  </Link>
                                </LinkChain>
                                <ObjectType>ProcessInstance</ObjectType>
                              </VariableToSet>
                              <NewValue xsi:type="SubstitutableNumber">
                                <HardcodedValue>1012</HardcodedValue>
                              </NewValue>
                            </PropertyReferenceValuePair>
                            <PropertyReferenceValuePair>
                              <VariableToSet>
                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.Actions</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResolvedTarget</PropertyName>
                                  </Link>
                                  <Link xsi:type="ObjectReferenceLink">
                                    <ObjectLink>
                                      <Id>d3e16466-5e76-4adf-9738-9d3faf351bce</Id>
                                      <ObjectType>PropertyExtension</ObjectType>
                                    </ObjectLink>
                                  </Link>
                                </LinkChain>
                                <ObjectType>ProcessInstance</ObjectType>
                              </VariableToSet>
                              <NewValue xsi:type="SubstitutableString">
                                <HardcodedValue>Cancel</HardcodedValue>
                              </NewValue>
                            </PropertyReferenceValuePair>
                          </Assignments>
                        </Configuration>
                      </ActivityNode>
                      <ActivityNode xsi:type="CompletedNode">
                        <Id>8bfad63a-d929-4059-94cf-09696f7f653b</Id>
                        <Notes>Fail the entire process</Notes>
                        <CompletedType>FailedNotCompleted</CompletedType>
                        <ResultMessage>
                          <FormattedCode>{0}</FormattedCode>
                          <References>
                            <VariableReference xsi:type="PropertyReference">
                              <LinkChain>
                                <Link xsi:type="PropertyNameLink">
                                  <PropertyName>ErrorInformation</PropertyName>
                                </Link>
                              </LinkChain>
                              <ObjectId>3147cebd-7873-4670-a00c-34e1ef6ad249</ObjectId>
                              <ObjectType>ProcessInstance</ObjectType>
                            </VariableReference>
                          </References>
                        </ResultMessage>
                      </ActivityNode>
                    </Children>
                    <Condition>
                      <Id>3c04b5f0-dbcf-4b4e-bcc8-e5fcf11bdcd7</Id>
                      <Conditions>
                        <ConditionDefinition xsi:type="VariableConditionDefinition">
                          <Id>f9702cf8-2900-4a85-8c48-274bbd23bf84</Id>
                          <Expression xsi:type="SubstitutableBoolean">
                            <HardcodedValue>true</HardcodedValue>
                          </Expression>
                          <Comparison>Equals</Comparison>
                          <VariableReference xsi:type="PropertyReference">
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>InstanceFailed</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectId>3147cebd-7873-4670-a00c-34e1ef6ad249</ObjectId>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableReference>
                        </ConditionDefinition>
                      </Conditions>
                    </Condition>
                  </ActivityNode>
                </Children>
                <ProcessId>d6c24223-8803-47c0-af04-c5696f7c0a5b</ProcessId>
                <InputVariableTable>
                  <VariableAssignmentsAsArray>
                    <InputVariableAssignment>
                      <InputVariableId>7a649f4a-613e-44fd-a609-27487b30bc71</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>61fa70ab-5890-4645-a21c-bcc9c980659e</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>15240ce4-17e6-4848-a227-db1bc1668b06</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>dcecbf57-df0a-45e9-acf2-5f374790e44f</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>44b9366b-7a9e-44c9-ac57-c3da36bfb0a5</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue />
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>8900a0d8-1af9-4fea-8826-8c1504a484f9</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <FormattedCode>{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Variables.Input.Service VLAN</DisplayPath>
                            <LinkChain />
                            <ObjectId>b7ebec72-8087-4b06-8c89-3bd731c364f4</ObjectId>
                            <ObjectType>GlobalVariable</ObjectType>
                          </VariableReference>
                        </References>
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>48904642-9042-4a09-8f88-d22b0d7ba392</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue>Name</HardcodedValue>
                      </VariableValue>
                    </InputVariableAssignment>
                    <InputVariableAssignment>
                      <InputVariableId>d77bb3bf-3961-493b-87ac-89e46eb56d6c</InputVariableId>
                      <VariableValue xsi:type="SubstitutableString">
                        <HardcodedValue>VLANInstance</HardcodedValue>
                      </VariableValue>
                    </InputVariableAssignment>
                  </VariableAssignmentsAsArray>
                </InputVariableTable>
                <Asynchronous>false</Asynchronous>
                <InheritTarget>false</InheritTarget>
                <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
                  <SingleTargetReference>
                    <FormattedCode />
                    <HardcodedValue>
                      <Id>ba183b27-04b2-4f17-aa1d-709221bd68f5</Id>
                      <ObjectType>Target</ObjectType>
                    </HardcodedValue>
                  </SingleTargetReference>
                </TargetLoadBalancer>
                <InheritPriorityClass>true</InheritPriorityClass>
                <RuntimeUserId>
                  <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
                </RuntimeUserId>
                <KnowledgeBaseId>00000000-0000-0000-0000-000000000000</KnowledgeBaseId>
                <StartPointId>
                  <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
                </StartPointId>
                <StartPointName>
                  <FormattedCode />
                </StartPointName>
              </ActivityNode>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>1079bbd2-7109-483e-b590-22aa0a011472</Id>
                <DisplayName>Read Service VLAN</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>fac03a44-eec7-4e00-b717-c13875f8d0d0</Id>
                    <ActivityNodeId>1079bbd2-7109-483e-b590-22aa0a011472</ActivityNodeId>
                    <CompletedId>425d8d68-8539-4783-9d79-f0a49492a025</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="ReadTableFromXmlActivityConfiguration" xml:space="preserve">
                  <Id>1079bbd2-7109-483e-b590-22aa0a011472</Id>
                  <DisplayName>Read Service VLAN</DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                  <Columns>
                    <BuiltinTableColumn>
                      <Name>vCenterNetPath</Name>
                      <DataType>System.String</DataType>
                    </BuiltinTableColumn>
                  </Columns>
                  <XmlRowElementName>
                    <HardcodedValue>row</HardcodedValue>
                  </XmlRowElementName>
                  <XmlString>
                    <FormattedCode>{0}</FormattedCode>
                    <References>
                      <VariableReference xsi:type="PropertyReference">
                        <DisplayPath>Workflow.Retrieve Service VLAN.ResultsTable XML</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="ProcessOutputVariableLink">
                            <LaunchingActivityId>3147cebd-7873-4670-a00c-34e1ef6ad249</LaunchingActivityId>
                            <OutputVariableId>d4e94a28-84a7-4635-b8f5-db6fc2a37b62</OutputVariableId>
                          </Link>
                        </LinkChain>
                        <ObjectId>3147cebd-7873-4670-a00c-34e1ef6ad249</ObjectId>
                        <ObjectType>WorkflowNode</ObjectType>
                      </VariableReference>
                    </References>
                  </XmlString>
                </Configuration>
              </ActivityNode>
            </Children>
          </ActivityNode>
        </Children>
      </ActivityNode>
      <ActivityNode xsi:type="ConditionBranchNode">
        <Id>a2da7fbe-68b1-4495-9696-64eea056b3a2</Id>
        <DisplayName>Condition Branch</DisplayName>
        <Children>
          <ActivityNode xsi:type="StartProcessNode">
            <Id>a4d0b28c-ab8c-41be-9a6b-3e3808822529</Id>
            <DisplayName>Get Management IP Address</DisplayName>
            <Children>
              <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                <Id>89b01a99-6009-4afd-b8c0-d7b55f0d8db8</Id>
                <ProcessNodeId>a4d0b28c-ab8c-41be-9a6b-3e3808822529</ProcessNodeId>
                <CompletedId>3f97331b-3c4b-4ab5-a0cb-f8bd2b358088</CompletedId>
              </ActivityNode>
            </Children>
            <ProcessId>e638236a-93ea-4292-8915-b568a9b40ee2</ProcessId>
            <InputVariableTable>
              <VariableAssignmentsAsArray>
                <InputVariableAssignment>
                  <InputVariableId>abbf6c6a-cdc0-4a27-a2fe-ec6aae360019</InputVariableId>
                  <VariableValue xsi:type="SubstitutableString">
                    <HardcodedValue />
                  </VariableValue>
                </InputVariableAssignment>
                <InputVariableAssignment>
                  <InputVariableId>342e5530-1294-4b5a-b79e-5e1d3aa36098</InputVariableId>
                  <VariableValue xsi:type="SubstitutableBoolean">
                    <HardcodedValue>true</HardcodedValue>
                  </VariableValue>
                </InputVariableAssignment>
                <InputVariableAssignment>
                  <InputVariableId>6c249050-9aac-46a0-9545-96efd09c74d4</InputVariableId>
                  <VariableValue xsi:type="SubstitutableBoolean">
                    <HardcodedValue>false</HardcodedValue>
                  </VariableValue>
                </InputVariableAssignment>
                <InputVariableAssignment>
                  <InputVariableId>2af4fefd-32a7-4c94-925b-17111a8fa94b</InputVariableId>
                  <VariableValue xsi:type="SubstitutableString">
                    <FormattedCode>{0}</FormattedCode>
                    <References>
                      <VariableReference xsi:type="PropertyReference">
                        <DisplayPath>Process.Variables.Input.Infrastructure network</DisplayPath>
                        <LinkChain />
                        <ObjectId>b42b2dd2-d0b3-4db5-bc07-7e75bd9e73de</ObjectId>
                        <ObjectType>GlobalVariable</ObjectType>
                      </VariableReference>
                    </References>
                  </VariableValue>
                </InputVariableAssignment>
              </VariableAssignmentsAsArray>
            </InputVariableTable>
            <Asynchronous>false</Asynchronous>
            <InheritTarget>true</InheritTarget>
            <TargetLoadBalancer xsi:type="ProcessTargetLoadBalancer" />
            <InheritPriorityClass>true</InheritPriorityClass>
            <RuntimeUserId>
              <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
            </RuntimeUserId>
            <KnowledgeBaseId>00000000-0000-0000-0000-000000000000</KnowledgeBaseId>
            <StartPointId>
              <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
            </StartPointId>
            <StartPointName>
              <FormattedCode />
            </StartPointName>
          </ActivityNode>
        </Children>
        <Condition>
          <Id>42a2a0e4-a8b1-438e-8020-9dd1a73abdba</Id>
          <Conditions>
            <ConditionDefinition xsi:type="VariableConditionDefinition">
              <Id>3ffd4b76-b391-45eb-831a-6e2ba07d0755</Id>
              <Expression xsi:type="SubstitutableNumber">
                <HardcodedValue>0</HardcodedValue>
              </Expression>
              <Comparison>Equals</Comparison>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Process.Target.Cloud.Service.Server.Networks.Row Count</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>ResolvedTarget</PropertyName>
                  </Link>
                  <Link xsi:type="ObjectReferenceLink">
                    <ObjectLink>
                      <Id>c8314a62-d2a8-4e09-8632-55e0c77d7f20</Id>
                      <ObjectType>PropertyExtension</ObjectType>
                    </ObjectLink>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>RowCount</PropertyName>
                  </Link>
                </LinkChain>
                <ObjectType>ProcessInstance</ObjectType>
              </VariableReference>
            </ConditionDefinition>
          </Conditions>
        </Condition>
      </ActivityNode>
      <ActivityNode xsi:type="ConditionBranchNode">
        <Id>9f733e62-13e1-4566-bb41-4fac9362df89</Id>
        <DisplayName>Condition Branch</DisplayName>
        <Children>
          <ActivityNode xsi:type="StartProcessNode">
            <Id>2c3abb48-8145-418f-9562-ea5fcd8d9bd9</Id>
            <DisplayName>Get Service IP Address</DisplayName>
            <Children>
              <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                <Id>a6f2c455-6257-4da9-947a-d9fdb7de8ea3</Id>
                <ProcessNodeId>2c3abb48-8145-418f-9562-ea5fcd8d9bd9</ProcessNodeId>
                <CompletedId>3024f2fe-7109-491d-a18a-ad9907c66d53</CompletedId>
              </ActivityNode>
            </Children>
            <ProcessId>e638236a-93ea-4292-8915-b568a9b40ee2</ProcessId>
            <InputVariableTable>
              <VariableAssignmentsAsArray>
                <InputVariableAssignment>
                  <InputVariableId>abbf6c6a-cdc0-4a27-a2fe-ec6aae360019</InputVariableId>
                  <VariableValue xsi:type="SubstitutableString">
                    <HardcodedValue />
                  </VariableValue>
                </InputVariableAssignment>
                <InputVariableAssignment>
                  <InputVariableId>342e5530-1294-4b5a-b79e-5e1d3aa36098</InputVariableId>
                  <VariableValue xsi:type="SubstitutableBoolean">
                    <HardcodedValue>true</HardcodedValue>
                  </VariableValue>
                </InputVariableAssignment>
                <InputVariableAssignment>
                  <InputVariableId>6c249050-9aac-46a0-9545-96efd09c74d4</InputVariableId>
                  <VariableValue xsi:type="SubstitutableBoolean">
                    <HardcodedValue>false</HardcodedValue>
                  </VariableValue>
                </InputVariableAssignment>
                <InputVariableAssignment>
                  <InputVariableId>2af4fefd-32a7-4c94-925b-17111a8fa94b</InputVariableId>
                  <VariableValue xsi:type="SubstitutableString">
                    <FormattedCode>{0}</FormattedCode>
                    <References>
                      <VariableReference xsi:type="PropertyReference">
                        <DisplayPath>Process.Variables.Input.Service VLAN</DisplayPath>
                        <LinkChain />
                        <ObjectId>b7ebec72-8087-4b06-8c89-3bd731c364f4</ObjectId>
                        <ObjectType>GlobalVariable</ObjectType>
                      </VariableReference>
                    </References>
                  </VariableValue>
                </InputVariableAssignment>
              </VariableAssignmentsAsArray>
            </InputVariableTable>
            <Asynchronous>false</Asynchronous>
            <InheritTarget>true</InheritTarget>
            <TargetLoadBalancer xsi:type="ProcessTargetLoadBalancer" />
            <InheritPriorityClass>true</InheritPriorityClass>
            <RuntimeUserId>
              <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
            </RuntimeUserId>
            <KnowledgeBaseId>00000000-0000-0000-0000-000000000000</KnowledgeBaseId>
            <StartPointId>
              <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
            </StartPointId>
            <StartPointName>
              <FormattedCode />
            </StartPointName>
          </ActivityNode>
        </Children>
        <Condition>
          <Id>42a2a0e4-a8b1-438e-8020-9dd1a73abdba</Id>
          <Conditions>
            <ConditionDefinition xsi:type="VariableConditionDefinition">
              <Id>3ffd4b76-b391-45eb-831a-6e2ba07d0755</Id>
              <Expression xsi:type="SubstitutableNumber">
                <HardcodedValue>1</HardcodedValue>
              </Expression>
              <Comparison>Equals</Comparison>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Process.Target.Cloud.Service.Server.Networks.Row Count</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>ResolvedTarget</PropertyName>
                  </Link>
                  <Link xsi:type="ObjectReferenceLink">
                    <ObjectLink>
                      <Id>c8314a62-d2a8-4e09-8632-55e0c77d7f20</Id>
                      <ObjectType>PropertyExtension</ObjectType>
                    </ObjectLink>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>RowCount</PropertyName>
                  </Link>
                </LinkChain>
                <ObjectType>ProcessInstance</ObjectType>
              </VariableReference>
            </ConditionDefinition>
          </Conditions>
        </Condition>
      </ActivityNode>
      <ActivityNode xsi:type="StartProcessNode">
        <Id>029e0b78-6da4-4135-9394-e685d8d574e9</Id>
        <DisplayName>Update Requisition Status</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>2f8d572c-51d6-46cb-b296-a603f6f5db31</Id>
            <ProcessNodeId>029e0b78-6da4-4135-9394-e685d8d574e9</ProcessNodeId>
            <CompletedId>ee93ab91-5be7-42c3-942c-6c0f51d03387</CompletedId>
          </ActivityNode>
        </Children>
        <ProcessId>27ac8b0e-2d5c-4a7d-b4c6-4947d040f51d</ProcessId>
        <InputVariableTable>
          <VariableAssignmentsAsArray>
            <InputVariableAssignment>
              <InputVariableId>7b33d2b5-8e24-4926-a8c7-a55dfe1d3c85</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <HardcodedValue />
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>854f35e5-cf46-4494-bf03-a123600a05e5</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <HardcodedValue />
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>fa0e45ca-7db8-4548-9c58-66bd3b0e8675</InputVariableId>
              <VariableValue xsi:type="SubstitutableNumber">
                <HardcodedValue>30</HardcodedValue>
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>b51d99b4-9b9f-4df0-8d9b-7d9eef60095c</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <HardcodedValue>Get Management Information</HardcodedValue>
              </VariableValue>
            </InputVariableAssignment>
          </VariableAssignmentsAsArray>
        </InputVariableTable>
        <Asynchronous>false</Asynchronous>
        <InheritTarget>true</InheritTarget>
        <TargetLoadBalancer xsi:type="ProcessTargetLoadBalancer" />
        <InheritPriorityClass>true</InheritPriorityClass>
        <RuntimeUserId>
          <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
        </RuntimeUserId>
        <KnowledgeBaseId>00000000-0000-0000-0000-000000000000</KnowledgeBaseId>
        <StartPointId>
          <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
        </StartPointId>
        <StartPointName>
          <FormattedCode />
        </StartPointName>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>e0e6a112-20a9-4efd-a86c-472681eaeb31</Id>
        <DisplayName>Find vCenter Target</DisplayName>
        <Children>
          <ActivityNode xsi:type="ConditionBranchNode">
            <Id>684cd703-2abf-4c7c-a41d-bc2458a146d8</Id>
            <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
            <DisplayName>If Execution Fails</DisplayName>
            <Children>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>cbb9bcf6-6ee0-452e-af1d-174e59cdeeed</Id>
                <DisplayName>Find vCenter Target failed (5001)</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>2488b3ea-1ccb-41ca-a056-16b7794b1b66</Id>
                    <ActivityNodeId>cbb9bcf6-6ee0-452e-af1d-174e59cdeeed</ActivityNodeId>
                    <CompletedId>2bef99aa-f7fe-4539-b490-916822388ce4</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                  <Id>cbb9bcf6-6ee0-452e-af1d-174e59cdeeed</Id>
                  <DisplayName>Find vCenter Target failed (5001)</DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                  <Assignments>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableNumber">
                        <HardcodedValue>5001</HardcodedValue>
                      </NewValue>
                    </PropertyReferenceValuePair>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.Actions</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>d3e16466-5e76-4adf-9738-9d3faf351bce</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableString">
                        <HardcodedValue>Cancel</HardcodedValue>
                      </NewValue>
                    </PropertyReferenceValuePair>
                  </Assignments>
                </Configuration>
              </ActivityNode>
              <ActivityNode xsi:type="CompletedNode">
                <Id>c657595a-3adb-4db0-8e71-fe797ea21f27</Id>
                <Notes>Fail the entire process</Notes>
                <CompletedType>FailedNotCompleted</CompletedType>
                <ResultMessage>
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Workflow.Find vCenter Target.Error Information</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ErrorInformation</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>e0e6a112-20a9-4efd-a86c-472681eaeb31</ObjectId>
                      <ObjectType>ActivityInstance</ObjectType>
                    </VariableReference>
                  </References>
                </ResultMessage>
              </ActivityNode>
            </Children>
            <Condition>
              <Id>9a146431-ce5b-44c6-b7a4-67695543a392</Id>
              <Conditions>
                <ConditionDefinition xsi:type="VariableConditionDefinition">
                  <Id>7e450f48-ce23-49b5-9385-9af9c2ebdc1a</Id>
                  <Expression xsi:type="SubstitutableBoolean">
                    <HardcodedValue>true</HardcodedValue>
                  </Expression>
                  <Comparison>Equals</Comparison>
                  <VariableReference xsi:type="PropertyReference">
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>InstanceFailed</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>e0e6a112-20a9-4efd-a86c-472681eaeb31</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </ConditionDefinition>
              </Conditions>
            </Condition>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="BuiltinFindTargetsActivityConfiguration" xml:space="preserve">
          <Id>e0e6a112-20a9-4efd-a86c-472681eaeb31</Id>
          <DisplayName>Find vCenter Target</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
          <TargetTypeName>Tidal.Automation.VMware.Common.VCTargetConfiguration, Tidal.Automation.VMware.Common</TargetTypeName>
          <TargetTypeExtensionId>a7fc2f5a-1e30-7968-b60a-1860da88e13d</TargetTypeExtensionId>
          <TargetGroupId>1a480c45-36f4-4f1a-875f-857b866c5cba</TargetGroupId>
          <MatchingCriteria>
            <GenericCriteria xsi:type="GuidCriteria">
              <LinkChain>
                <Link xsi:type="PropertyNameLink">
                  <PropertyName>Id</PropertyName>
                </Link>
              </LinkChain>
              <MatchingGuid>
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.Read vCenter and Resource Pool.Result Table.First Row.PlatformElementID</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResultTable</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>FirstRow</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>PlatformElementID</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>67de8ca3-9176-49ee-b9e3-3f0d7e902064</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </MatchingGuid>
              <Comparison>Equals</Comparison>
            </GenericCriteria>
          </MatchingCriteria>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>c5ee8826-7927-4074-b38b-870a90519038</Id>
        <DisplayName>Set vCenter information</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>ffd52212-88e3-425a-9c23-4d31b0f420a8</Id>
            <ActivityNodeId>c5ee8826-7927-4074-b38b-870a90519038</ActivityNodeId>
            <CompletedId>a96efbd6-e2ce-466c-8f21-bfe4d7c1f2ea</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="SetVariableActivityConfiguration" xml:space="preserve">
          <Id>c5ee8826-7927-4074-b38b-870a90519038</Id>
          <DisplayName>Set vCenter information</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
          <VariableToSet>
            <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.LocationID</DisplayPath>
            <LinkChain>
              <Link xsi:type="PropertyNameLink">
                <PropertyName>ResolvedTarget</PropertyName>
              </Link>
              <Link xsi:type="ObjectReferenceLink">
                <ObjectLink>
                  <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                  <ObjectType>PropertyExtension</ObjectType>
                </ObjectLink>
              </Link>
            </LinkChain>
            <ObjectType>ProcessInstance</ObjectType>
          </VariableToSet>
          <NewValue xsi:type="SubstitutableObjectReference">
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Workflow.Find vCenter Target.Found Targets.First</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>GetAllFoundTargets</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>FirstItem</PropertyName>
                  </Link>
                </LinkChain>
                <ObjectId>e0e6a112-20a9-4efd-a86c-472681eaeb31</ObjectId>
                <ObjectType>ActivityInstance</ObjectType>
              </VariableReference>
            </References>
          </NewValue>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ConditionBranchNode">
        <Id>56997c05-2166-4e60-9126-ecdc700650e6</Id>
        <DisplayName>Condition Branch</DisplayName>
        <Children>
          <ActivityNode xsi:type="ExecuteActivityNode">
            <Id>94a840be-f978-4976-aee5-2b6e4710e1bc</Id>
            <DisplayName>Deploy VSG and Configure Params</DisplayName>
            <Children>
              <ActivityNode xsi:type="ConditionBranchNode">
                <Id>2c98663d-10d2-43ac-bd02-a33e075a062d</Id>
                <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
                <DisplayName>If Execution Fails</DisplayName>
                <Children>
                  <ActivityNode xsi:type="ExecuteActivityNode">
                    <Id>0b0d2662-e9d1-42e2-99c8-f120052d1461</Id>
                    <DisplayName>Deploy VSG and Configure Params failed (5003)</DisplayName>
                    <Children>
                      <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                        <Id>19d94748-d0ff-47e1-852b-77b495c63d75</Id>
                        <ActivityNodeId>0b0d2662-e9d1-42e2-99c8-f120052d1461</ActivityNodeId>
                        <CompletedId>62d40fbe-36fb-4ed8-a9c9-c24b0b0a1ef5</CompletedId>
                      </ActivityNode>
                    </Children>
                    <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                      <Id>0b0d2662-e9d1-42e2-99c8-f120052d1461</Id>
                      <DisplayName>Deploy VSG and Configure Params failed (5003)</DisplayName>
                      <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                        <SingleTargetId>
                          <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                        </SingleTargetId>
                      </TargetLoadBalancer>
                      <InheritTarget>false</InheritTarget>
                      <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                      <Assignments>
                        <PropertyReferenceValuePair>
                          <VariableToSet>
                            <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResolvedTarget</PropertyName>
                              </Link>
                              <Link xsi:type="ObjectReferenceLink">
                                <ObjectLink>
                                  <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                                  <ObjectType>PropertyExtension</ObjectType>
                                </ObjectLink>
                              </Link>
                            </LinkChain>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableToSet>
                          <NewValue xsi:type="SubstitutableNumber">
                            <HardcodedValue>5003</HardcodedValue>
                          </NewValue>
                        </PropertyReferenceValuePair>
                        <PropertyReferenceValuePair>
                          <VariableToSet>
                            <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.Actions</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResolvedTarget</PropertyName>
                              </Link>
                              <Link xsi:type="ObjectReferenceLink">
                                <ObjectLink>
                                  <Id>d3e16466-5e76-4adf-9738-9d3faf351bce</Id>
                                  <ObjectType>PropertyExtension</ObjectType>
                                </ObjectLink>
                              </Link>
                            </LinkChain>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableToSet>
                          <NewValue xsi:type="SubstitutableString">
                            <HardcodedValue>Cancel, Restart</HardcodedValue>
                          </NewValue>
                        </PropertyReferenceValuePair>
                      </Assignments>
                    </Configuration>
                  </ActivityNode>
                  <ActivityNode xsi:type="CompletedNode">
                    <Id>9367773f-a3a7-4a1f-a2ce-47faf396e74d</Id>
                    <Notes>Fail the entire process</Notes>
                    <CompletedType>FailedNotCompleted</CompletedType>
                    <ResultMessage>
                      <FormattedCode>{0}</FormattedCode>
                      <References>
                        <VariableReference xsi:type="PropertyReference">
                          <LinkChain>
                            <Link xsi:type="PropertyNameLink">
                              <PropertyName>ErrorInformation</PropertyName>
                            </Link>
                          </LinkChain>
                          <ObjectId>94a840be-f978-4976-aee5-2b6e4710e1bc</ObjectId>
                          <ObjectType>ActivityInstance</ObjectType>
                        </VariableReference>
                      </References>
                    </ResultMessage>
                  </ActivityNode>
                </Children>
                <Condition>
                  <Id>3de7126f-1a13-4b62-bd3c-2f221470c3eb</Id>
                  <Conditions>
                    <ConditionDefinition xsi:type="VariableConditionDefinition">
                      <Id>5d95b4c9-bc93-4816-8331-b58aa902587e</Id>
                      <Expression xsi:type="SubstitutableBoolean">
                        <HardcodedValue>true</HardcodedValue>
                      </Expression>
                      <Comparison>Equals</Comparison>
                      <VariableReference xsi:type="PropertyReference">
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>InstanceFailed</PropertyName>
                          </Link>
                        </LinkChain>
                        <ObjectId>94a840be-f978-4976-aee5-2b6e4710e1bc</ObjectId>
                        <ObjectType>ActivityInstance</ObjectType>
                      </VariableReference>
                    </ConditionDefinition>
                  </Conditions>
                </Condition>
              </ActivityNode>
            </Children>
            <Configuration xsi:type="WindowsPowerShellScriptActivityConfiguration" xml:space="preserve">
              <Id>94a840be-f978-4976-aee5-2b6e4710e1bc</Id>
              <DisplayName>Deploy VSG and Configure Params</DisplayName>
              <TargetLoadBalancer xsi:type="OrchestratorServerLoadBalancer">
                <TargetGroupId>bc5933b4-512f-46ce-86a9-3b40331ba395</TargetGroupId>
              </TargetLoadBalancer>
              <InheritTarget>false</InheritTarget>
              <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
              <WorkingDirectory>
                <HardcodedValue />
              </WorkingDirectory>
              <FailReturnCodeNonZero>true</FailReturnCodeNonZero>
              <UseTaskScheduler>false</UseTaskScheduler>
              <TimeWindow>
                <Milliseconds>300000</Milliseconds>
                <Units>Minutes</Units>
              </TimeWindow>
              <Script>
                <HardcodedValue>param(
  [String]$vCenterServer
 ,[String]$vCenterPort
 ,[String]$vCenterProtocol
 ,[String]$vCenterUsername
 ,[String]$vCenterPassword
 ,[String]$vAppName
 ,[String]$resourcePool
 ,[String]$Datastore
 ,[String]$vAppPropertyLabel_HAid 
,[String]$newPropValue_HAid_val 
,[String]$vAppPropertyLabel_ManagementIpV4 
,[String]$newPropValue_ManagementIpV4_val 
,[String]$vAppPropertyLabel_ManagementIpV4Subnet 
,[String]$newPropValue_ManagementIpV4Subnet_val 
,[String]$vAppPropertyLabel_GatewayIpV4 
,[String]$newPropValue_GatewayIpV4_val 
,[String]$vAppPassword 
,[String]$newPropValue_Password_val 
,[String]$vAppPropertyLabel_VnmcIpV4
,[String]$newPropValue_VnmcIpV4_val 
,[String]$vAppPropertyLabel_SharedSecret 
,[String]$newPropValue_SharedSecret_val
,[String]$ovalocation
,[String]$dsCluster
,[String]$newPropValue_ImageName_val = ""
)

trap { 
#  "`nError Information`n=================`nCategory: {0}`nID: {2}`nType: {1}#`nMessage: {3}" -f
#  $_.CategoryInfo.Category, $_.Exception.GetType().FullName,
#  $_.FullyQualifiedErrorID, $_.Exception.Message
#  $_.ErrorDetails
#  $_
  $_.Exception.Message
  $LASTEXITCODE = 0
  $ERROR.clear()
  exit 9027
}

$ErrorActionPreference = "Stop"

Add-PSSnapin VMware.VimAutomation.Core

Connect-VIServer -Server $vCenterServer -Port $vCenterPort -Protocol $vCenterProtocol -User $vCenterUsername -Password $vCenterPassword -WarningAction SilentlyContinue | Out-Null

try{

 function Get-InventoryPath {
    param ($Object)
    $foldermark = 0

    $Path = $Object.Name
    do {
      if ( $Object.Id -cmatch "(Folder|Resources)" ) {
        $Parent = (Get-Folder $Object).parent
      }
      else {
        $Parent = (Get-View  $Object).parent
        if ( $Parent -cmatch "(Folder|ResourcePool)" ) {
          $foldermark = 1
        }
        elseif ( $foldermark ) {
          # a non-folder just to the left of a folder:
          # remove the folder off the start of the path
          # this will also remove the Datacenters/
          $Path = ( $Path.split( '/', 2 ) )[-1]
          $foldermark = 0
        }
      }
      if ($Parent -ne $null) { 
        if ($Parent.Id -cmatch "Folder") {
          $Path = (Get-Folder $Parent).Name + "/" + $Path
        }
        else {
          $Path = (Get-View $Parent).Name + "/" + $Path
        }
        $Object = $Parent
      }
    } while ($Parent -ne $null)

    Write-Output $Path
  }




$rp = Get-ResourcePool -id $resourcePool
$cluster = $rp.ExtensionData.Owner
$vhost = (Get-Cluster -Id $cluster).ExtensionData.Host[0]
$VMHost = Get-VMHost -Id $vhost  
if ($dsCluster -eq "Yes")
{
             $ds = Get-DatastoreCluster -id $Datastore
}
else
{
             $ds = Get-Datastore -id $Datastore
}
$vms = Import-VApp -Source $ovalocation -Name $vAppName -Location $rp  -VMHost $VMHost -Datastore $ds

$vapp = Get-VM -Name $vAppName
$prop_haid = $vapp.ExtensionData.Config.VAppConfig.Property | where {$_.Label -eq $vAppPropertyLabel_HAid}
$prop_mgmtipv4 = $vapp.ExtensionData.Config.VAppConfig.Property | where {$_.Label -eq $vAppPropertyLabel_ManagementIpV4}
$prop_password = $vapp.ExtensionData.Config.VAppConfig.Property | where {$_.Label -eq $vAppPassword}
$prop_mgmtipv4Subnet = $vapp.ExtensionData.Config.VAppConfig.Property | where {$_.Label -eq $vAppPropertyLabel_ManagementIpV4Subnet}
$prop_gatewayipv4 = $vapp.ExtensionData.Config.VAppConfig.Property | where {$_.Label -eq $vAppPropertyLabel_GatewayIpV4}
$prop_vnmcipv4 = $vapp.ExtensionData.Config.VAppConfig.Property | where {$_.Label -eq $vAppPropertyLabel_VnmcIpV4}
$prop_sharedsecret = $vapp.ExtensionData.Config.VAppConfig.Property | where {$_.Label -eq $vAppPropertyLabel_SharedSecret}
$prop_imagename = $vapp.ExtensionData.Config.VAppConfig.Property | where {$_.Label -eq "ImageName"}

$vm = Get-VM $vAppName

$spec = New-Object VMware.Vim.VirtualMachineConfigSpec
$spec.VAppConfig = New-Object VMware.Vim.VmConfigSpec
$newProp = New-Object VMware.Vim.VAppPropertySpec
$info = New-Object VMware.Vim.VirtualMachineConfigInfo
$newProp.Operation = "edit"

$newProp.Info = $prop_haid
$newProp.Info.Value = $newPropValue_HAid_val
$spec.VAppConfig.Property += $newProp
$vm.ExtensionData.ReconfigVM($spec)

$newProp.Info = $prop_mgmtipv4
$newProp.Info.Value = $newPropValue_ManagementIpV4_val
$spec.VAppConfig.Property += $newProp
$vm.ExtensionData.ReconfigVM($spec)

$newProp.Info = $prop_password
#$newProp.Info.Value = $newPropValue_Password_val
$newProp.Info.Value = $newPropValue_Password_val 
$spec.VAppConfig.Property += $newProp
$vm.ExtensionData.ReconfigVM($spec)

$newProp.Info = $prop_mgmtipv4Subnet
$newProp.Info.Value = $newPropValue_ManagementIpV4Subnet_val
$spec.VAppConfig.Property += $newProp
$vm.ExtensionData.ReconfigVM($spec)

$newProp.Info = $prop_gatewayipv4
$newProp.Info.Value = $newPropValue_GatewayIpV4_val
$spec.VAppConfig.Property += $newProp
$vm.ExtensionData.ReconfigVM($spec)

$newProp.Info = $prop_vnmcipv4
$newProp.Info.Value = $newPropValue_VnmcIpV4_val
$spec.VAppConfig.Property += $newProp
$vm.ExtensionData.ReconfigVM($spec)

$newProp.Info = $prop_sharedsecret
$newProp.Info.Value = $newPropValue_SharedSecret_val
$spec.VAppConfig.Property += $newProp
$vm.ExtensionData.ReconfigVM($spec)

if ($prop_imagename -and -not [String]::IsNullOrEmpty($newPropValue_ImageName_val)){
$newProp.Info = $prop_imagename
$newProp.Info.Value = $newPropValue_ImageName_val
$spec.VAppConfig.Property += $newProp
$vm.ExtensionData.ReconfigVM($spec)
}

#$vmStart = Start-Vm $vm
Write-Output '&lt;results&gt;'
 if ( $vm ) {
        Write-Output '&lt;row&gt;'
        [System.String]::Concat('    &lt;UniqueName&gt;',$vm.Id,'&lt;/UniqueName&gt;')
        [System.String]::Concat('    &lt;VMName&gt;',$vm.Name,'&lt;/VMName&gt;')
        [System.String]::Concat('    &lt;Moref&gt;',$vm.Id,'&lt;/Moref&gt;')
        [System.String]::Concat('&lt;VMFullPath&gt;',( Get-InventoryPath $vm ),'&lt;/VMFullPath&gt;')
		Write-Output '&lt;/row&gt;'
		}
Write-Output '&lt;/results&gt;'
}

finally {
  disconnect-VIServer -Confirm:$false
}
</HardcodedValue>
              </Script>
              <Arguments>
                <SubstitutableObject xsi:type="SubstitutableString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Workflow.Find vCenter Target.Found Targets.First.Virtual Center/ESX Server Name</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>GetAllFoundTargets</PropertyName>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>FirstItem</PropertyName>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>GetReferencedObject</PropertyName>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>VIServer</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>e0e6a112-20a9-4efd-a86c-472681eaeb31</ObjectId>
                      <ObjectType>ActivityInstance</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Workflow.Find vCenter Target.Found Targets.First.Virtual Center/ESX Server Service Port</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>GetAllFoundTargets</PropertyName>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>FirstItem</PropertyName>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>GetReferencedObject</PropertyName>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>VIPort</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>e0e6a112-20a9-4efd-a86c-472681eaeb31</ObjectId>
                      <ObjectType>ActivityInstance</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Workflow.Find vCenter Target.Found Targets.First.vSphere.PowerCLI.Protocol</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>GetAllFoundTargets</PropertyName>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>FirstItem</PropertyName>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>GetReferencedObject</PropertyName>
                        </Link>
                        <Link xsi:type="ObjectReferenceLink">
                          <ObjectLink>
                            <Id>66e4ade1-88c5-406f-b6d6-835f9492f53e</Id>
                            <ObjectType>PropertyExtension</ObjectType>
                          </ObjectLink>
                        </Link>
                      </LinkChain>
                      <ObjectId>e0e6a112-20a9-4efd-a86c-472681eaeb31</ObjectId>
                      <ObjectType>ActivityInstance</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Workflow.Find vCenter Target.Found Targets.First.vSphere.PowerCLI.User</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>GetAllFoundTargets</PropertyName>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>FirstItem</PropertyName>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>GetReferencedObject</PropertyName>
                        </Link>
                        <Link xsi:type="ObjectReferenceLink">
                          <ObjectLink>
                            <Id>88419c62-0274-4851-b74a-cafd84acd332</Id>
                            <ObjectType>PropertyExtension</ObjectType>
                          </ObjectLink>
                        </Link>
                      </LinkChain>
                      <ObjectId>e0e6a112-20a9-4efd-a86c-472681eaeb31</ObjectId>
                      <ObjectType>ActivityInstance</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableEncryptedString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Workflow.Find vCenter Target.Found Targets.First.vSphere.PowerCLI.Password</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>GetAllFoundTargets</PropertyName>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>FirstItem</PropertyName>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>GetReferencedObject</PropertyName>
                        </Link>
                        <Link xsi:type="ObjectReferenceLink">
                          <ObjectLink>
                            <Id>be861155-a06b-4488-ade5-78daa2e6029f</Id>
                            <ObjectType>PropertyExtension</ObjectType>
                          </ObjectLink>
                        </Link>
                      </LinkChain>
                      <ObjectId>e0e6a112-20a9-4efd-a86c-472681eaeb31</ObjectId>
                      <ObjectType>ActivityInstance</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Process.Variables.Input.VSGName</DisplayPath>
                      <LinkChain />
                      <ObjectId>a635299e-932c-4772-89a6-d9768492ffa2</ObjectId>
                      <ObjectType>GlobalVariable</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableString">
                  <FormattedCode>ResourcePool-{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Workflow.Read vCenter and Resource Pool.Result Table.First Row.MORef</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ResultTable</PropertyName>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>FirstRow</PropertyName>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>MORef</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>67de8ca3-9176-49ee-b9e3-3f0d7e902064</ObjectId>
                      <ObjectType>ActivityInstance</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Process.Variables.Local.Datastore ID</DisplayPath>
                      <LinkChain />
                      <ObjectId>46f68e7b-1fce-4c7a-a204-1b4d4651688b</ObjectId>
                      <ObjectType>GlobalVariable</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Process.Variables.Input.HAid_Label</DisplayPath>
                      <LinkChain />
                      <ObjectId>b2f38f57-6166-4b93-b63f-926d13f9dc4c</ObjectId>
                      <ObjectType>GlobalVariable</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Process.Variables.Input.Property_HAid_val</DisplayPath>
                      <LinkChain />
                      <ObjectId>f9cd37a8-a6fc-4065-be33-14487fd470f3</ObjectId>
                      <ObjectType>GlobalVariable</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Process.Variables.Input.ManagementIpV4_ Label</DisplayPath>
                      <LinkChain />
                      <ObjectId>b8b9adbf-1021-4c8a-846b-7f82013356fc</ObjectId>
                      <ObjectType>GlobalVariable</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Process.Target.Cloud.Service.Server.Networks.First Row.IP Address</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ResolvedTarget</PropertyName>
                        </Link>
                        <Link xsi:type="ObjectReferenceLink">
                          <ObjectLink>
                            <Id>c8314a62-d2a8-4e09-8632-55e0c77d7f20</Id>
                            <ObjectType>PropertyExtension</ObjectType>
                          </ObjectLink>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>FirstRow</PropertyName>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>IP Address</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectType>ProcessInstance</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Process.Variables.Input.ManagementIpV4Subnet_Label</DisplayPath>
                      <LinkChain />
                      <ObjectId>7457c4d3-9e95-45a5-b67d-84f11644ed56</ObjectId>
                      <ObjectType>GlobalVariable</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Process.Target.Cloud.Service.Server.Networks.First Row.Netmask</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ResolvedTarget</PropertyName>
                        </Link>
                        <Link xsi:type="ObjectReferenceLink">
                          <ObjectLink>
                            <Id>c8314a62-d2a8-4e09-8632-55e0c77d7f20</Id>
                            <ObjectType>PropertyExtension</ObjectType>
                          </ObjectLink>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>FirstRow</PropertyName>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>Netmask</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectType>ProcessInstance</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Process.Variables.Input.GatewayIpV4_Label</DisplayPath>
                      <LinkChain />
                      <ObjectId>b2d18301-e713-40d6-8a82-ee6f80b6e103</ObjectId>
                      <ObjectType>GlobalVariable</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Process.Target.Cloud.Service.Server.Networks.First Row.Gateway</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ResolvedTarget</PropertyName>
                        </Link>
                        <Link xsi:type="ObjectReferenceLink">
                          <ObjectLink>
                            <Id>c8314a62-d2a8-4e09-8632-55e0c77d7f20</Id>
                            <ObjectType>PropertyExtension</ObjectType>
                          </ObjectLink>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>FirstRow</PropertyName>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>Gateway</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectType>ProcessInstance</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Process.Variables.Local.VSG Label</DisplayPath>
                      <LinkChain />
                      <ObjectId>671250f2-a6e1-4521-b088-a72481142b13</ObjectId>
                      <ObjectType>GlobalVariable</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableEncryptedString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Process.Variables.Input.vAppPassword</DisplayPath>
                      <LinkChain />
                      <ObjectId>ddc2fb72-ddaa-44c8-8b3c-3496cbc516db</ObjectId>
                      <ObjectType>GlobalVariable</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Process.Variables.Input.VnmcIpV4_Label</DisplayPath>
                      <LinkChain />
                      <ObjectId>1675aeaf-274c-43e5-b544-b23b3caf5467</ObjectId>
                      <ObjectType>GlobalVariable</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Process.Variables.Input.VNMC IP Address</DisplayPath>
                      <LinkChain />
                      <ObjectId>9143f8b0-b053-4f53-9835-230543c1dbc4</ObjectId>
                      <ObjectType>GlobalVariable</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Process.Variables.Input.SharedSecret_Label</DisplayPath>
                      <LinkChain />
                      <ObjectId>ca50851b-2419-47b7-8ee0-dfe8c45afe97</ObjectId>
                      <ObjectType>GlobalVariable</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableEncryptedString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Process.Variables.Input.VNMC Shared Secret</DisplayPath>
                      <LinkChain />
                      <ObjectId>69eecf0f-59b0-41a6-8a1b-392b712c2890</ObjectId>
                      <ObjectType>GlobalVariable</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableString">
                  <FormattedCode>{0}\{1}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Global Variables.Cloud Repository</DisplayPath>
                      <LinkChain />
                      <ObjectId>b096d3da-1dd8-49fa-9097-327ff4bf0232</ObjectId>
                      <ObjectType>GlobalVariable</ObjectType>
                    </VariableReference>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Global Variables.Network Provisioning Settings.First Row.VSG OVA</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>FirstRow</PropertyName>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>VSG OVA</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>e0d8e2db-8047-4fad-8844-565e317823b9</ObjectId>
                      <ObjectType>GlobalVariable</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Workflow.Read Datastore.Result Table.First Row.DatastoreCluster</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ResultTable</PropertyName>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>FirstRow</PropertyName>
                        </Link>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>DatastoreCluster</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>2de73ba1-b950-4ace-a7db-1184a1cd9189</ObjectId>
                      <ObjectType>ActivityInstance</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
                <SubstitutableObject xsi:type="SubstitutableString">
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Process.Variables.Local.Policy Agent Filename</DisplayPath>
                      <LinkChain />
                      <ObjectId>60b1947c-399a-4975-a26e-ca540afd042b</ObjectId>
                      <ObjectType>GlobalVariable</ObjectType>
                    </VariableReference>
                  </References>
                </SubstitutableObject>
              </Arguments>
              <Use32BitPowerShell>false</Use32BitPowerShell>
            </Configuration>
          </ActivityNode>
          <ActivityNode xsi:type="ConditionBranchNode">
            <Id>02fb73cf-984d-4582-88fc-211113ef5d5e</Id>
            <DisplayName>Handle Exception</DisplayName>
            <Children>
              <ActivityNode xsi:type="CompletedNode">
                <Id>d7b25b8f-a3dc-4f6a-8fb4-2535ee41f6d4</Id>
                <CompletedType>Failed</CompletedType>
                <ResultMessage>
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Workflow.Deploy VSG and Configure Params.Output</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>Output</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>94a840be-f978-4976-aee5-2b6e4710e1bc</ObjectId>
                      <ObjectType>ActivityInstance</ObjectType>
                    </VariableReference>
                  </References>
                </ResultMessage>
              </ActivityNode>
            </Children>
            <Condition>
              <Id>2fafbb30-4bed-4b1d-9283-73adfb1f98ba</Id>
              <Conditions>
                <ConditionDefinition xsi:type="VariableConditionDefinition">
                  <Id>bbc55c0d-9a4b-4189-aa57-9e75097c6fee</Id>
                  <Expression xsi:type="SubstitutableWildcard">
                    <HardcodedValue>*Error Information*</HardcodedValue>
                  </Expression>
                  <Comparison>Wildcard</Comparison>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.Deploy VSG and Configure Params.Output</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>Output</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>94a840be-f978-4976-aee5-2b6e4710e1bc</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </ConditionDefinition>
                <ConditionDefinition xsi:type="VariableConditionDefinition">
                  <Id>c3b3550e-f604-4e43-a101-f226755bdc06</Id>
                  <Expression xsi:type="SubstitutableWildcard">
                    <HardcodedValue>*Category:*</HardcodedValue>
                  </Expression>
                  <Comparison>Wildcard</Comparison>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.Deploy VSG and Configure Params.Output</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>Output</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>94a840be-f978-4976-aee5-2b6e4710e1bc</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </ConditionDefinition>
              </Conditions>
            </Condition>
          </ActivityNode>
          <ActivityNode xsi:type="ExecuteActivityNode">
            <Id>62429299-4230-4144-9ea0-839dd2bad2a7</Id>
            <DisplayName>Set Powercli XML</DisplayName>
            <Children>
              <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                <Id>dd61fda8-829c-491c-a37b-bd9b72a8bd25</Id>
                <ActivityNodeId>62429299-4230-4144-9ea0-839dd2bad2a7</ActivityNodeId>
                <CompletedId>75c5dc6a-379a-48f4-814b-6b1109c1b411</CompletedId>
              </ActivityNode>
            </Children>
            <Configuration xsi:type="SetVariableActivityConfiguration" xml:space="preserve">
              <Id>62429299-4230-4144-9ea0-839dd2bad2a7</Id>
              <DisplayName>Set Powercli XML</DisplayName>
              <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                <SingleTargetId>
                  <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                </SingleTargetId>
              </TargetLoadBalancer>
              <InheritTarget>false</InheritTarget>
              <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
              <VariableToSet>
                <DisplayPath>Process.Variables.Local.powercli output xml</DisplayPath>
                <LinkChain />
                <ObjectId>5bac5e01-25ef-4a0d-ad26-0c70726da20b</ObjectId>
                <ObjectType>GlobalVariable</ObjectType>
              </VariableToSet>
              <NewValue xsi:type="SubstitutableString">
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.Deploy VSG and Configure Params.Output</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>Output</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>94a840be-f978-4976-aee5-2b6e4710e1bc</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </NewValue>
            </Configuration>
          </ActivityNode>
          <ActivityNode xsi:type="ExecuteActivityNode">
            <Id>f79790f0-ea95-4932-bda9-c721ad72dfad</Id>
            <DisplayName>Read Table from XML</DisplayName>
            <Children>
              <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                <Id>b2186066-3598-4f69-af35-849b237aa223</Id>
                <ActivityNodeId>f79790f0-ea95-4932-bda9-c721ad72dfad</ActivityNodeId>
                <CompletedId>256df309-0af8-4259-bab7-77f7a34dc5a8</CompletedId>
              </ActivityNode>
            </Children>
            <Configuration xsi:type="ReadTableFromXmlActivityConfiguration" xml:space="preserve">
              <Id>f79790f0-ea95-4932-bda9-c721ad72dfad</Id>
              <DisplayName>Read Table from XML</DisplayName>
              <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                <SingleTargetId>
                  <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                </SingleTargetId>
              </TargetLoadBalancer>
              <InheritTarget>false</InheritTarget>
              <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
              <Columns>
                <BuiltinTableColumn>
                  <Name>Moref</Name>
                  <DataType>System.String</DataType>
                </BuiltinTableColumn>
                <BuiltinTableColumn>
                  <Name>VMFullPath</Name>
                  <DataType>System.String</DataType>
                </BuiltinTableColumn>
              </Columns>
              <XmlRowElementName>
                <HardcodedValue>row</HardcodedValue>
              </XmlRowElementName>
              <XmlString>
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Process.Variables.Local.powercli output xml</DisplayPath>
                    <LinkChain />
                    <ObjectId>5bac5e01-25ef-4a0d-ad26-0c70726da20b</ObjectId>
                    <ObjectType>GlobalVariable</ObjectType>
                  </VariableReference>
                </References>
              </XmlString>
            </Configuration>
          </ActivityNode>
          <ActivityNode xsi:type="ExecuteActivityNode">
            <Id>b39a1b9c-92b5-4027-bb9f-125f57bf2f17</Id>
            <DisplayName>Set VM Fullpath</DisplayName>
            <Children>
              <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                <Id>f44f7c58-bfd5-4c43-81c8-24f182f1dc28</Id>
                <ActivityNodeId>b39a1b9c-92b5-4027-bb9f-125f57bf2f17</ActivityNodeId>
                <CompletedId>c96c39f1-5023-4a77-b669-2b30cb0854e8</CompletedId>
              </ActivityNode>
            </Children>
            <Configuration xsi:type="SetVariableActivityConfiguration" xml:space="preserve">
              <Id>b39a1b9c-92b5-4027-bb9f-125f57bf2f17</Id>
              <DisplayName>Set VM Fullpath</DisplayName>
              <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                <SingleTargetId>
                  <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                </SingleTargetId>
              </TargetLoadBalancer>
              <InheritTarget>false</InheritTarget>
              <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
              <VariableToSet>
                <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>ResolvedTarget</PropertyName>
                  </Link>
                  <Link xsi:type="ObjectReferenceLink">
                    <ObjectLink>
                      <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                      <ObjectType>PropertyExtension</ObjectType>
                    </ObjectLink>
                  </Link>
                </LinkChain>
                <ObjectType>ProcessInstance</ObjectType>
              </VariableToSet>
              <NewValue xsi:type="SubstitutableString">
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.Read Table from XML.Result Table.First Row.VMFullPath</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResultTable</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>FirstRow</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>VMFullPath</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>f79790f0-ea95-4932-bda9-c721ad72dfad</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </NewValue>
            </Configuration>
          </ActivityNode>
        </Children>
        <Condition>
          <Id>3bd0f57e-acee-493f-bb28-a4f150664089</Id>
          <Conditions>
            <ConditionDefinition xsi:type="VariableConditionDefinition">
              <Id>72d4c7a0-a159-4d6c-aeeb-850bfed95eac</Id>
              <Expression xsi:type="SubstitutableString">
                <HardcodedValue />
              </Expression>
              <Comparison>Equals</Comparison>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>ResolvedTarget</PropertyName>
                  </Link>
                  <Link xsi:type="ObjectReferenceLink">
                    <ObjectLink>
                      <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                      <ObjectType>PropertyExtension</ObjectType>
                    </ObjectLink>
                  </Link>
                </LinkChain>
                <ObjectType>ProcessInstance</ObjectType>
              </VariableReference>
            </ConditionDefinition>
          </Conditions>
        </Condition>
      </ActivityNode>
      <ActivityNode xsi:type="StartPointNode">
        <Id>234a35d7-0d14-413a-962a-9fcfbef62f5d</Id>
        <DisplayName>Add Update VM Network Adapter</DisplayName>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>77c14709-8673-49e8-8b0c-1e32eba6704f</Id>
        <DisplayName>Query VMs</DisplayName>
        <Children>
          <ActivityNode xsi:type="ConditionBranchNode">
            <Id>dee4eff4-c711-4eb0-afac-73d2f7c394d7</Id>
            <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
            <DisplayName>If Execution Fails</DisplayName>
            <Children>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>7c7e1779-b2e6-47a9-8a18-2b2e4c388ca6</Id>
                <DisplayName>Query VMs failed (9014)</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>f809b07d-3d2c-4404-822f-0e0d4cb52095</Id>
                    <ActivityNodeId>7c7e1779-b2e6-47a9-8a18-2b2e4c388ca6</ActivityNodeId>
                    <CompletedId>4283e64b-2848-417d-80fc-07a458074969</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                  <Id>7c7e1779-b2e6-47a9-8a18-2b2e4c388ca6</Id>
                  <DisplayName>Query VMs failed (9014)</DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                  <Assignments>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableNumber">
                        <HardcodedValue>9014</HardcodedValue>
                      </NewValue>
                    </PropertyReferenceValuePair>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorDescription</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>05385a56-169a-4946-9e3e-8de36ceaa838</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableString">
                        <FormattedCode>Failed to query VM:
{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResolvedTarget</PropertyName>
                              </Link>
                              <Link xsi:type="ObjectReferenceLink">
                                <ObjectLink>
                                  <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                  <ObjectType>PropertyExtension</ObjectType>
                                </ObjectLink>
                              </Link>
                            </LinkChain>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableReference>
                        </References>
                      </NewValue>
                    </PropertyReferenceValuePair>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.UserSet.Retry</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>dfd0c20a-58bd-4a1f-b242-7658e642dcd1</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableBoolean">
                        <FormattedCode>{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Workflow.Add Update VM Network Adapter.Name</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>DisplayName</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectId>234a35d7-0d14-413a-962a-9fcfbef62f5d</ObjectId>
                            <ObjectType>WorkflowNode</ObjectType>
                          </VariableReference>
                        </References>
                      </NewValue>
                    </PropertyReferenceValuePair>
                  </Assignments>
                </Configuration>
              </ActivityNode>
              <ActivityNode xsi:type="CompletedNode">
                <Id>2a41958f-063b-4f9b-97bf-c206cacdfca5</Id>
                <Notes>Fail the entire process</Notes>
                <CompletedType>FailedNotCompleted</CompletedType>
                <ResultMessage>
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Workflow.Query VMs.Error Information</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ErrorInformation</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>77c14709-8673-49e8-8b0c-1e32eba6704f</ObjectId>
                      <ObjectType>ActivityInstance</ObjectType>
                    </VariableReference>
                  </References>
                </ResultMessage>
              </ActivityNode>
            </Children>
            <Condition>
              <Id>317f3295-c51d-475f-8cd1-3455b5074149</Id>
              <Conditions>
                <ConditionDefinition xsi:type="VariableConditionDefinition">
                  <Id>5218b505-4a61-460e-933f-25f234d39639</Id>
                  <Expression xsi:type="SubstitutableBoolean">
                    <HardcodedValue>true</HardcodedValue>
                  </Expression>
                  <Comparison>Equals</Comparison>
                  <VariableReference xsi:type="PropertyReference">
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>InstanceFailed</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>77c14709-8673-49e8-8b0c-1e32eba6704f</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </ConditionDefinition>
              </Conditions>
            </Condition>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="VMwareQueryVMsActivityConfiguration" xml:space="preserve">
          <Id>77c14709-8673-49e8-8b0c-1e32eba6704f</Id>
          <DisplayName>Query VMs</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
            <SingleTargetReference>
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.LocationID</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>ResolvedTarget</PropertyName>
                    </Link>
                    <Link xsi:type="ObjectReferenceLink">
                      <ObjectLink>
                        <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                        <ObjectType>PropertyExtension</ObjectType>
                      </ObjectLink>
                    </Link>
                  </LinkChain>
                  <ObjectType>ProcessInstance</ObjectType>
                </VariableReference>
              </References>
            </SingleTargetReference>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
          <VTask>
            <MainText>Query VMs</MainText>
          </VTask>
          <TimeOutPeriod>
            <DisplayUnits>Minutes</DisplayUnits>
            <Period>
              <HardcodedValue>5</HardcodedValue>
            </Period>
          </TimeOutPeriod>
          <HostName>
            <HardcodedValue>*</HardcodedValue>
          </HostName>
          <VirtualMachineName>
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>ResolvedTarget</PropertyName>
                  </Link>
                  <Link xsi:type="ObjectReferenceLink">
                    <ObjectLink>
                      <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                      <ObjectType>PropertyExtension</ObjectType>
                    </ObjectLink>
                  </Link>
                </LinkChain>
                <ObjectType>ProcessInstance</ObjectType>
              </VariableReference>
            </References>
          </VirtualMachineName>
          <DatacenterName>
            <HardcodedValue>*</HardcodedValue>
          </DatacenterName>
          <VMFilter>VirtualMachines</VMFilter>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>1304b9ed-df9b-4ccd-8b9a-5753802717ef</Id>
        <DisplayName>Query Hosts</DisplayName>
        <Children>
          <ActivityNode xsi:type="ConditionBranchNode">
            <Id>368758c7-0350-4857-bc53-db4b480125bf</Id>
            <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
            <DisplayName>If Execution Fails</DisplayName>
            <Children>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>9ae9f69b-2eaf-4124-816d-6ea875b5b2e2</Id>
                <DisplayName>Query Hosts failed </DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>64d140f5-0fd0-43ef-82db-fdf2fddc38de</Id>
                    <ActivityNodeId>9ae9f69b-2eaf-4124-816d-6ea875b5b2e2</ActivityNodeId>
                    <CompletedId>348f74c9-cb9a-483a-b584-df6cf0126f4c</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                  <Id>9ae9f69b-2eaf-4124-816d-6ea875b5b2e2</Id>
                  <DisplayName>Query Hosts failed </DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                  <Assignments>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableNumber">
                        <HardcodedValue>9043</HardcodedValue>
                      </NewValue>
                    </PropertyReferenceValuePair>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorDescription</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>05385a56-169a-4946-9e3e-8de36ceaa838</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableString">
                        <FormattedCode>Failed to query Host:
{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResolvedTarget</PropertyName>
                              </Link>
                              <Link xsi:type="ObjectReferenceLink">
                                <ObjectLink>
                                  <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                  <ObjectType>PropertyExtension</ObjectType>
                                </ObjectLink>
                              </Link>
                            </LinkChain>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableReference>
                        </References>
                      </NewValue>
                    </PropertyReferenceValuePair>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.UserSet.Retry</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>dfd0c20a-58bd-4a1f-b242-7658e642dcd1</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableBoolean">
                        <FormattedCode>{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Workflow.Add Update VM Network Adapter.Name</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>DisplayName</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectId>234a35d7-0d14-413a-962a-9fcfbef62f5d</ObjectId>
                            <ObjectType>WorkflowNode</ObjectType>
                          </VariableReference>
                        </References>
                      </NewValue>
                    </PropertyReferenceValuePair>
                  </Assignments>
                </Configuration>
              </ActivityNode>
              <ActivityNode xsi:type="CompletedNode">
                <Id>f0f74f08-64a8-4179-908d-0008ef9376bb</Id>
                <Notes>Fail the entire process</Notes>
                <CompletedType>FailedNotCompleted</CompletedType>
                <ResultMessage>
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ErrorInformation</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>1304b9ed-df9b-4ccd-8b9a-5753802717ef</ObjectId>
                      <ObjectType>ActivityInstance</ObjectType>
                    </VariableReference>
                  </References>
                </ResultMessage>
              </ActivityNode>
            </Children>
            <Condition>
              <Id>4a93cd55-3e2a-4bef-a370-440cbfed7899</Id>
              <Conditions>
                <ConditionDefinition xsi:type="VariableConditionDefinition">
                  <Id>f2bdc7b5-89b9-49e5-856b-3ed58302b5d8</Id>
                  <Expression xsi:type="SubstitutableBoolean">
                    <HardcodedValue>true</HardcodedValue>
                  </Expression>
                  <Comparison>Equals</Comparison>
                  <VariableReference xsi:type="PropertyReference">
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>InstanceFailed</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>1304b9ed-df9b-4ccd-8b9a-5753802717ef</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </ConditionDefinition>
              </Conditions>
            </Condition>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="VMwareQueryHostsActivityConfiguration" xml:space="preserve">
          <Id>1304b9ed-df9b-4ccd-8b9a-5753802717ef</Id>
          <DisplayName>Query Hosts</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
            <SingleTargetReference>
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.LocationID</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>ResolvedTarget</PropertyName>
                    </Link>
                    <Link xsi:type="ObjectReferenceLink">
                      <ObjectLink>
                        <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                        <ObjectType>PropertyExtension</ObjectType>
                      </ObjectLink>
                    </Link>
                  </LinkChain>
                  <ObjectType>ProcessInstance</ObjectType>
                </VariableReference>
              </References>
            </SingleTargetReference>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
          <VTask xsi:type="VTaskAttrHost">
            <MainText>Query Hosts</MainText>
            <Skip>true</Skip>
            <Evac>false</Evac>
          </VTask>
          <TimeOutPeriod>
            <DisplayUnits>Minutes</DisplayUnits>
            <Period>
              <HardcodedValue>10</HardcodedValue>
            </Period>
          </TimeOutPeriod>
          <Host xsi:type="SubstitutableWildcard">
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Workflow.Query VMs.Virtual Machines.First Row.Host</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>VirtualMachines</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>FirstRow</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>Host</PropertyName>
                  </Link>
                </LinkChain>
                <ObjectId>77c14709-8673-49e8-8b0c-1e32eba6704f</ObjectId>
                <ObjectType>ActivityInstance</ObjectType>
              </VariableReference>
            </References>
          </Host>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>8d4d650f-a538-438d-89ba-fe11d5f012f4</Id>
        <DisplayName>Replace String</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>424bc02d-598c-43d4-b439-3ee7f06c3c6d</Id>
            <ActivityNodeId>8d4d650f-a538-438d-89ba-fe11d5f012f4</ActivityNodeId>
            <CompletedId>36c20e96-9253-46d1-bb44-4e9c79150fc6</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="ReplaceStringActivityConfiguration" xml:space="preserve">
          <Id>8d4d650f-a538-438d-89ba-fe11d5f012f4</Id>
          <DisplayName>Replace String</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
          <InputString>
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Workflow.Query Hosts.Hosts.First Row.Managed Object Reference</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>Hosts</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>FirstRow</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>Managed Object Reference</PropertyName>
                  </Link>
                </LinkChain>
                <ObjectId>1304b9ed-df9b-4ccd-8b9a-5753802717ef</ObjectId>
                <ObjectType>ActivityInstance</ObjectType>
              </VariableReference>
            </References>
          </InputString>
          <ReplaceList>
            <SubstitutableRepaceItem>
              <ReplacedString>
                <HardcodedValue>HostSystem-</HardcodedValue>
              </ReplacedString>
              <ReplacementString>
                <HardcodedValue />
              </ReplacementString>
            </SubstitutableRepaceItem>
          </ReplaceList>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>a521cecc-ec78-4e21-ad23-18e0ac41610c</Id>
        <DisplayName>Select Networks</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>c48b18fa-dbc4-488a-b2bd-e7bcf937ec2c</Id>
            <ActivityNodeId>a521cecc-ec78-4e21-ad23-18e0ac41610c</ActivityNodeId>
            <CompletedId>1772f18e-4bdf-472e-ad27-42e540eca9a6</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="ExtractTableActivityConfiguration" xml:space="preserve">
          <Id>a521cecc-ec78-4e21-ad23-18e0ac41610c</Id>
          <DisplayName>Select Networks</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
          <Columns>
            <BuiltinTableColumn>
              <Name>Network Type</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>VLAN Instance</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>VLAN Object Reference</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>IP Address</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>Netmask</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>Gateway</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>DNS Server</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
          </Columns>
          <SourceTable xsi:type="PropertyReference">
            <DisplayPath>Process.Target.Cloud.Service.Server.Networks</DisplayPath>
            <LinkChain>
              <Link xsi:type="PropertyNameLink">
                <PropertyName>ResolvedTarget</PropertyName>
              </Link>
              <Link xsi:type="ObjectReferenceLink">
                <ObjectLink>
                  <Id>c8314a62-d2a8-4e09-8632-55e0c77d7f20</Id>
                  <ObjectType>PropertyExtension</ObjectType>
                </ObjectLink>
              </Link>
            </LinkChain>
            <ObjectType>ProcessInstance</ObjectType>
          </SourceTable>
          <WhereClause>
            <HardcodedValue />
          </WhereClause>
          <SortColumn />
          <SortOrder>Ascending</SortOrder>
          <MaxRows>
            <HardcodedValue>2</HardcodedValue>
          </MaxRows>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>966f2dc9-da48-40a8-a238-d2662f0d9c6f</Id>
        <DisplayName>Set Current Powerstate</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>e4d61b03-5c7d-4fa2-8bc3-4be494ac1d56</Id>
            <ActivityNodeId>966f2dc9-da48-40a8-a238-d2662f0d9c6f</ActivityNodeId>
            <CompletedId>0e2f6c66-2afb-4993-a37d-8a982d3fb757</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
          <Id>966f2dc9-da48-40a8-a238-d2662f0d9c6f</Id>
          <DisplayName>Set Current Powerstate</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
          <Assignments>
            <PropertyReferenceValuePair>
              <VariableToSet>
                <DisplayPath>Process.Variables.Local.Current Power State</DisplayPath>
                <LinkChain />
                <ObjectId>389b3713-ead4-4b6f-b3b2-a22c5372a310</ObjectId>
                <ObjectType>GlobalVariable</ObjectType>
              </VariableToSet>
              <NewValue xsi:type="SubstitutableString">
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.Query VMs.Virtual Machines.First Row.State</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>VirtualMachines</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>FirstRow</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>State</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>77c14709-8673-49e8-8b0c-1e32eba6704f</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </NewValue>
            </PropertyReferenceValuePair>
          </Assignments>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>b4114161-ea4d-478f-b533-b91f71213547</Id>
        <DisplayName>Query VM Properties</DisplayName>
        <Children>
          <ActivityNode xsi:type="ConditionBranchNode">
            <Id>fc5f6098-14cd-4b14-9de6-23722f77f6c8</Id>
            <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
            <DisplayName>If Execution Fails</DisplayName>
            <Children>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>c2e4ab03-b683-4ab4-9f26-8aea00d4f39a</Id>
                <DisplayName>Query VM Properties failed (9012)</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>1efbabd6-6a34-4bb6-8a88-0d8d03df3634</Id>
                    <ActivityNodeId>c2e4ab03-b683-4ab4-9f26-8aea00d4f39a</ActivityNodeId>
                    <CompletedId>88197e11-2890-42ab-a315-c298d5293f73</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                  <Id>c2e4ab03-b683-4ab4-9f26-8aea00d4f39a</Id>
                  <DisplayName>Query VM Properties failed (9012)</DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                  <Assignments>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableNumber">
                        <HardcodedValue>9012</HardcodedValue>
                      </NewValue>
                    </PropertyReferenceValuePair>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorDescription</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>05385a56-169a-4946-9e3e-8de36ceaa838</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableString">
                        <FormattedCode>Failed to query VM properties:
{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResolvedTarget</PropertyName>
                              </Link>
                              <Link xsi:type="ObjectReferenceLink">
                                <ObjectLink>
                                  <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                  <ObjectType>PropertyExtension</ObjectType>
                                </ObjectLink>
                              </Link>
                            </LinkChain>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableReference>
                        </References>
                      </NewValue>
                    </PropertyReferenceValuePair>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.UserSet.Retry</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>dfd0c20a-58bd-4a1f-b242-7658e642dcd1</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableBoolean">
                        <FormattedCode>{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Workflow.Add Update VM Network Adapter.Name</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>DisplayName</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectId>234a35d7-0d14-413a-962a-9fcfbef62f5d</ObjectId>
                            <ObjectType>WorkflowNode</ObjectType>
                          </VariableReference>
                        </References>
                      </NewValue>
                    </PropertyReferenceValuePair>
                  </Assignments>
                </Configuration>
              </ActivityNode>
              <ActivityNode xsi:type="CompletedNode">
                <Id>36ec6886-9215-46af-ad7c-5a5deee3bb04</Id>
                <Notes>Fail the entire process</Notes>
                <CompletedType>FailedNotCompleted</CompletedType>
                <ResultMessage>
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Workflow.Query VM Properties.Error Information</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ErrorInformation</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>b4114161-ea4d-478f-b533-b91f71213547</ObjectId>
                      <ObjectType>ActivityInstance</ObjectType>
                    </VariableReference>
                  </References>
                </ResultMessage>
              </ActivityNode>
            </Children>
            <Condition>
              <Id>0ebb561e-cb06-4870-8a26-6431462fb34e</Id>
              <Conditions>
                <ConditionDefinition xsi:type="VariableConditionDefinition">
                  <Id>cc68a6d8-4acb-4269-aaa4-e3591ec15ed7</Id>
                  <Expression xsi:type="SubstitutableBoolean">
                    <HardcodedValue>true</HardcodedValue>
                  </Expression>
                  <Comparison>Equals</Comparison>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.Query VM Properties.Instance Failed</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>InstanceFailed</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>b4114161-ea4d-478f-b533-b91f71213547</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </ConditionDefinition>
              </Conditions>
            </Condition>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="VMQueryPropertiesActivityConfiguration" xml:space="preserve">
          <Id>b4114161-ea4d-478f-b533-b91f71213547</Id>
          <DisplayName>Query VM Properties</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
            <SingleTargetReference>
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.LocationID</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>ResolvedTarget</PropertyName>
                    </Link>
                    <Link xsi:type="ObjectReferenceLink">
                      <ObjectLink>
                        <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                        <ObjectType>PropertyExtension</ObjectType>
                      </ObjectLink>
                    </Link>
                  </LinkChain>
                  <ObjectType>ProcessInstance</ObjectType>
                </VariableReference>
              </References>
            </SingleTargetReference>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
          <VTask xsi:type="VTaskAttrPower">
            <MainText>Query Virtual Machine Properties</MainText>
            <Skip>true</Skip>
          </VTask>
          <TimeOutPeriod>
            <DisplayUnits>Minutes</DisplayUnits>
            <Period>
              <HardcodedValue>20</HardcodedValue>
            </Period>
          </TimeOutPeriod>
          <VName>
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>ResolvedTarget</PropertyName>
                  </Link>
                  <Link xsi:type="ObjectReferenceLink">
                    <ObjectLink>
                      <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                      <ObjectType>PropertyExtension</ObjectType>
                    </ObjectLink>
                  </Link>
                </LinkChain>
                <ObjectType>ProcessInstance</ObjectType>
              </VariableReference>
            </References>
          </VName>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>4136c699-f46d-42df-8575-7ed15c3221d3</Id>
        <DisplayName>Query VM Network Adapters</DisplayName>
        <Children>
          <ActivityNode xsi:type="ConditionBranchNode">
            <Id>7538e553-df27-4742-b44c-a6c836f24110</Id>
            <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
            <DisplayName>If Execution Fails</DisplayName>
            <Children>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>011c0487-f59a-4174-9e05-0832e6755b55</Id>
                <DisplayName>Query VM Properties failed (9007)</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>72ac7f28-9237-4584-b593-8c65ff0f455a</Id>
                    <ActivityNodeId>011c0487-f59a-4174-9e05-0832e6755b55</ActivityNodeId>
                    <CompletedId>4aa55f6a-1492-4515-8dac-6b575ce84285</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                  <Id>011c0487-f59a-4174-9e05-0832e6755b55</Id>
                  <DisplayName>Query VM Properties failed (9007)</DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                  <Assignments>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableNumber">
                        <HardcodedValue>9007</HardcodedValue>
                      </NewValue>
                    </PropertyReferenceValuePair>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorDescription</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>05385a56-169a-4946-9e3e-8de36ceaa838</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableString">
                        <FormattedCode>Failed to query VM network adapters:
{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResolvedTarget</PropertyName>
                              </Link>
                              <Link xsi:type="ObjectReferenceLink">
                                <ObjectLink>
                                  <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                  <ObjectType>PropertyExtension</ObjectType>
                                </ObjectLink>
                              </Link>
                            </LinkChain>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableReference>
                        </References>
                      </NewValue>
                    </PropertyReferenceValuePair>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.UserSet.Retry</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>dfd0c20a-58bd-4a1f-b242-7658e642dcd1</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableBoolean">
                        <FormattedCode>{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Workflow.Add Update VM Network Adapter.Name</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>DisplayName</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectId>234a35d7-0d14-413a-962a-9fcfbef62f5d</ObjectId>
                            <ObjectType>WorkflowNode</ObjectType>
                          </VariableReference>
                        </References>
                      </NewValue>
                    </PropertyReferenceValuePair>
                  </Assignments>
                </Configuration>
              </ActivityNode>
              <ActivityNode xsi:type="CompletedNode">
                <Id>7bab58dc-8684-404f-9a7e-e628abb9bc2c</Id>
                <Notes>Fail the entire process</Notes>
                <CompletedType>FailedNotCompleted</CompletedType>
                <ResultMessage>
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Workflow.Query VM Network Adapters.Error Information</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ErrorInformation</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>4136c699-f46d-42df-8575-7ed15c3221d3</ObjectId>
                      <ObjectType>ActivityInstance</ObjectType>
                    </VariableReference>
                  </References>
                </ResultMessage>
              </ActivityNode>
            </Children>
            <Condition>
              <Id>3547406a-c2fc-4017-b32d-363bf44ae826</Id>
              <Conditions>
                <ConditionDefinition xsi:type="VariableConditionDefinition">
                  <Id>268981c9-ed45-49a7-ac1d-ca7428d2efee</Id>
                  <Expression xsi:type="SubstitutableBoolean">
                    <HardcodedValue>true</HardcodedValue>
                  </Expression>
                  <Comparison>Equals</Comparison>
                  <VariableReference xsi:type="PropertyReference">
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>InstanceFailed</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>4136c699-f46d-42df-8575-7ed15c3221d3</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </ConditionDefinition>
              </Conditions>
            </Condition>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="QueryVMNetworkAdaptersActivityConfiguration" xml:space="preserve">
          <Id>4136c699-f46d-42df-8575-7ed15c3221d3</Id>
          <DisplayName>Query VM Network Adapters</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
            <SingleTargetReference>
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.LocationID</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>ResolvedTarget</PropertyName>
                    </Link>
                    <Link xsi:type="ObjectReferenceLink">
                      <ObjectLink>
                        <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                        <ObjectType>PropertyExtension</ObjectType>
                      </ObjectLink>
                    </Link>
                  </LinkChain>
                  <ObjectType>ProcessInstance</ObjectType>
                </VariableReference>
              </References>
            </SingleTargetReference>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
          <VTask>
            <MainText>Query VM Network Adapters</MainText>
          </VTask>
          <TimeOutPeriod>
            <DisplayUnits>Minutes</DisplayUnits>
            <Period>
              <HardcodedValue>20</HardcodedValue>
            </Period>
          </TimeOutPeriod>
          <VirtualMachineName>
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>ResolvedTarget</PropertyName>
                  </Link>
                  <Link xsi:type="ObjectReferenceLink">
                    <ObjectLink>
                      <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                      <ObjectType>PropertyExtension</ObjectType>
                    </ObjectLink>
                  </Link>
                </LinkChain>
                <ObjectType>ProcessInstance</ObjectType>
              </VariableReference>
            </References>
          </VirtualMachineName>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>92dd65fd-8791-4b23-8d2c-373cd03cdde2</Id>
        <DisplayName>Select VM Network Adapters</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>a59c1871-1a07-4764-b52c-fa6db9ca55d6</Id>
            <ActivityNodeId>92dd65fd-8791-4b23-8d2c-373cd03cdde2</ActivityNodeId>
            <CompletedId>cc61883f-fea2-4d96-9655-002aeac0face</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="ExtractTableActivityConfiguration" xml:space="preserve">
          <Id>92dd65fd-8791-4b23-8d2c-373cd03cdde2</Id>
          <DisplayName>Select VM Network Adapters</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
          <Columns>
            <BuiltinTableColumn>
              <Name>Hardware</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>Summary</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>Adapter Type</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>Connected</Name>
              <DataType>System.Boolean</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>Connect On Power On</Name>
              <DataType>System.Boolean</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>MAC Address</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>MAC Address Type</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>Network Label</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
            <BuiltinTableColumn>
              <Name>Network Port</Name>
              <DataType>System.String</DataType>
            </BuiltinTableColumn>
          </Columns>
          <SourceTable xsi:type="PropertyReference">
            <DisplayPath>Workflow.Query VM Network Adapters.Network Adapters Table</DisplayPath>
            <LinkChain>
              <Link xsi:type="PropertyNameLink">
                <PropertyName>NetworkAdaptersTable</PropertyName>
              </Link>
            </LinkChain>
            <ObjectId>4136c699-f46d-42df-8575-7ed15c3221d3</ObjectId>
            <ObjectType>ActivityInstance</ObjectType>
          </SourceTable>
          <WhereClause>
            <HardcodedValue />
          </WhereClause>
          <SortColumn />
          <SortOrder>Ascending</SortOrder>
          <MaxRows>
            <HardcodedValue>2</HardcodedValue>
          </MaxRows>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ForEachNode">
        <Id>1bae557f-717f-4331-b0e6-96fbdc2dc25b</Id>
        <DisplayName>For Each Block</DisplayName>
        <Children>
          <ActivityNode xsi:type="SwitchNode">
            <Id>df0b644c-a9fb-431b-b9b2-a9e1b72d6a5c</Id>
            <DisplayName>Condition Block</DisplayName>
            <Children>
              <ActivityNode xsi:type="ConditionBranchNode">
                <Id>f38ac82c-813c-427e-8468-0e6916b5bfc7</Id>
                <DisplayName>If Index = 1</DisplayName>
                <Children>
                  <ActivityNode xsi:type="ExecuteActivityNode">
                    <Id>d42a7619-4960-44f7-8044-7a422d0aff02</Id>
                    <DisplayName>SelectLayer2 Details - Mgmt</DisplayName>
                    <Children>
                      <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                        <Id>71e84958-a909-4043-99ac-c31845b28b43</Id>
                        <ActivityNodeId>d42a7619-4960-44f7-8044-7a422d0aff02</ActivityNodeId>
                        <CompletedId>fb9ba4c6-f83b-42b4-b00a-96f5f09354b4</CompletedId>
                      </ActivityNode>
                    </Children>
                    <Configuration xsi:type="ExtractTableActivityConfiguration" xml:space="preserve">
                      <Id>d42a7619-4960-44f7-8044-7a422d0aff02</Id>
                      <DisplayName>SelectLayer2 Details - Mgmt</DisplayName>
                      <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                        <SingleTargetId>
                          <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                        </SingleTargetId>
                      </TargetLoadBalancer>
                      <InheritTarget>false</InheritTarget>
                      <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                      <Columns>
                        <BuiltinTableColumn>
                          <Name>PlatformElementID</Name>
                          <DataType>System.String</DataType>
                        </BuiltinTableColumn>
                        <BuiltinTableColumn>
                          <Name>Layer2ID</Name>
                          <DataType>System.String</DataType>
                        </BuiltinTableColumn>
                        <BuiltinTableColumn>
                          <Name>ServerID</Name>
                          <DataType>System.String</DataType>
                        </BuiltinTableColumn>
                        <BuiltinTableColumn>
                          <Name>VLANInstance</Name>
                          <DataType>System.String</DataType>
                        </BuiltinTableColumn>
                      </Columns>
                      <SourceTable xsi:type="PropertyReference">
                        <DisplayPath>Process.Target.Cloud.Service.Server.Layer2Details</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>8ed7c640-e2ab-43ee-b9fb-f4b6dcbadf07</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </SourceTable>
                      <WhereClause>
                        <FormattedCode>[ServerID] = '{0}:{1}' and [VLANInstance] = '{2}'</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.LocationID.Target Id</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResolvedTarget</PropertyName>
                              </Link>
                              <Link xsi:type="ObjectReferenceLink">
                                <ObjectLink>
                                  <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                                  <ObjectType>PropertyExtension</ObjectType>
                                </ObjectLink>
                              </Link>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>GetReferencedObject</PropertyName>
                              </Link>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>Id</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableReference>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Workflow.Replace String.Replaced Result</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>Result</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectId>8d4d650f-a538-438d-89ba-fe11d5f012f4</ObjectId>
                            <ObjectType>ActivityInstance</ObjectType>
                          </VariableReference>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Workflow.Select Networks.Result Table.First Row.VLAN Instance</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResultTable</PropertyName>
                              </Link>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>FirstRow</PropertyName>
                              </Link>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>VLAN Instance</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectId>a521cecc-ec78-4e21-ad23-18e0ac41610c</ObjectId>
                            <ObjectType>ActivityInstance</ObjectType>
                          </VariableReference>
                        </References>
                      </WhereClause>
                      <SortColumn />
                      <SortOrder>Ascending</SortOrder>
                      <MaxRows>
                        <HardcodedValue>2147483647</HardcodedValue>
                      </MaxRows>
                    </Configuration>
                  </ActivityNode>
                  <ActivityNode xsi:type="ConditionBranchNode">
                    <Id>dd0becda-ec1e-4338-abdf-11bf36580989</Id>
                    <DisplayName>If Management Network defined </DisplayName>
                    <Children>
                      <ActivityNode xsi:type="SwitchNode">
                        <Id>c8753bf4-949d-4cb1-baa1-290393916c3a</Id>
                        <DisplayName />
                        <Children>
                          <ActivityNode xsi:type="ConditionBranchNode">
                            <Id>4ba2616d-6c2b-46b7-a56b-0b473513730d</Id>
                            <DisplayName>and NIC is present</DisplayName>
                            <Children>
                              <ActivityNode xsi:type="ExecuteActivityNode">
                                <Id>06f9ec3d-e2eb-4161-9cad-a0b510a6987a</Id>
                                <DisplayName>Set Management Network</DisplayName>
                                <Children>
                                  <ActivityNode xsi:type="ConditionBranchNode">
                                    <Id>5b5c614f-a8fc-46ca-be62-92416b8a7ddd</Id>
                                    <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
                                    <DisplayName>If Execution Fails</DisplayName>
                                    <Children>
                                      <ActivityNode xsi:type="ExecuteActivityNode">
                                        <Id>962551e5-f925-4401-a5cd-3f4a26563cda</Id>
                                        <DisplayName>Failed To Update VM Network Adapter - Public (9004)</DisplayName>
                                        <Children>
                                          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                                            <Id>0f2ed1ac-cce8-45f3-a6f5-d7d52adbc8e9</Id>
                                            <ActivityNodeId>962551e5-f925-4401-a5cd-3f4a26563cda</ActivityNodeId>
                                            <CompletedId>d8a93e62-318c-4885-9cb1-0d78c1620256</CompletedId>
                                          </ActivityNode>
                                        </Children>
                                        <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                                          <Id>962551e5-f925-4401-a5cd-3f4a26563cda</Id>
                                          <DisplayName>Failed To Update VM Network Adapter - Public (9004)</DisplayName>
                                          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                                            <SingleTargetId>
                                              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                                            </SingleTargetId>
                                          </TargetLoadBalancer>
                                          <InheritTarget>false</InheritTarget>
                                          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                                          <Assignments>
                                            <PropertyReferenceValuePair>
                                              <VariableToSet>
                                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                                                <LinkChain>
                                                  <Link xsi:type="PropertyNameLink">
                                                    <PropertyName>ResolvedTarget</PropertyName>
                                                  </Link>
                                                  <Link xsi:type="ObjectReferenceLink">
                                                    <ObjectLink>
                                                      <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                                                      <ObjectType>PropertyExtension</ObjectType>
                                                    </ObjectLink>
                                                  </Link>
                                                </LinkChain>
                                                <ObjectType>ProcessInstance</ObjectType>
                                              </VariableToSet>
                                              <NewValue xsi:type="SubstitutableNumber">
                                                <HardcodedValue>9004</HardcodedValue>
                                              </NewValue>
                                            </PropertyReferenceValuePair>
                                            <PropertyReferenceValuePair>
                                              <VariableToSet>
                                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorDescription</DisplayPath>
                                                <LinkChain>
                                                  <Link xsi:type="PropertyNameLink">
                                                    <PropertyName>ResolvedTarget</PropertyName>
                                                  </Link>
                                                  <Link xsi:type="ObjectReferenceLink">
                                                    <ObjectLink>
                                                      <Id>05385a56-169a-4946-9e3e-8de36ceaa838</Id>
                                                      <ObjectType>PropertyExtension</ObjectType>
                                                    </ObjectLink>
                                                  </Link>
                                                </LinkChain>
                                                <ObjectType>ProcessInstance</ObjectType>
                                              </VariableToSet>
                                              <NewValue xsi:type="SubstitutableString">
                                                <FormattedCode>Failed To Update VM Network Adapter - Public:
Virtual Machine:
{0}

Network Adapter:
{1}

Network:
{2}

</FormattedCode>
                                                <References>
                                                  <VariableReference xsi:type="PropertyReference">
                                                    <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                                                    <LinkChain>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>ResolvedTarget</PropertyName>
                                                      </Link>
                                                      <Link xsi:type="ObjectReferenceLink">
                                                        <ObjectLink>
                                                          <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                                          <ObjectType>PropertyExtension</ObjectType>
                                                        </ObjectLink>
                                                      </Link>
                                                    </LinkChain>
                                                    <ObjectType>ProcessInstance</ObjectType>
                                                  </VariableReference>
                                                  <VariableReference xsi:type="PropertyReference">
                                                    <DisplayPath>Workflow.Select VM Network Adapters.Result Table.First Row.Hardware</DisplayPath>
                                                    <LinkChain>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>ResultTable</PropertyName>
                                                      </Link>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>FirstRow</PropertyName>
                                                      </Link>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>Hardware</PropertyName>
                                                      </Link>
                                                    </LinkChain>
                                                    <ObjectId>92dd65fd-8791-4b23-8d2c-373cd03cdde2</ObjectId>
                                                    <ObjectType>ActivityInstance</ObjectType>
                                                  </VariableReference>
                                                  <VariableReference xsi:type="PropertyReference">
                                                    <DisplayPath>Workflow.Read Management VLAN.Result Table.First Row.Index</DisplayPath>
                                                    <LinkChain>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>ResultTable</PropertyName>
                                                      </Link>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>FirstRow</PropertyName>
                                                      </Link>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>Index</PropertyName>
                                                      </Link>
                                                    </LinkChain>
                                                    <ObjectId>3fb2f1b6-58df-4323-93dd-3695de72bdb8</ObjectId>
                                                    <ObjectType>ActivityInstance</ObjectType>
                                                  </VariableReference>
                                                </References>
                                              </NewValue>
                                            </PropertyReferenceValuePair>
                                            <PropertyReferenceValuePair>
                                              <VariableToSet>
                                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.UserSet.Retry</DisplayPath>
                                                <LinkChain>
                                                  <Link xsi:type="PropertyNameLink">
                                                    <PropertyName>ResolvedTarget</PropertyName>
                                                  </Link>
                                                  <Link xsi:type="ObjectReferenceLink">
                                                    <ObjectLink>
                                                      <Id>dfd0c20a-58bd-4a1f-b242-7658e642dcd1</Id>
                                                      <ObjectType>PropertyExtension</ObjectType>
                                                    </ObjectLink>
                                                  </Link>
                                                </LinkChain>
                                                <ObjectType>ProcessInstance</ObjectType>
                                              </VariableToSet>
                                              <NewValue xsi:type="SubstitutableBoolean">
                                                <FormattedCode>{0}</FormattedCode>
                                                <References>
                                                  <VariableReference xsi:type="PropertyReference">
                                                    <DisplayPath>Workflow.Add Update VM Network Adapter.Name</DisplayPath>
                                                    <LinkChain>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>DisplayName</PropertyName>
                                                      </Link>
                                                    </LinkChain>
                                                    <ObjectId>234a35d7-0d14-413a-962a-9fcfbef62f5d</ObjectId>
                                                    <ObjectType>WorkflowNode</ObjectType>
                                                  </VariableReference>
                                                </References>
                                              </NewValue>
                                            </PropertyReferenceValuePair>
                                          </Assignments>
                                        </Configuration>
                                      </ActivityNode>
                                      <ActivityNode xsi:type="CompletedNode">
                                        <Id>6fce23f1-48b0-438d-aba4-d21f7b5ab67d</Id>
                                        <Notes>Fail the entire process</Notes>
                                        <CompletedType>FailedNotCompleted</CompletedType>
                                        <ResultMessage>
                                          <FormattedCode>Failed to update the public network adapter for VM '{0}'.
{1}</FormattedCode>
                                          <References>
                                            <VariableReference xsi:type="PropertyReference">
                                              <DisplayPath>Process.Target.Properties.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                                              <LinkChain>
                                                <Link xsi:type="PropertyNameLink">
                                                  <PropertyName>ResolvedTarget</PropertyName>
                                                </Link>
                                                <Link xsi:type="ObjectReferenceLink">
                                                  <ObjectLink>
                                                    <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                                    <ObjectType>PropertyExtension</ObjectType>
                                                  </ObjectLink>
                                                </Link>
                                              </LinkChain>
                                              <ObjectType>ProcessInstance</ObjectType>
                                            </VariableReference>
                                            <VariableReference xsi:type="PropertyReference">
                                              <DisplayPath>Workflow.Set Public Network.Error Information</DisplayPath>
                                              <LinkChain>
                                                <Link xsi:type="PropertyNameLink">
                                                  <PropertyName>ErrorInformation</PropertyName>
                                                </Link>
                                              </LinkChain>
                                              <ObjectId>06f9ec3d-e2eb-4161-9cad-a0b510a6987a</ObjectId>
                                              <ObjectType>ActivityInstance</ObjectType>
                                            </VariableReference>
                                          </References>
                                        </ResultMessage>
                                      </ActivityNode>
                                    </Children>
                                    <Condition>
                                      <Id>59363553-6d2c-4771-b2e2-1376e4f94c36</Id>
                                      <Conditions>
                                        <ConditionDefinition xsi:type="VariableConditionDefinition">
                                          <Id>ef25ccb8-2c17-40f1-bb7a-0fe67fd753d2</Id>
                                          <Expression xsi:type="SubstitutableBoolean">
                                            <HardcodedValue>true</HardcodedValue>
                                          </Expression>
                                          <Comparison>Equals</Comparison>
                                          <VariableReference xsi:type="PropertyReference">
                                            <LinkChain>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>InstanceFailed</PropertyName>
                                              </Link>
                                            </LinkChain>
                                            <ObjectId>06f9ec3d-e2eb-4161-9cad-a0b510a6987a</ObjectId>
                                            <ObjectType>ActivityInstance</ObjectType>
                                          </VariableReference>
                                        </ConditionDefinition>
                                      </Conditions>
                                    </Condition>
                                  </ActivityNode>
                                </Children>
                                <Configuration xsi:type="UpdateVMNetworkAdapterActivityConfiguration" xml:space="preserve">
                                  <Id>06f9ec3d-e2eb-4161-9cad-a0b510a6987a</Id>
                                  <DisplayName>Set Management Network</DisplayName>
                                  <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
                                    <SingleTargetReference>
                                      <FormattedCode>{0}</FormattedCode>
                                      <References>
                                        <VariableReference xsi:type="PropertyReference">
                                          <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.VCenter</DisplayPath>
                                          <LinkChain>
                                            <Link xsi:type="PropertyNameLink">
                                              <PropertyName>ResolvedTarget</PropertyName>
                                            </Link>
                                            <Link xsi:type="ObjectReferenceLink">
                                              <ObjectLink>
                                                <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                                                <ObjectType>PropertyExtension</ObjectType>
                                              </ObjectLink>
                                            </Link>
                                          </LinkChain>
                                          <ObjectType>ProcessInstance</ObjectType>
                                        </VariableReference>
                                      </References>
                                    </SingleTargetReference>
                                  </TargetLoadBalancer>
                                  <InheritTarget>false</InheritTarget>
                                  <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                                  <VTask>
                                    <MainText>Update VM Network Adapter</MainText>
                                  </VTask>
                                  <TimeOutPeriod>
                                    <DisplayUnits>Minutes</DisplayUnits>
                                    <Period>
                                      <HardcodedValue>20</HardcodedValue>
                                    </Period>
                                  </TimeOutPeriod>
                                  <VirtualMachineName>
                                    <FormattedCode>{0}</FormattedCode>
                                    <References>
                                      <VariableReference xsi:type="PropertyReference">
                                        <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                                        <LinkChain>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>ResolvedTarget</PropertyName>
                                          </Link>
                                          <Link xsi:type="ObjectReferenceLink">
                                            <ObjectLink>
                                              <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                              <ObjectType>PropertyExtension</ObjectType>
                                            </ObjectLink>
                                          </Link>
                                        </LinkChain>
                                        <ObjectType>ProcessInstance</ObjectType>
                                      </VariableReference>
                                    </References>
                                  </VirtualMachineName>
                                  <NetworkAdapterName>
                                    <FormattedCode>{0}</FormattedCode>
                                    <References>
                                      <VariableReference xsi:type="PropertyReference">
                                        <DisplayPath>Workflow.For Each Block.Item.Hardware</DisplayPath>
                                        <LinkChain>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>Hardware</PropertyName>
                                          </Link>
                                        </LinkChain>
                                        <ObjectId>1bae557f-717f-4331-b0e6-96fbdc2dc25b</ObjectId>
                                        <ObjectType>ActivityInstance</ObjectType>
                                      </VariableReference>
                                    </References>
                                  </NetworkAdapterName>
                                  <Connected>Yes</Connected>
                                  <ConnectOnPowerOn>Yes</ConnectOnPowerOn>
                                  <MACAddressType>DoNotChange</MACAddressType>
                                  <Network>
                                    <FormattedCode>{0}</FormattedCode>
                                    <References>
                                      <VariableReference xsi:type="PropertyReference">
                                        <DisplayPath>Workflow.SelectLayer2 Details - Mgmt.Result Table.First Row.Layer2ID</DisplayPath>
                                        <LinkChain>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>ResultTable</PropertyName>
                                          </Link>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>FirstRow</PropertyName>
                                          </Link>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>Layer2ID</PropertyName>
                                          </Link>
                                        </LinkChain>
                                        <ObjectId>d42a7619-4960-44f7-8044-7a422d0aff02</ObjectId>
                                        <ObjectType>ActivityInstance</ObjectType>
                                      </VariableReference>
                                    </References>
                                  </Network>
                                </Configuration>
                              </ActivityNode>
                            </Children>
                            <Condition>
                              <Id>9984b9ef-c6a1-4d4b-9392-50c0d2a3598f</Id>
                              <Conditions>
                                <ConditionDefinition xsi:type="VariableConditionDefinition">
                                  <Id>75246297-9118-43be-b164-fcb5f022357f</Id>
                                  <Expression xsi:type="SubstitutableNumber">
                                    <HardcodedValue>1</HardcodedValue>
                                  </Expression>
                                  <Comparison>GreaterThanOrEquals</Comparison>
                                  <VariableReference xsi:type="PropertyReference">
                                    <DisplayPath>Workflow.Select VM Network Adapters.Result Table.Row Count</DisplayPath>
                                    <LinkChain>
                                      <Link xsi:type="PropertyNameLink">
                                        <PropertyName>ResultTable</PropertyName>
                                      </Link>
                                      <Link xsi:type="PropertyNameLink">
                                        <PropertyName>RowCount</PropertyName>
                                      </Link>
                                    </LinkChain>
                                    <ObjectId>92dd65fd-8791-4b23-8d2c-373cd03cdde2</ObjectId>
                                    <ObjectType>ActivityInstance</ObjectType>
                                  </VariableReference>
                                </ConditionDefinition>
                              </Conditions>
                            </Condition>
                          </ActivityNode>
                          <ActivityNode xsi:type="ConditionBranchNode">
                            <Id>c3519cba-fe2b-4873-a04f-12a21eb45068</Id>
                            <DisplayName>else, add the NIC</DisplayName>
                            <Children>
                              <ActivityNode xsi:type="ExecuteActivityNode">
                                <Id>1444173e-5577-4321-ae0b-ab5960c63703</Id>
                                <DisplayName>Add Network Adapter 1</DisplayName>
                                <Children>
                                  <ActivityNode xsi:type="ConditionBranchNode">
                                    <Id>26517c3b-c38b-4179-bfe6-976e7987c982</Id>
                                    <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
                                    <DisplayName>If Execution Fails</DisplayName>
                                    <Children>
                                      <ActivityNode xsi:type="ExecuteActivityNode">
                                        <Id>4f09378e-b2df-42d8-9c40-9d9827b5ce69</Id>
                                        <DisplayName>Add VM Network Adapter failed (9002)</DisplayName>
                                        <Children>
                                          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                                            <Id>aa90a61d-097d-49e1-91b1-eed2ae952c94</Id>
                                            <ActivityNodeId>4f09378e-b2df-42d8-9c40-9d9827b5ce69</ActivityNodeId>
                                            <CompletedId>e386f2dd-70bd-4e43-b5e7-a5c084bfa22e</CompletedId>
                                          </ActivityNode>
                                        </Children>
                                        <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                                          <Id>4f09378e-b2df-42d8-9c40-9d9827b5ce69</Id>
                                          <DisplayName>Add VM Network Adapter failed (9002)</DisplayName>
                                          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                                            <SingleTargetId>
                                              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                                            </SingleTargetId>
                                          </TargetLoadBalancer>
                                          <InheritTarget>false</InheritTarget>
                                          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                                          <Assignments>
                                            <PropertyReferenceValuePair>
                                              <VariableToSet>
                                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                                                <LinkChain>
                                                  <Link xsi:type="PropertyNameLink">
                                                    <PropertyName>ResolvedTarget</PropertyName>
                                                  </Link>
                                                  <Link xsi:type="ObjectReferenceLink">
                                                    <ObjectLink>
                                                      <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                                                      <ObjectType>PropertyExtension</ObjectType>
                                                    </ObjectLink>
                                                  </Link>
                                                </LinkChain>
                                                <ObjectType>ProcessInstance</ObjectType>
                                              </VariableToSet>
                                              <NewValue xsi:type="SubstitutableNumber">
                                                <HardcodedValue>9002</HardcodedValue>
                                              </NewValue>
                                            </PropertyReferenceValuePair>
                                            <PropertyReferenceValuePair>
                                              <VariableToSet>
                                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorDescription</DisplayPath>
                                                <LinkChain>
                                                  <Link xsi:type="PropertyNameLink">
                                                    <PropertyName>ResolvedTarget</PropertyName>
                                                  </Link>
                                                  <Link xsi:type="ObjectReferenceLink">
                                                    <ObjectLink>
                                                      <Id>05385a56-169a-4946-9e3e-8de36ceaa838</Id>
                                                      <ObjectType>PropertyExtension</ObjectType>
                                                    </ObjectLink>
                                                  </Link>
                                                </LinkChain>
                                                <ObjectType>ProcessInstance</ObjectType>
                                              </VariableToSet>
                                              <NewValue xsi:type="SubstitutableString">
                                                <FormattedCode>Failed To add  VM network adapter:
Virtual Machine:
{0}

Network:
{1}

</FormattedCode>
                                                <References>
                                                  <VariableReference xsi:type="PropertyReference">
                                                    <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                                                    <LinkChain>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>ResolvedTarget</PropertyName>
                                                      </Link>
                                                      <Link xsi:type="ObjectReferenceLink">
                                                        <ObjectLink>
                                                          <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                                          <ObjectType>PropertyExtension</ObjectType>
                                                        </ObjectLink>
                                                      </Link>
                                                    </LinkChain>
                                                    <ObjectType>ProcessInstance</ObjectType>
                                                  </VariableReference>
                                                  <VariableReference xsi:type="PropertyReference">
                                                    <DisplayPath>Process.Target.Cloud.Service.Server.Networks.First Row.VLAN Object Reference</DisplayPath>
                                                    <LinkChain>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>ResolvedTarget</PropertyName>
                                                      </Link>
                                                      <Link xsi:type="ObjectReferenceLink">
                                                        <ObjectLink>
                                                          <Id>c8314a62-d2a8-4e09-8632-55e0c77d7f20</Id>
                                                          <ObjectType>PropertyExtension</ObjectType>
                                                        </ObjectLink>
                                                      </Link>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>FirstRow</PropertyName>
                                                      </Link>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>VLAN Object Reference</PropertyName>
                                                      </Link>
                                                    </LinkChain>
                                                    <ObjectType>ProcessInstance</ObjectType>
                                                  </VariableReference>
                                                </References>
                                              </NewValue>
                                            </PropertyReferenceValuePair>
                                            <PropertyReferenceValuePair>
                                              <VariableToSet>
                                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.UserSet.Retry</DisplayPath>
                                                <LinkChain>
                                                  <Link xsi:type="PropertyNameLink">
                                                    <PropertyName>ResolvedTarget</PropertyName>
                                                  </Link>
                                                  <Link xsi:type="ObjectReferenceLink">
                                                    <ObjectLink>
                                                      <Id>dfd0c20a-58bd-4a1f-b242-7658e642dcd1</Id>
                                                      <ObjectType>PropertyExtension</ObjectType>
                                                    </ObjectLink>
                                                  </Link>
                                                </LinkChain>
                                                <ObjectType>ProcessInstance</ObjectType>
                                              </VariableToSet>
                                              <NewValue xsi:type="SubstitutableBoolean">
                                                <FormattedCode>{0}</FormattedCode>
                                                <References>
                                                  <VariableReference xsi:type="PropertyReference">
                                                    <DisplayPath>Workflow.Add Update VM Network Adapter.Name</DisplayPath>
                                                    <LinkChain>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>DisplayName</PropertyName>
                                                      </Link>
                                                    </LinkChain>
                                                    <ObjectId>234a35d7-0d14-413a-962a-9fcfbef62f5d</ObjectId>
                                                    <ObjectType>WorkflowNode</ObjectType>
                                                  </VariableReference>
                                                </References>
                                              </NewValue>
                                            </PropertyReferenceValuePair>
                                          </Assignments>
                                        </Configuration>
                                      </ActivityNode>
                                      <ActivityNode xsi:type="CompletedNode">
                                        <Id>08889744-47b4-4906-b2c2-79af83d49daf</Id>
                                        <Notes>Fail the entire process</Notes>
                                        <CompletedType>FailedNotCompleted</CompletedType>
                                        <ResultMessage>
                                          <FormattedCode>{0}</FormattedCode>
                                          <References>
                                            <VariableReference xsi:type="PropertyReference">
                                              <DisplayPath>Workflow.Add Network Adapter 1.Error Information</DisplayPath>
                                              <LinkChain>
                                                <Link xsi:type="PropertyNameLink">
                                                  <PropertyName>ErrorInformation</PropertyName>
                                                </Link>
                                              </LinkChain>
                                              <ObjectId>1444173e-5577-4321-ae0b-ab5960c63703</ObjectId>
                                              <ObjectType>ActivityInstance</ObjectType>
                                            </VariableReference>
                                          </References>
                                        </ResultMessage>
                                      </ActivityNode>
                                    </Children>
                                    <Condition>
                                      <Id>c4a5609c-36f3-4b5f-b2e4-9596a93b85fa</Id>
                                      <Conditions>
                                        <ConditionDefinition xsi:type="VariableConditionDefinition">
                                          <Id>9dfb8f21-07ae-4f47-b4cd-86e1bbdc8cf8</Id>
                                          <Expression xsi:type="SubstitutableBoolean">
                                            <HardcodedValue>true</HardcodedValue>
                                          </Expression>
                                          <Comparison>Equals</Comparison>
                                          <VariableReference xsi:type="PropertyReference">
                                            <LinkChain>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>InstanceFailed</PropertyName>
                                              </Link>
                                            </LinkChain>
                                            <ObjectId>1444173e-5577-4321-ae0b-ab5960c63703</ObjectId>
                                            <ObjectType>ActivityInstance</ObjectType>
                                          </VariableReference>
                                        </ConditionDefinition>
                                      </Conditions>
                                    </Condition>
                                  </ActivityNode>
                                </Children>
                                <Configuration xsi:type="AddVMNetworkAdapterActivityConfiguration" xml:space="preserve">
                                  <Id>1444173e-5577-4321-ae0b-ab5960c63703</Id>
                                  <DisplayName>Add Network Adapter 1</DisplayName>
                                  <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
                                    <SingleTargetReference>
                                      <FormattedCode>{0}</FormattedCode>
                                      <References>
                                        <VariableReference xsi:type="PropertyReference">
                                          <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.VCenter</DisplayPath>
                                          <LinkChain>
                                            <Link xsi:type="PropertyNameLink">
                                              <PropertyName>ResolvedTarget</PropertyName>
                                            </Link>
                                            <Link xsi:type="ObjectReferenceLink">
                                              <ObjectLink>
                                                <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                                                <ObjectType>PropertyExtension</ObjectType>
                                              </ObjectLink>
                                            </Link>
                                          </LinkChain>
                                          <ObjectType>ProcessInstance</ObjectType>
                                        </VariableReference>
                                      </References>
                                    </SingleTargetReference>
                                  </TargetLoadBalancer>
                                  <InheritTarget>false</InheritTarget>
                                  <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                                  <VTask>
                                    <MainText>Add VM Network</MainText>
                                  </VTask>
                                  <TimeOutPeriod>
                                    <DisplayUnits>Minutes</DisplayUnits>
                                    <Period>
                                      <HardcodedValue>20</HardcodedValue>
                                    </Period>
                                  </TimeOutPeriod>
                                  <VirtualMachineName>
                                    <FormattedCode>{0}</FormattedCode>
                                    <References>
                                      <VariableReference xsi:type="PropertyReference">
                                        <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                                        <LinkChain>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>ResolvedTarget</PropertyName>
                                          </Link>
                                          <Link xsi:type="ObjectReferenceLink">
                                            <ObjectLink>
                                              <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                              <ObjectType>PropertyExtension</ObjectType>
                                            </ObjectLink>
                                          </Link>
                                        </LinkChain>
                                        <ObjectType>ProcessInstance</ObjectType>
                                      </VariableReference>
                                    </References>
                                  </VirtualMachineName>
                                  <NetworkAdapterType>E1000</NetworkAdapterType>
                                  <NetworkLabel>
                                    <FormattedCode>{0}</FormattedCode>
                                    <References>
                                      <VariableReference xsi:type="PropertyReference">
                                        <DisplayPath>Workflow.SelectLayer2 Details - Mgmt.Result Table.First Row.Layer2ID</DisplayPath>
                                        <LinkChain>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>ResultTable</PropertyName>
                                          </Link>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>FirstRow</PropertyName>
                                          </Link>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>Layer2ID</PropertyName>
                                          </Link>
                                        </LinkChain>
                                        <ObjectId>d42a7619-4960-44f7-8044-7a422d0aff02</ObjectId>
                                        <ObjectType>ActivityInstance</ObjectType>
                                      </VariableReference>
                                    </References>
                                  </NetworkLabel>
                                  <IsConnectAtPowerOn>true</IsConnectAtPowerOn>
                                </Configuration>
                              </ActivityNode>
                            </Children>
                            <Condition>
                              <Id>e319971a-37a1-4669-97be-60c2498b7f00</Id>
                              <Conditions />
                            </Condition>
                          </ActivityNode>
                        </Children>
                      </ActivityNode>
                    </Children>
                    <Condition>
                      <Id>7fe5a93f-1615-4164-8de7-7d0c56b35c05</Id>
                      <Conditions>
                        <ConditionDefinition xsi:type="VariableConditionDefinition">
                          <Id>e0e055e7-bb5e-4d5a-b7c1-da5ffeaf019a</Id>
                          <Expression xsi:type="SubstitutableString">
                            <HardcodedValue />
                          </Expression>
                          <Comparison>NotEquals</Comparison>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Variables.Input.Infrastructure network</DisplayPath>
                            <LinkChain />
                            <ObjectId>b42b2dd2-d0b3-4db5-bc07-7e75bd9e73de</ObjectId>
                            <ObjectType>GlobalVariable</ObjectType>
                          </VariableReference>
                        </ConditionDefinition>
                        <ConditionDefinition xsi:type="VariableConditionDefinition">
                          <Id>7ba0088a-3c96-464e-a04e-85765e56911c</Id>
                          <Expression xsi:type="SubstitutableNumber">
                            <HardcodedValue>1</HardcodedValue>
                          </Expression>
                          <Comparison>Equals</Comparison>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Variables.Local.row count</DisplayPath>
                            <LinkChain />
                            <ObjectId>04cee438-297f-4fda-bc9b-9fac4ea7a402</ObjectId>
                            <ObjectType>GlobalVariable</ObjectType>
                          </VariableReference>
                        </ConditionDefinition>
                      </Conditions>
                    </Condition>
                  </ActivityNode>
                </Children>
                <Condition>
                  <Id>94813d44-de70-48d7-af07-7e6c29aeb7a9</Id>
                  <Conditions>
                    <ConditionDefinition xsi:type="VariableConditionDefinition">
                      <Id>b927aa07-fc23-4fdb-a4d8-c6b10299c8de</Id>
                      <Expression xsi:type="SubstitutableNumber">
                        <HardcodedValue>1</HardcodedValue>
                      </Expression>
                      <Comparison>Equals</Comparison>
                      <VariableReference xsi:type="PropertyReference">
                        <DisplayPath>Process.Variables.Local.row count</DisplayPath>
                        <LinkChain />
                        <ObjectId>04cee438-297f-4fda-bc9b-9fac4ea7a402</ObjectId>
                        <ObjectType>GlobalVariable</ObjectType>
                      </VariableReference>
                    </ConditionDefinition>
                  </Conditions>
                </Condition>
              </ActivityNode>
              <ActivityNode xsi:type="ConditionBranchNode">
                <Id>4c00151a-0af4-4bae-a267-999b42bfbd1a</Id>
                <DisplayName>Condition Branch</DisplayName>
                <Children>
                  <ActivityNode xsi:type="ExecuteActivityNode">
                    <Id>302be331-0a7f-4b0a-8c0a-da532dc2d00c</Id>
                    <DisplayName>SelectLayer2 Details - Service</DisplayName>
                    <Children>
                      <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                        <Id>1e269937-3bd5-4f5b-81bb-a14c127e2551</Id>
                        <ActivityNodeId>302be331-0a7f-4b0a-8c0a-da532dc2d00c</ActivityNodeId>
                        <CompletedId>6c251414-19d8-4c77-b16b-1239f6b3a6a3</CompletedId>
                      </ActivityNode>
                    </Children>
                    <Configuration xsi:type="ExtractTableActivityConfiguration" xml:space="preserve">
                      <Id>302be331-0a7f-4b0a-8c0a-da532dc2d00c</Id>
                      <DisplayName>SelectLayer2 Details - Service</DisplayName>
                      <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                        <SingleTargetId>
                          <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                        </SingleTargetId>
                      </TargetLoadBalancer>
                      <InheritTarget>false</InheritTarget>
                      <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                      <Columns>
                        <BuiltinTableColumn>
                          <Name>PlatformElementID</Name>
                          <DataType>System.String</DataType>
                        </BuiltinTableColumn>
                        <BuiltinTableColumn>
                          <Name>Layer2ID</Name>
                          <DataType>System.String</DataType>
                        </BuiltinTableColumn>
                        <BuiltinTableColumn>
                          <Name>ServerID</Name>
                          <DataType>System.String</DataType>
                        </BuiltinTableColumn>
                        <BuiltinTableColumn>
                          <Name>VLANInstance</Name>
                          <DataType>System.String</DataType>
                        </BuiltinTableColumn>
                      </Columns>
                      <SourceTable xsi:type="PropertyReference">
                        <DisplayPath>Process.Target.Cloud.Service.Server.Layer2Details</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>8ed7c640-e2ab-43ee-b9fb-f4b6dcbadf07</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </SourceTable>
                      <WhereClause>
                        <FormattedCode>[ServerID] = '{0}:{1}' and [VLANInstance] = '{2}'</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.VCenter.Target Id</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResolvedTarget</PropertyName>
                              </Link>
                              <Link xsi:type="ObjectReferenceLink">
                                <ObjectLink>
                                  <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                                  <ObjectType>PropertyExtension</ObjectType>
                                </ObjectLink>
                              </Link>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>GetReferencedObject</PropertyName>
                              </Link>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>Id</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableReference>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Workflow.Replace String.Replaced Result</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>Result</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectId>8d4d650f-a538-438d-89ba-fe11d5f012f4</ObjectId>
                            <ObjectType>ActivityInstance</ObjectType>
                          </VariableReference>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Workflow.Select Networks.Result Table.Last Row.VLAN Instance</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResultTable</PropertyName>
                              </Link>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>LastRow</PropertyName>
                              </Link>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>VLAN Instance</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectId>a521cecc-ec78-4e21-ad23-18e0ac41610c</ObjectId>
                            <ObjectType>ActivityInstance</ObjectType>
                          </VariableReference>
                        </References>
                      </WhereClause>
                      <SortColumn />
                      <SortOrder>Ascending</SortOrder>
                      <MaxRows>
                        <HardcodedValue>2147483647</HardcodedValue>
                      </MaxRows>
                    </Configuration>
                  </ActivityNode>
                  <ActivityNode xsi:type="ConditionBranchNode">
                    <Id>8fa7124e-5a33-479e-91d1-33a9d9452f65</Id>
                    <DisplayName>If Service Network defined </DisplayName>
                    <Children>
                      <ActivityNode xsi:type="SwitchNode">
                        <Id>0e0bf653-ae7f-4731-a908-007c168a5e1a</Id>
                        <DisplayName />
                        <Children>
                          <ActivityNode xsi:type="ConditionBranchNode">
                            <Id>d9423ce5-acdb-469f-b072-83a8419d9d26</Id>
                            <DisplayName>and NIC is present</DisplayName>
                            <Children>
                              <ActivityNode xsi:type="ExecuteActivityNode">
                                <Id>266e431d-eb83-4330-ae5e-5d3f5eab08a8</Id>
                                <DisplayName>Set Service Network</DisplayName>
                                <Children>
                                  <ActivityNode xsi:type="ConditionBranchNode">
                                    <Id>401df364-8fef-4208-bcab-5411d080ae64</Id>
                                    <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
                                    <DisplayName>If Execution Fails</DisplayName>
                                    <Children>
                                      <ActivityNode xsi:type="ExecuteActivityNode">
                                        <Id>e1b5a3b7-c99a-4754-b5ca-55b912043d0f</Id>
                                        <DisplayName>Failed To Update VM Network Adapter - Management (9004)</DisplayName>
                                        <Children>
                                          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                                            <Id>8a46544c-97e7-42e1-bb2a-1bf59e95d22f</Id>
                                            <ActivityNodeId>e1b5a3b7-c99a-4754-b5ca-55b912043d0f</ActivityNodeId>
                                            <CompletedId>47dfa879-4a01-4ade-baaf-839d2e66581d</CompletedId>
                                          </ActivityNode>
                                        </Children>
                                        <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                                          <Id>e1b5a3b7-c99a-4754-b5ca-55b912043d0f</Id>
                                          <DisplayName>Failed To Update VM Network Adapter - Management (9004)</DisplayName>
                                          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                                            <SingleTargetId>
                                              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                                            </SingleTargetId>
                                          </TargetLoadBalancer>
                                          <InheritTarget>false</InheritTarget>
                                          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                                          <Assignments>
                                            <PropertyReferenceValuePair>
                                              <VariableToSet>
                                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                                                <LinkChain>
                                                  <Link xsi:type="PropertyNameLink">
                                                    <PropertyName>ResolvedTarget</PropertyName>
                                                  </Link>
                                                  <Link xsi:type="ObjectReferenceLink">
                                                    <ObjectLink>
                                                      <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                                                      <ObjectType>PropertyExtension</ObjectType>
                                                    </ObjectLink>
                                                  </Link>
                                                </LinkChain>
                                                <ObjectType>ProcessInstance</ObjectType>
                                              </VariableToSet>
                                              <NewValue xsi:type="SubstitutableNumber">
                                                <HardcodedValue>9004</HardcodedValue>
                                              </NewValue>
                                            </PropertyReferenceValuePair>
                                            <PropertyReferenceValuePair>
                                              <VariableToSet>
                                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorDescription</DisplayPath>
                                                <LinkChain>
                                                  <Link xsi:type="PropertyNameLink">
                                                    <PropertyName>ResolvedTarget</PropertyName>
                                                  </Link>
                                                  <Link xsi:type="ObjectReferenceLink">
                                                    <ObjectLink>
                                                      <Id>05385a56-169a-4946-9e3e-8de36ceaa838</Id>
                                                      <ObjectType>PropertyExtension</ObjectType>
                                                    </ObjectLink>
                                                  </Link>
                                                </LinkChain>
                                                <ObjectType>ProcessInstance</ObjectType>
                                              </VariableToSet>
                                              <NewValue xsi:type="SubstitutableString">
                                                <FormattedCode>Failed To Update VM Network Adapter - Management:
Virtual Machine:
{0}

Network Adapter:
{1}

Network:
{2}

</FormattedCode>
                                                <References>
                                                  <VariableReference xsi:type="PropertyReference">
                                                    <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                                                    <LinkChain>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>ResolvedTarget</PropertyName>
                                                      </Link>
                                                      <Link xsi:type="ObjectReferenceLink">
                                                        <ObjectLink>
                                                          <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                                          <ObjectType>PropertyExtension</ObjectType>
                                                        </ObjectLink>
                                                      </Link>
                                                    </LinkChain>
                                                    <ObjectType>ProcessInstance</ObjectType>
                                                  </VariableReference>
                                                  <VariableReference xsi:type="PropertyReference">
                                                    <DisplayPath>Workflow.Select VM Network Adapters.Result Table.First Row.Hardware</DisplayPath>
                                                    <LinkChain>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>ResultTable</PropertyName>
                                                      </Link>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>FirstRow</PropertyName>
                                                      </Link>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>Hardware</PropertyName>
                                                      </Link>
                                                    </LinkChain>
                                                    <ObjectId>92dd65fd-8791-4b23-8d2c-373cd03cdde2</ObjectId>
                                                    <ObjectType>ActivityInstance</ObjectType>
                                                  </VariableReference>
                                                  <VariableReference xsi:type="PropertyReference">
                                                    <DisplayPath>Process.Target.Cloud.Service.Server.Networks.First Row.VLAN Object Reference</DisplayPath>
                                                    <LinkChain>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>ResolvedTarget</PropertyName>
                                                      </Link>
                                                      <Link xsi:type="ObjectReferenceLink">
                                                        <ObjectLink>
                                                          <Id>c8314a62-d2a8-4e09-8632-55e0c77d7f20</Id>
                                                          <ObjectType>PropertyExtension</ObjectType>
                                                        </ObjectLink>
                                                      </Link>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>FirstRow</PropertyName>
                                                      </Link>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>VLAN Object Reference</PropertyName>
                                                      </Link>
                                                    </LinkChain>
                                                    <ObjectType>ProcessInstance</ObjectType>
                                                  </VariableReference>
                                                </References>
                                              </NewValue>
                                            </PropertyReferenceValuePair>
                                            <PropertyReferenceValuePair>
                                              <VariableToSet>
                                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.UserSet.Retry</DisplayPath>
                                                <LinkChain>
                                                  <Link xsi:type="PropertyNameLink">
                                                    <PropertyName>ResolvedTarget</PropertyName>
                                                  </Link>
                                                  <Link xsi:type="ObjectReferenceLink">
                                                    <ObjectLink>
                                                      <Id>dfd0c20a-58bd-4a1f-b242-7658e642dcd1</Id>
                                                      <ObjectType>PropertyExtension</ObjectType>
                                                    </ObjectLink>
                                                  </Link>
                                                </LinkChain>
                                                <ObjectType>ProcessInstance</ObjectType>
                                              </VariableToSet>
                                              <NewValue xsi:type="SubstitutableBoolean">
                                                <FormattedCode>{0}</FormattedCode>
                                                <References>
                                                  <VariableReference xsi:type="PropertyReference">
                                                    <DisplayPath>Workflow.Add Update VM Network Adapter.Name</DisplayPath>
                                                    <LinkChain>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>DisplayName</PropertyName>
                                                      </Link>
                                                    </LinkChain>
                                                    <ObjectId>234a35d7-0d14-413a-962a-9fcfbef62f5d</ObjectId>
                                                    <ObjectType>WorkflowNode</ObjectType>
                                                  </VariableReference>
                                                </References>
                                              </NewValue>
                                            </PropertyReferenceValuePair>
                                          </Assignments>
                                        </Configuration>
                                      </ActivityNode>
                                      <ActivityNode xsi:type="CompletedNode">
                                        <Id>26cf69c1-918a-402e-ba29-1bcaa7222b41</Id>
                                        <Notes>Fail the entire process</Notes>
                                        <CompletedType>FailedNotCompleted</CompletedType>
                                        <ResultMessage>
                                          <FormattedCode>Failed to update the public network adapter for VM '{0}'.
{1}</FormattedCode>
                                          <References>
                                            <VariableReference xsi:type="PropertyReference">
                                              <DisplayPath>Process.Target.Properties.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                                              <LinkChain>
                                                <Link xsi:type="PropertyNameLink">
                                                  <PropertyName>ResolvedTarget</PropertyName>
                                                </Link>
                                                <Link xsi:type="ObjectReferenceLink">
                                                  <ObjectLink>
                                                    <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                                    <ObjectType>PropertyExtension</ObjectType>
                                                  </ObjectLink>
                                                </Link>
                                              </LinkChain>
                                              <ObjectType>ProcessInstance</ObjectType>
                                            </VariableReference>
                                            <VariableReference xsi:type="PropertyReference">
                                              <DisplayPath>Workflow.Set Management Network.Error Information</DisplayPath>
                                              <LinkChain>
                                                <Link xsi:type="PropertyNameLink">
                                                  <PropertyName>ErrorInformation</PropertyName>
                                                </Link>
                                              </LinkChain>
                                              <ObjectId>266e431d-eb83-4330-ae5e-5d3f5eab08a8</ObjectId>
                                              <ObjectType>ActivityInstance</ObjectType>
                                            </VariableReference>
                                          </References>
                                        </ResultMessage>
                                      </ActivityNode>
                                    </Children>
                                    <Condition>
                                      <Id>59363553-6d2c-4771-b2e2-1376e4f94c36</Id>
                                      <Conditions>
                                        <ConditionDefinition xsi:type="VariableConditionDefinition">
                                          <Id>ef25ccb8-2c17-40f1-bb7a-0fe67fd753d2</Id>
                                          <Expression xsi:type="SubstitutableBoolean">
                                            <HardcodedValue>true</HardcodedValue>
                                          </Expression>
                                          <Comparison>Equals</Comparison>
                                          <VariableReference xsi:type="PropertyReference">
                                            <LinkChain>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>InstanceFailed</PropertyName>
                                              </Link>
                                            </LinkChain>
                                            <ObjectId>266e431d-eb83-4330-ae5e-5d3f5eab08a8</ObjectId>
                                            <ObjectType>ActivityInstance</ObjectType>
                                          </VariableReference>
                                        </ConditionDefinition>
                                      </Conditions>
                                    </Condition>
                                  </ActivityNode>
                                </Children>
                                <Configuration xsi:type="UpdateVMNetworkAdapterActivityConfiguration" xml:space="preserve">
                                  <Id>266e431d-eb83-4330-ae5e-5d3f5eab08a8</Id>
                                  <DisplayName>Set Service Network</DisplayName>
                                  <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
                                    <SingleTargetReference>
                                      <FormattedCode>{0}</FormattedCode>
                                      <References>
                                        <VariableReference xsi:type="PropertyReference">
                                          <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.VCenter</DisplayPath>
                                          <LinkChain>
                                            <Link xsi:type="PropertyNameLink">
                                              <PropertyName>ResolvedTarget</PropertyName>
                                            </Link>
                                            <Link xsi:type="ObjectReferenceLink">
                                              <ObjectLink>
                                                <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                                                <ObjectType>PropertyExtension</ObjectType>
                                              </ObjectLink>
                                            </Link>
                                          </LinkChain>
                                          <ObjectType>ProcessInstance</ObjectType>
                                        </VariableReference>
                                      </References>
                                    </SingleTargetReference>
                                  </TargetLoadBalancer>
                                  <InheritTarget>false</InheritTarget>
                                  <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                                  <VTask>
                                    <MainText>Update VM Network Adapter</MainText>
                                  </VTask>
                                  <TimeOutPeriod>
                                    <DisplayUnits>Minutes</DisplayUnits>
                                    <Period>
                                      <HardcodedValue>20</HardcodedValue>
                                    </Period>
                                  </TimeOutPeriod>
                                  <VirtualMachineName>
                                    <FormattedCode>{0}</FormattedCode>
                                    <References>
                                      <VariableReference xsi:type="PropertyReference">
                                        <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                                        <LinkChain>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>ResolvedTarget</PropertyName>
                                          </Link>
                                          <Link xsi:type="ObjectReferenceLink">
                                            <ObjectLink>
                                              <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                              <ObjectType>PropertyExtension</ObjectType>
                                            </ObjectLink>
                                          </Link>
                                        </LinkChain>
                                        <ObjectType>ProcessInstance</ObjectType>
                                      </VariableReference>
                                    </References>
                                  </VirtualMachineName>
                                  <NetworkAdapterName>
                                    <FormattedCode>{0}</FormattedCode>
                                    <References>
                                      <VariableReference xsi:type="PropertyReference">
                                        <DisplayPath>Workflow.For Each Block.Item.Hardware</DisplayPath>
                                        <LinkChain>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>Hardware</PropertyName>
                                          </Link>
                                        </LinkChain>
                                        <ObjectId>1bae557f-717f-4331-b0e6-96fbdc2dc25b</ObjectId>
                                        <ObjectType>ActivityInstance</ObjectType>
                                      </VariableReference>
                                    </References>
                                  </NetworkAdapterName>
                                  <Connected>Yes</Connected>
                                  <ConnectOnPowerOn>Yes</ConnectOnPowerOn>
                                  <MACAddressType>DoNotChange</MACAddressType>
                                  <Network>
                                    <FormattedCode>{0}</FormattedCode>
                                    <References>
                                      <VariableReference xsi:type="PropertyReference">
                                        <DisplayPath>Workflow.SelectLayer2 Details - Service.Result Table.First Row.Layer2ID</DisplayPath>
                                        <LinkChain>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>ResultTable</PropertyName>
                                          </Link>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>FirstRow</PropertyName>
                                          </Link>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>Layer2ID</PropertyName>
                                          </Link>
                                        </LinkChain>
                                        <ObjectId>302be331-0a7f-4b0a-8c0a-da532dc2d00c</ObjectId>
                                        <ObjectType>ActivityInstance</ObjectType>
                                      </VariableReference>
                                    </References>
                                  </Network>
                                </Configuration>
                              </ActivityNode>
                            </Children>
                            <Condition>
                              <Id>9984b9ef-c6a1-4d4b-9392-50c0d2a3598f</Id>
                              <Conditions>
                                <ConditionDefinition xsi:type="VariableConditionDefinition">
                                  <Id>75246297-9118-43be-b164-fcb5f022357f</Id>
                                  <Expression xsi:type="SubstitutableNumber">
                                    <HardcodedValue>2</HardcodedValue>
                                  </Expression>
                                  <Comparison>Equals</Comparison>
                                  <VariableReference xsi:type="PropertyReference">
                                    <DisplayPath>Workflow.Select VM Network Adapters.Result Table.Row Count</DisplayPath>
                                    <LinkChain>
                                      <Link xsi:type="PropertyNameLink">
                                        <PropertyName>ResultTable</PropertyName>
                                      </Link>
                                      <Link xsi:type="PropertyNameLink">
                                        <PropertyName>RowCount</PropertyName>
                                      </Link>
                                    </LinkChain>
                                    <ObjectId>92dd65fd-8791-4b23-8d2c-373cd03cdde2</ObjectId>
                                    <ObjectType>ActivityInstance</ObjectType>
                                  </VariableReference>
                                </ConditionDefinition>
                              </Conditions>
                            </Condition>
                          </ActivityNode>
                          <ActivityNode xsi:type="ConditionBranchNode">
                            <Id>f615a8b8-fe26-485b-a728-1845f7768041</Id>
                            <DisplayName>else, add the NIC</DisplayName>
                            <Children>
                              <ActivityNode xsi:type="ExecuteActivityNode">
                                <Id>c723e5e9-4418-4879-b741-77bd2694c1b5</Id>
                                <DisplayName>Add Network Adapter 2</DisplayName>
                                <Children>
                                  <ActivityNode xsi:type="ConditionBranchNode">
                                    <Id>4a7aa32e-4228-48ab-8221-9662d73675a7</Id>
                                    <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
                                    <DisplayName>If Execution Fails</DisplayName>
                                    <Children>
                                      <ActivityNode xsi:type="ExecuteActivityNode">
                                        <Id>74e87da7-eaae-4c80-bba5-60d931c0eb59</Id>
                                        <DisplayName>Add VM Network Adapter failed (9002)</DisplayName>
                                        <Children>
                                          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                                            <Id>76372580-8c6a-488b-be77-15bff076f9ba</Id>
                                            <ActivityNodeId>74e87da7-eaae-4c80-bba5-60d931c0eb59</ActivityNodeId>
                                            <CompletedId>aa78ed83-7a1f-4a46-a14c-e9135fdec2de</CompletedId>
                                          </ActivityNode>
                                        </Children>
                                        <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                                          <Id>74e87da7-eaae-4c80-bba5-60d931c0eb59</Id>
                                          <DisplayName>Add VM Network Adapter failed (9002)</DisplayName>
                                          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                                            <SingleTargetId>
                                              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                                            </SingleTargetId>
                                          </TargetLoadBalancer>
                                          <InheritTarget>false</InheritTarget>
                                          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                                          <Assignments>
                                            <PropertyReferenceValuePair>
                                              <VariableToSet>
                                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                                                <LinkChain>
                                                  <Link xsi:type="PropertyNameLink">
                                                    <PropertyName>ResolvedTarget</PropertyName>
                                                  </Link>
                                                  <Link xsi:type="ObjectReferenceLink">
                                                    <ObjectLink>
                                                      <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                                                      <ObjectType>PropertyExtension</ObjectType>
                                                    </ObjectLink>
                                                  </Link>
                                                </LinkChain>
                                                <ObjectType>ProcessInstance</ObjectType>
                                              </VariableToSet>
                                              <NewValue xsi:type="SubstitutableNumber">
                                                <HardcodedValue>9002</HardcodedValue>
                                              </NewValue>
                                            </PropertyReferenceValuePair>
                                            <PropertyReferenceValuePair>
                                              <VariableToSet>
                                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorDescription</DisplayPath>
                                                <LinkChain>
                                                  <Link xsi:type="PropertyNameLink">
                                                    <PropertyName>ResolvedTarget</PropertyName>
                                                  </Link>
                                                  <Link xsi:type="ObjectReferenceLink">
                                                    <ObjectLink>
                                                      <Id>05385a56-169a-4946-9e3e-8de36ceaa838</Id>
                                                      <ObjectType>PropertyExtension</ObjectType>
                                                    </ObjectLink>
                                                  </Link>
                                                </LinkChain>
                                                <ObjectType>ProcessInstance</ObjectType>
                                              </VariableToSet>
                                              <NewValue xsi:type="SubstitutableString">
                                                <FormattedCode>Failed To add  VM network adapter:
Virtual Machine:
{0}

Network:
{1}

</FormattedCode>
                                                <References>
                                                  <VariableReference xsi:type="PropertyReference">
                                                    <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                                                    <LinkChain>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>ResolvedTarget</PropertyName>
                                                      </Link>
                                                      <Link xsi:type="ObjectReferenceLink">
                                                        <ObjectLink>
                                                          <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                                          <ObjectType>PropertyExtension</ObjectType>
                                                        </ObjectLink>
                                                      </Link>
                                                    </LinkChain>
                                                    <ObjectType>ProcessInstance</ObjectType>
                                                  </VariableReference>
                                                  <VariableReference xsi:type="PropertyReference">
                                                    <DisplayPath>Process.Target.Cloud.Service.Server.Networks.First Row.VLAN Object Reference</DisplayPath>
                                                    <LinkChain>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>ResolvedTarget</PropertyName>
                                                      </Link>
                                                      <Link xsi:type="ObjectReferenceLink">
                                                        <ObjectLink>
                                                          <Id>c8314a62-d2a8-4e09-8632-55e0c77d7f20</Id>
                                                          <ObjectType>PropertyExtension</ObjectType>
                                                        </ObjectLink>
                                                      </Link>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>FirstRow</PropertyName>
                                                      </Link>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>VLAN Object Reference</PropertyName>
                                                      </Link>
                                                    </LinkChain>
                                                    <ObjectType>ProcessInstance</ObjectType>
                                                  </VariableReference>
                                                </References>
                                              </NewValue>
                                            </PropertyReferenceValuePair>
                                            <PropertyReferenceValuePair>
                                              <VariableToSet>
                                                <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.UserSet.Retry</DisplayPath>
                                                <LinkChain>
                                                  <Link xsi:type="PropertyNameLink">
                                                    <PropertyName>ResolvedTarget</PropertyName>
                                                  </Link>
                                                  <Link xsi:type="ObjectReferenceLink">
                                                    <ObjectLink>
                                                      <Id>dfd0c20a-58bd-4a1f-b242-7658e642dcd1</Id>
                                                      <ObjectType>PropertyExtension</ObjectType>
                                                    </ObjectLink>
                                                  </Link>
                                                </LinkChain>
                                                <ObjectType>ProcessInstance</ObjectType>
                                              </VariableToSet>
                                              <NewValue xsi:type="SubstitutableBoolean">
                                                <FormattedCode>{0}</FormattedCode>
                                                <References>
                                                  <VariableReference xsi:type="PropertyReference">
                                                    <DisplayPath>Workflow.Add Update VM Network Adapter.Name</DisplayPath>
                                                    <LinkChain>
                                                      <Link xsi:type="PropertyNameLink">
                                                        <PropertyName>DisplayName</PropertyName>
                                                      </Link>
                                                    </LinkChain>
                                                    <ObjectId>234a35d7-0d14-413a-962a-9fcfbef62f5d</ObjectId>
                                                    <ObjectType>WorkflowNode</ObjectType>
                                                  </VariableReference>
                                                </References>
                                              </NewValue>
                                            </PropertyReferenceValuePair>
                                          </Assignments>
                                        </Configuration>
                                      </ActivityNode>
                                      <ActivityNode xsi:type="CompletedNode">
                                        <Id>f9378900-a0ff-45de-ba01-921a4dcd589a</Id>
                                        <Notes>Fail the entire process</Notes>
                                        <CompletedType>FailedNotCompleted</CompletedType>
                                        <ResultMessage>
                                          <FormattedCode>{0}</FormattedCode>
                                          <References>
                                            <VariableReference xsi:type="PropertyReference">
                                              <LinkChain>
                                                <Link xsi:type="PropertyNameLink">
                                                  <PropertyName>ErrorInformation</PropertyName>
                                                </Link>
                                              </LinkChain>
                                              <ObjectId>c723e5e9-4418-4879-b741-77bd2694c1b5</ObjectId>
                                              <ObjectType>ActivityInstance</ObjectType>
                                            </VariableReference>
                                          </References>
                                        </ResultMessage>
                                      </ActivityNode>
                                    </Children>
                                    <Condition>
                                      <Id>c4a5609c-36f3-4b5f-b2e4-9596a93b85fa</Id>
                                      <Conditions>
                                        <ConditionDefinition xsi:type="VariableConditionDefinition">
                                          <Id>9dfb8f21-07ae-4f47-b4cd-86e1bbdc8cf8</Id>
                                          <Expression xsi:type="SubstitutableBoolean">
                                            <HardcodedValue>true</HardcodedValue>
                                          </Expression>
                                          <Comparison>Equals</Comparison>
                                          <VariableReference xsi:type="PropertyReference">
                                            <LinkChain>
                                              <Link xsi:type="PropertyNameLink">
                                                <PropertyName>InstanceFailed</PropertyName>
                                              </Link>
                                            </LinkChain>
                                            <ObjectId>c723e5e9-4418-4879-b741-77bd2694c1b5</ObjectId>
                                            <ObjectType>ActivityInstance</ObjectType>
                                          </VariableReference>
                                        </ConditionDefinition>
                                      </Conditions>
                                    </Condition>
                                  </ActivityNode>
                                </Children>
                                <Configuration xsi:type="AddVMNetworkAdapterActivityConfiguration" xml:space="preserve">
                                  <Id>c723e5e9-4418-4879-b741-77bd2694c1b5</Id>
                                  <DisplayName>Add Network Adapter 2</DisplayName>
                                  <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
                                    <SingleTargetReference>
                                      <FormattedCode>{0}</FormattedCode>
                                      <References>
                                        <VariableReference xsi:type="PropertyReference">
                                          <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.VCenter</DisplayPath>
                                          <LinkChain>
                                            <Link xsi:type="PropertyNameLink">
                                              <PropertyName>ResolvedTarget</PropertyName>
                                            </Link>
                                            <Link xsi:type="ObjectReferenceLink">
                                              <ObjectLink>
                                                <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                                                <ObjectType>PropertyExtension</ObjectType>
                                              </ObjectLink>
                                            </Link>
                                          </LinkChain>
                                          <ObjectType>ProcessInstance</ObjectType>
                                        </VariableReference>
                                      </References>
                                    </SingleTargetReference>
                                  </TargetLoadBalancer>
                                  <InheritTarget>false</InheritTarget>
                                  <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                                  <VTask>
                                    <MainText>Add VM Network</MainText>
                                  </VTask>
                                  <TimeOutPeriod>
                                    <DisplayUnits>Minutes</DisplayUnits>
                                    <Period>
                                      <HardcodedValue>20</HardcodedValue>
                                    </Period>
                                  </TimeOutPeriod>
                                  <VirtualMachineName>
                                    <FormattedCode>{0}</FormattedCode>
                                    <References>
                                      <VariableReference xsi:type="PropertyReference">
                                        <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                                        <LinkChain>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>ResolvedTarget</PropertyName>
                                          </Link>
                                          <Link xsi:type="ObjectReferenceLink">
                                            <ObjectLink>
                                              <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                              <ObjectType>PropertyExtension</ObjectType>
                                            </ObjectLink>
                                          </Link>
                                        </LinkChain>
                                        <ObjectType>ProcessInstance</ObjectType>
                                      </VariableReference>
                                    </References>
                                  </VirtualMachineName>
                                  <NetworkAdapterType>E1000</NetworkAdapterType>
                                  <NetworkLabel>
                                    <FormattedCode>{0}</FormattedCode>
                                    <References>
                                      <VariableReference xsi:type="PropertyReference">
                                        <DisplayPath>Workflow.SelectLayer2 Details - Service.Result Table.First Row.Layer2ID</DisplayPath>
                                        <LinkChain>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>ResultTable</PropertyName>
                                          </Link>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>FirstRow</PropertyName>
                                          </Link>
                                          <Link xsi:type="PropertyNameLink">
                                            <PropertyName>Layer2ID</PropertyName>
                                          </Link>
                                        </LinkChain>
                                        <ObjectId>302be331-0a7f-4b0a-8c0a-da532dc2d00c</ObjectId>
                                        <ObjectType>ActivityInstance</ObjectType>
                                      </VariableReference>
                                    </References>
                                  </NetworkLabel>
                                  <IsConnectAtPowerOn>true</IsConnectAtPowerOn>
                                </Configuration>
                              </ActivityNode>
                            </Children>
                            <Condition>
                              <Id>e319971a-37a1-4669-97be-60c2498b7f00</Id>
                              <Conditions />
                            </Condition>
                          </ActivityNode>
                        </Children>
                      </ActivityNode>
                    </Children>
                    <Condition>
                      <Id>7fe5a93f-1615-4164-8de7-7d0c56b35c05</Id>
                      <Conditions>
                        <ConditionDefinition xsi:type="VariableConditionDefinition">
                          <Id>e0e055e7-bb5e-4d5a-b7c1-da5ffeaf019a</Id>
                          <Expression xsi:type="SubstitutableString">
                            <HardcodedValue />
                          </Expression>
                          <Comparison>NotEquals</Comparison>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Variables.Input.Service VLAN</DisplayPath>
                            <LinkChain />
                            <ObjectId>b7ebec72-8087-4b06-8c89-3bd731c364f4</ObjectId>
                            <ObjectType>GlobalVariable</ObjectType>
                          </VariableReference>
                        </ConditionDefinition>
                        <ConditionDefinition xsi:type="VariableConditionDefinition">
                          <Id>6941e9fa-23c1-4369-9309-667036ccf5ec</Id>
                          <Expression xsi:type="SubstitutableNumber">
                            <HardcodedValue>0</HardcodedValue>
                          </Expression>
                          <Comparison>Equals</Comparison>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Variables.Local.row count</DisplayPath>
                            <LinkChain />
                            <ObjectId>04cee438-297f-4fda-bc9b-9fac4ea7a402</ObjectId>
                            <ObjectType>GlobalVariable</ObjectType>
                          </VariableReference>
                        </ConditionDefinition>
                      </Conditions>
                    </Condition>
                  </ActivityNode>
                </Children>
                <Condition>
                  <Id>250861e3-59a6-47af-a913-61a9c4f7c98b</Id>
                  <Conditions />
                </Condition>
              </ActivityNode>
            </Children>
          </ActivityNode>
          <ActivityNode xsi:type="ExecuteActivityNode">
            <Id>dbc2b5a4-7f69-4034-9c38-d13598de2161</Id>
            <DisplayName>Set row count</DisplayName>
            <Children>
              <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                <Id>d3263bb4-15b2-4792-b66b-170fa16c6f80</Id>
                <ActivityNodeId>dbc2b5a4-7f69-4034-9c38-d13598de2161</ActivityNodeId>
                <CompletedId>7020f47b-9896-4b1b-8d22-123416019d0f</CompletedId>
              </ActivityNode>
            </Children>
            <Configuration xsi:type="SetVariableActivityConfiguration" xml:space="preserve">
              <Id>dbc2b5a4-7f69-4034-9c38-d13598de2161</Id>
              <DisplayName>Set row count</DisplayName>
              <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                <SingleTargetId>
                  <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                </SingleTargetId>
              </TargetLoadBalancer>
              <InheritTarget>false</InheritTarget>
              <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
              <VariableToSet>
                <DisplayPath>Process.Variables.Local.row count</DisplayPath>
                <LinkChain />
                <ObjectId>04cee438-297f-4fda-bc9b-9fac4ea7a402</ObjectId>
                <ObjectType>GlobalVariable</ObjectType>
              </VariableToSet>
              <NewValue xsi:type="SubstitutableNumber">
                <FormattedCode>{0} + 1</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Process.Variables.Local.row count</DisplayPath>
                    <LinkChain />
                    <ObjectId>04cee438-297f-4fda-bc9b-9fac4ea7a402</ObjectId>
                    <ObjectType>GlobalVariable</ObjectType>
                  </VariableReference>
                </References>
              </NewValue>
            </Configuration>
          </ActivityNode>
        </Children>
        <ForEachSource xsi:type="PropertyReference">
          <DisplayPath>Workflow.Select VM Network Adapters.Result Table.Rows</DisplayPath>
          <LinkChain>
            <Link xsi:type="PropertyNameLink">
              <PropertyName>ResultTable</PropertyName>
            </Link>
            <Link xsi:type="PropertyNameLink">
              <PropertyName>TIARows</PropertyName>
            </Link>
          </LinkChain>
          <ObjectId>92dd65fd-8791-4b23-8d2c-373cd03cdde2</ObjectId>
          <ObjectType>ActivityInstance</ObjectType>
        </ForEachSource>
      </ActivityNode>
      <ActivityNode xsi:type="StartPointNode">
        <Id>8a0c3c6c-39f0-42c5-af56-914d5807282f</Id>
        <DisplayName>PowerON VM</DisplayName>
      </ActivityNode>
      <ActivityNode xsi:type="StartProcessNode">
        <Id>144d0285-3746-4e95-bcd2-541cb4b630cf</Id>
        <DisplayName>Update Requisition Status</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>bb5afb14-52cd-428c-a763-a71a727316dd</Id>
            <ProcessNodeId>144d0285-3746-4e95-bcd2-541cb4b630cf</ProcessNodeId>
            <CompletedId>d95adb0a-9fc2-4b15-9edd-08a361bdcfa0</CompletedId>
          </ActivityNode>
        </Children>
        <ProcessId>27ac8b0e-2d5c-4a7d-b4c6-4947d040f51d</ProcessId>
        <InputVariableTable>
          <VariableAssignmentsAsArray>
            <InputVariableAssignment>
              <InputVariableId>7b33d2b5-8e24-4926-a8c7-a55dfe1d3c85</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <HardcodedValue />
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>854f35e5-cf46-4494-bf03-a123600a05e5</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <HardcodedValue />
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>fa0e45ca-7db8-4548-9c58-66bd3b0e8675</InputVariableId>
              <VariableValue xsi:type="SubstitutableNumber">
                <HardcodedValue>5</HardcodedValue>
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>b51d99b4-9b9f-4df0-8d9b-7d9eef60095c</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <HardcodedValue>Set Management and Service Information</HardcodedValue>
              </VariableValue>
            </InputVariableAssignment>
          </VariableAssignmentsAsArray>
        </InputVariableTable>
        <Asynchronous>false</Asynchronous>
        <InheritTarget>true</InheritTarget>
        <TargetLoadBalancer xsi:type="ProcessTargetLoadBalancer" />
        <InheritPriorityClass>true</InheritPriorityClass>
        <RuntimeUserId>
          <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
        </RuntimeUserId>
        <KnowledgeBaseId>00000000-0000-0000-0000-000000000000</KnowledgeBaseId>
        <StartPointId>
          <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
        </StartPointId>
        <StartPointName>
          <FormattedCode />
        </StartPointName>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>a54429b4-7f92-43ec-8284-ef1771094ef0</Id>
        <DisplayName>Power On VM</DisplayName>
        <Children>
          <ActivityNode xsi:type="ConditionBranchNode">
            <Id>37ab03a4-c3f8-4e07-96ce-9fdbd919f1ac</Id>
            <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
            <DisplayName>If Execution Fails</DisplayName>
            <Children>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>3073b8ae-fefc-495d-afc5-de3cc3834baf</Id>
                <DisplayName>Unable to power on VM (9005)</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>5df23419-b7e3-4292-8a50-01e34f11da70</Id>
                    <ActivityNodeId>3073b8ae-fefc-495d-afc5-de3cc3834baf</ActivityNodeId>
                    <CompletedId>6f7903c2-7c58-4104-a624-88aafbc02953</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                  <Id>3073b8ae-fefc-495d-afc5-de3cc3834baf</Id>
                  <DisplayName>Unable to power on VM (9005)</DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                  <Assignments>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableNumber">
                        <HardcodedValue>9005</HardcodedValue>
                      </NewValue>
                    </PropertyReferenceValuePair>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorDescription</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>05385a56-169a-4946-9e3e-8de36ceaa838</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableString">
                        <FormattedCode> Failed to power on VM:
{0}
</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResolvedTarget</PropertyName>
                              </Link>
                              <Link xsi:type="ObjectReferenceLink">
                                <ObjectLink>
                                  <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                  <ObjectType>PropertyExtension</ObjectType>
                                </ObjectLink>
                              </Link>
                            </LinkChain>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableReference>
                        </References>
                      </NewValue>
                    </PropertyReferenceValuePair>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.UserSet.Retry</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>dfd0c20a-58bd-4a1f-b242-7658e642dcd1</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableBoolean">
                        <FormattedCode>{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Workflow.PowerON VM.Name</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>DisplayName</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectId>8a0c3c6c-39f0-42c5-af56-914d5807282f</ObjectId>
                            <ObjectType>WorkflowNode</ObjectType>
                          </VariableReference>
                        </References>
                      </NewValue>
                    </PropertyReferenceValuePair>
                  </Assignments>
                </Configuration>
              </ActivityNode>
              <ActivityNode xsi:type="CompletedNode">
                <Id>eb52c3a0-5323-49af-bd5b-d285263734ef</Id>
                <Notes>Fail the entire process</Notes>
                <CompletedType>FailedNotCompleted</CompletedType>
                <ResultMessage>
                  <FormattedCode>Failed to power on VM '{0}'.
{1}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Process.Target.Properties.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ResolvedTarget</PropertyName>
                        </Link>
                        <Link xsi:type="ObjectReferenceLink">
                          <ObjectLink>
                            <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                            <ObjectType>PropertyExtension</ObjectType>
                          </ObjectLink>
                        </Link>
                      </LinkChain>
                      <ObjectType>ProcessInstance</ObjectType>
                    </VariableReference>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Workflow.Power On VM.Error Information</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ErrorInformation</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>a54429b4-7f92-43ec-8284-ef1771094ef0</ObjectId>
                      <ObjectType>ActivityInstance</ObjectType>
                    </VariableReference>
                  </References>
                </ResultMessage>
              </ActivityNode>
            </Children>
            <Condition>
              <Id>cf451d8c-67b5-4387-bbbb-bd6c21f861c4</Id>
              <Conditions>
                <ConditionDefinition xsi:type="VariableConditionDefinition">
                  <Id>b462ffe2-b18d-43d5-83ba-ccdc9adce21f</Id>
                  <Expression xsi:type="SubstitutableBoolean">
                    <HardcodedValue>true</HardcodedValue>
                  </Expression>
                  <Comparison>Equals</Comparison>
                  <VariableReference xsi:type="PropertyReference">
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>InstanceFailed</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>a54429b4-7f92-43ec-8284-ef1771094ef0</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </ConditionDefinition>
              </Conditions>
            </Condition>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="VMPowerOnActivityConfiguration" xml:space="preserve">
          <Id>a54429b4-7f92-43ec-8284-ef1771094ef0</Id>
          <DisplayName>Power On VM</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
            <SingleTargetReference>
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.VCenter</DisplayPath>
                  <LinkChain>
                    <Link xsi:type="PropertyNameLink">
                      <PropertyName>ResolvedTarget</PropertyName>
                    </Link>
                    <Link xsi:type="ObjectReferenceLink">
                      <ObjectLink>
                        <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                        <ObjectType>PropertyExtension</ObjectType>
                      </ObjectLink>
                    </Link>
                  </LinkChain>
                  <ObjectType>ProcessInstance</ObjectType>
                </VariableReference>
              </References>
            </SingleTargetReference>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
          <VTask xsi:type="VTaskAttrPower">
            <MainText>Power On</MainText>
            <Skip>true</Skip>
          </VTask>
          <TimeOutPeriod>
            <DisplayUnits>Minutes</DisplayUnits>
            <Period>
              <FormattedCode>{0}</FormattedCode>
              <References>
                <VariableReference xsi:type="PropertyReference">
                  <DisplayPath>Global Variables.Cloud Server Provisioning Timeout (Minutes) - VM Power On</DisplayPath>
                  <LinkChain />
                  <ObjectId>9933f0e9-2899-4729-ab73-e40ffdbf4afc</ObjectId>
                  <ObjectType>GlobalVariable</ObjectType>
                </VariableReference>
              </References>
            </Period>
          </TimeOutPeriod>
          <VName>
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>ResolvedTarget</PropertyName>
                  </Link>
                  <Link xsi:type="ObjectReferenceLink">
                    <ObjectLink>
                      <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                      <ObjectType>PropertyExtension</ObjectType>
                    </ObjectLink>
                  </Link>
                </LinkChain>
                <ObjectType>ProcessInstance</ObjectType>
              </VariableReference>
            </References>
          </VName>
          <Host>
            <HardcodedValue />
          </Host>
          <Tools>true</Tools>
          <GuestOS>false</GuestOS>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>0e614382-524a-4dc3-8cf0-30d2be7b6b2b</Id>
        <DisplayName>Set Max Loops (Minutes)</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>48742730-731f-42fb-832f-6d0cae00c237</Id>
            <ActivityNodeId>0e614382-524a-4dc3-8cf0-30d2be7b6b2b</ActivityNodeId>
            <CompletedId>39c17e30-e9f5-4e7c-888b-be239844cf0b</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
          <Id>0e614382-524a-4dc3-8cf0-30d2be7b6b2b</Id>
          <DisplayName>Set Max Loops (Minutes)</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
          <Assignments>
            <PropertyReferenceValuePair>
              <VariableToSet>
                <DisplayPath>Process.Variables.Local.Max loops</DisplayPath>
                <LinkChain />
                <ObjectId>70e6075a-e467-4615-a7e9-2f36bbfafbcb</ObjectId>
                <ObjectType>GlobalVariable</ObjectType>
              </VariableToSet>
              <NewValue xsi:type="SubstitutableNumber">
                <HardcodedValue>10</HardcodedValue>
              </NewValue>
            </PropertyReferenceValuePair>
          </Assignments>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="WhileNode">
        <Id>a7772af2-80cb-4bff-8158-7ac9c509f534</Id>
        <DisplayName>While VM Powered Off</DisplayName>
        <Children>
          <ActivityNode xsi:type="ExecuteActivityNode">
            <Id>0cfcfd0d-6cbf-489c-ae18-44f807fc5618</Id>
            <DisplayName>Query VM</DisplayName>
            <Children>
              <ActivityNode xsi:type="ConditionBranchNode">
                <Id>961fa600-fff2-4ab2-a698-dc99c62562a8</Id>
                <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
                <DisplayName>If Execution Fails</DisplayName>
                <Children>
                  <ActivityNode xsi:type="ExecuteActivityNode">
                    <Id>c5e0635c-4965-40ca-9946-3b1551ef0d73</Id>
                    <DisplayName>Unable to Query VM (9014)</DisplayName>
                    <Children>
                      <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                        <Id>59442934-f417-4a6a-ac47-6c336b2e6a82</Id>
                        <ActivityNodeId>c5e0635c-4965-40ca-9946-3b1551ef0d73</ActivityNodeId>
                        <CompletedId>340f2f77-d6e0-471f-92d1-e9f5a19bddd0</CompletedId>
                      </ActivityNode>
                    </Children>
                    <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                      <Id>c5e0635c-4965-40ca-9946-3b1551ef0d73</Id>
                      <DisplayName>Unable to Query VM (9014)</DisplayName>
                      <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                        <SingleTargetId>
                          <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                        </SingleTargetId>
                      </TargetLoadBalancer>
                      <InheritTarget>false</InheritTarget>
                      <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                      <Assignments>
                        <PropertyReferenceValuePair>
                          <VariableToSet>
                            <DisplayPath>Process.Target.Cloud.Service.General.ErrorCode</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResolvedTarget</PropertyName>
                              </Link>
                              <Link xsi:type="ObjectReferenceLink">
                                <ObjectLink>
                                  <Id>7ad8347e-4936-4962-ab6d-3ec987d2737a</Id>
                                  <ObjectType>PropertyExtension</ObjectType>
                                </ObjectLink>
                              </Link>
                            </LinkChain>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableToSet>
                          <NewValue xsi:type="SubstitutableNumber">
                            <HardcodedValue>9014</HardcodedValue>
                          </NewValue>
                        </PropertyReferenceValuePair>
                        <PropertyReferenceValuePair>
                          <VariableToSet>
                            <DisplayPath>Process.Target.Cloud.Service.General.ErrorDescription</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResolvedTarget</PropertyName>
                              </Link>
                              <Link xsi:type="ObjectReferenceLink">
                                <ObjectLink>
                                  <Id>05385a56-169a-4946-9e3e-8de36ceaa838</Id>
                                  <ObjectType>PropertyExtension</ObjectType>
                                </ObjectLink>
                              </Link>
                            </LinkChain>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableToSet>
                          <NewValue xsi:type="SubstitutableString">
                            <FormattedCode>Failed to query VM:
{0}</FormattedCode>
                            <References>
                              <VariableReference xsi:type="PropertyReference">
                                <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>ResolvedTarget</PropertyName>
                                  </Link>
                                  <Link xsi:type="ObjectReferenceLink">
                                    <ObjectLink>
                                      <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                                      <ObjectType>PropertyExtension</ObjectType>
                                    </ObjectLink>
                                  </Link>
                                </LinkChain>
                                <ObjectType>ProcessInstance</ObjectType>
                              </VariableReference>
                            </References>
                          </NewValue>
                        </PropertyReferenceValuePair>
                        <PropertyReferenceValuePair>
                          <VariableToSet>
                            <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.UserSet.Retry</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>ResolvedTarget</PropertyName>
                              </Link>
                              <Link xsi:type="ObjectReferenceLink">
                                <ObjectLink>
                                  <Id>dfd0c20a-58bd-4a1f-b242-7658e642dcd1</Id>
                                  <ObjectType>PropertyExtension</ObjectType>
                                </ObjectLink>
                              </Link>
                            </LinkChain>
                            <ObjectType>ProcessInstance</ObjectType>
                          </VariableToSet>
                          <NewValue xsi:type="SubstitutableBoolean">
                            <FormattedCode>{0}</FormattedCode>
                            <References>
                              <VariableReference xsi:type="PropertyReference">
                                <DisplayPath>Workflow.PowerON VM.Name</DisplayPath>
                                <LinkChain>
                                  <Link xsi:type="PropertyNameLink">
                                    <PropertyName>DisplayName</PropertyName>
                                  </Link>
                                </LinkChain>
                                <ObjectId>8a0c3c6c-39f0-42c5-af56-914d5807282f</ObjectId>
                                <ObjectType>WorkflowNode</ObjectType>
                              </VariableReference>
                            </References>
                          </NewValue>
                        </PropertyReferenceValuePair>
                      </Assignments>
                    </Configuration>
                  </ActivityNode>
                  <ActivityNode xsi:type="CompletedNode">
                    <Id>9593dcaa-e024-45ef-b10e-64fb269a3a05</Id>
                    <Notes>Fail the entire process</Notes>
                    <CompletedType>FailedNotCompleted</CompletedType>
                    <ResultMessage>
                      <FormattedCode>{0}</FormattedCode>
                      <References>
                        <VariableReference xsi:type="PropertyReference">
                          <LinkChain>
                            <Link xsi:type="PropertyNameLink">
                              <PropertyName>ErrorInformation</PropertyName>
                            </Link>
                          </LinkChain>
                          <ObjectId>0cfcfd0d-6cbf-489c-ae18-44f807fc5618</ObjectId>
                          <ObjectType>ActivityInstance</ObjectType>
                        </VariableReference>
                      </References>
                    </ResultMessage>
                  </ActivityNode>
                </Children>
                <Condition>
                  <Id>6c86c75e-ecaa-4703-a348-2b97a9b51db9</Id>
                  <Conditions>
                    <ConditionDefinition xsi:type="VariableConditionDefinition">
                      <Id>5ce9240d-8bf6-4b82-8fb3-01394dc66536</Id>
                      <Expression xsi:type="SubstitutableBoolean">
                        <HardcodedValue>true</HardcodedValue>
                      </Expression>
                      <Comparison>Equals</Comparison>
                      <VariableReference xsi:type="PropertyReference">
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>InstanceFailed</PropertyName>
                          </Link>
                        </LinkChain>
                        <ObjectId>0cfcfd0d-6cbf-489c-ae18-44f807fc5618</ObjectId>
                        <ObjectType>ActivityInstance</ObjectType>
                      </VariableReference>
                    </ConditionDefinition>
                  </Conditions>
                </Condition>
              </ActivityNode>
            </Children>
            <Configuration xsi:type="VMwareQueryVMsActivityConfiguration" xml:space="preserve">
              <Id>0cfcfd0d-6cbf-489c-ae18-44f807fc5618</Id>
              <DisplayName>Query VM</DisplayName>
              <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
                <SingleTargetReference>
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.LocationID</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ResolvedTarget</PropertyName>
                        </Link>
                        <Link xsi:type="ObjectReferenceLink">
                          <ObjectLink>
                            <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                            <ObjectType>PropertyExtension</ObjectType>
                          </ObjectLink>
                        </Link>
                      </LinkChain>
                      <ObjectType>ProcessInstance</ObjectType>
                    </VariableReference>
                  </References>
                </SingleTargetReference>
              </TargetLoadBalancer>
              <InheritTarget>false</InheritTarget>
              <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
              <VTask>
                <MainText>Query VMs</MainText>
              </VTask>
              <TimeOutPeriod>
                <DisplayUnits>Minutes</DisplayUnits>
                <Period>
                  <HardcodedValue>5</HardcodedValue>
                </Period>
              </TimeOutPeriod>
              <HostName>
                <HardcodedValue>*</HardcodedValue>
              </HostName>
              <VirtualMachineName>
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Process.Target.Cloud.Service.Server.Virtual.VMFullPath</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResolvedTarget</PropertyName>
                      </Link>
                      <Link xsi:type="ObjectReferenceLink">
                        <ObjectLink>
                          <Id>cb26a435-24cd-4317-8bc9-cd08d024560b</Id>
                          <ObjectType>PropertyExtension</ObjectType>
                        </ObjectLink>
                      </Link>
                    </LinkChain>
                    <ObjectType>ProcessInstance</ObjectType>
                  </VariableReference>
                </References>
              </VirtualMachineName>
              <DatacenterName>
                <HardcodedValue>*</HardcodedValue>
              </DatacenterName>
              <VMFilter>VirtualMachines</VMFilter>
            </Configuration>
          </ActivityNode>
          <ActivityNode xsi:type="ExecuteActivityNode">
            <Id>e91dda69-b6e7-473f-bae0-61566270d274</Id>
            <DisplayName>Set Current Powerstate</DisplayName>
            <Children>
              <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                <Id>8286cc8b-6ce3-44a0-a6e3-fe3f8ee21c80</Id>
                <ActivityNodeId>e91dda69-b6e7-473f-bae0-61566270d274</ActivityNodeId>
                <CompletedId>571a11f5-3474-443d-b232-9d14eaea7cdc</CompletedId>
              </ActivityNode>
            </Children>
            <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
              <Id>e91dda69-b6e7-473f-bae0-61566270d274</Id>
              <DisplayName>Set Current Powerstate</DisplayName>
              <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                <SingleTargetId>
                  <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                </SingleTargetId>
              </TargetLoadBalancer>
              <InheritTarget>false</InheritTarget>
              <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
              <Assignments>
                <PropertyReferenceValuePair>
                  <VariableToSet>
                    <DisplayPath>Process.Variables.Local.Current Power State</DisplayPath>
                    <LinkChain />
                    <ObjectId>389b3713-ead4-4b6f-b3b2-a22c5372a310</ObjectId>
                    <ObjectType>GlobalVariable</ObjectType>
                  </VariableToSet>
                  <NewValue xsi:type="SubstitutableString">
                    <FormattedCode>{0}</FormattedCode>
                    <References>
                      <VariableReference xsi:type="PropertyReference">
                        <DisplayPath>Workflow.Query VM.Virtual Machines.First Row.State</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>VirtualMachines</PropertyName>
                          </Link>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>FirstRow</PropertyName>
                          </Link>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>State</PropertyName>
                          </Link>
                        </LinkChain>
                        <ObjectId>0cfcfd0d-6cbf-489c-ae18-44f807fc5618</ObjectId>
                        <ObjectType>ActivityInstance</ObjectType>
                      </VariableReference>
                    </References>
                  </NewValue>
                </PropertyReferenceValuePair>
                <PropertyReferenceValuePair>
                  <VariableToSet>
                    <DisplayPath>Process.Variables.Local.loop count</DisplayPath>
                    <LinkChain />
                    <ObjectId>0d243bd5-87d6-442e-bbfe-47ed792a0f16</ObjectId>
                    <ObjectType>GlobalVariable</ObjectType>
                  </VariableToSet>
                  <NewValue xsi:type="SubstitutableNumber">
                    <FormattedCode>{0} + 1</FormattedCode>
                    <References>
                      <VariableReference xsi:type="PropertyReference">
                        <DisplayPath>Process.Variables.Local.loop count</DisplayPath>
                        <LinkChain />
                        <ObjectId>0d243bd5-87d6-442e-bbfe-47ed792a0f16</ObjectId>
                        <ObjectType>GlobalVariable</ObjectType>
                      </VariableReference>
                    </References>
                  </NewValue>
                </PropertyReferenceValuePair>
              </Assignments>
            </Configuration>
          </ActivityNode>
          <ActivityNode xsi:type="ExecuteActivityNode">
            <Id>ea6bda41-54a6-46e4-8333-af61a6c4fc6c</Id>
            <DisplayName>Sleep</DisplayName>
            <Children>
              <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                <Id>4c2eb497-0fe2-4634-9b6a-a7f445fd0611</Id>
                <ActivityNodeId>ea6bda41-54a6-46e4-8333-af61a6c4fc6c</ActivityNodeId>
                <CompletedId>22286189-9371-453e-a95e-a20ad18d0781</CompletedId>
              </ActivityNode>
            </Children>
            <Configuration xsi:type="SleepActivityConfiguration" xml:space="preserve">
              <Id>ea6bda41-54a6-46e4-8333-af61a6c4fc6c</Id>
              <DisplayName>Sleep</DisplayName>
              <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                <SingleTargetId>
                  <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                </SingleTargetId>
              </TargetLoadBalancer>
              <InheritTarget>false</InheritTarget>
              <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
              <Seconds>
                <HardcodedValue>30</HardcodedValue>
              </Seconds>
            </Configuration>
          </ActivityNode>
        </Children>
        <Condition>
          <Id>70a2a0d9-31a8-4658-8329-471ded1bb96c</Id>
          <Conditions>
            <ConditionDefinition xsi:type="VariableConditionDefinition">
              <Id>347b0421-4569-4040-bfe4-21f4792418e7</Id>
              <Expression xsi:type="SubstitutableString">
                <HardcodedValue>poweredOn</HardcodedValue>
              </Expression>
              <Comparison>NotEquals</Comparison>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Process.Variables.Local.Current Power State</DisplayPath>
                <LinkChain />
                <ObjectId>389b3713-ead4-4b6f-b3b2-a22c5372a310</ObjectId>
                <ObjectType>GlobalVariable</ObjectType>
              </VariableReference>
            </ConditionDefinition>
            <ConditionDefinition xsi:type="VariableConditionDefinition">
              <Id>11fc27a0-3d7c-4968-a970-7a05be85263d</Id>
              <Expression xsi:type="SubstitutableNumber">
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Process.Variables.Local.Max loops</DisplayPath>
                    <LinkChain />
                    <ObjectId>70e6075a-e467-4615-a7e9-2f36bbfafbcb</ObjectId>
                    <ObjectType>GlobalVariable</ObjectType>
                  </VariableReference>
                </References>
              </Expression>
              <Comparison>LessThanOrEquals</Comparison>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Process.Variables.Local.loop count</DisplayPath>
                <LinkChain />
                <ObjectId>0d243bd5-87d6-442e-bbfe-47ed792a0f16</ObjectId>
                <ObjectType>GlobalVariable</ObjectType>
              </VariableReference>
            </ConditionDefinition>
          </Conditions>
        </Condition>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>9ebd1075-5d6f-4c39-a9fd-9996b7edb5cf</Id>
        <DisplayName>Reset Loop Counter</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>ad243a11-dd80-4fc2-be87-de324437bd06</Id>
            <ActivityNodeId>9ebd1075-5d6f-4c39-a9fd-9996b7edb5cf</ActivityNodeId>
            <CompletedId>8c052ae0-3fb8-454d-93e4-6b556fdcc8f2</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="SetVariableActivityConfiguration" xml:space="preserve">
          <Id>9ebd1075-5d6f-4c39-a9fd-9996b7edb5cf</Id>
          <DisplayName>Reset Loop Counter</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
          <VariableToSet>
            <DisplayPath>Process.Variables.Local.loop count</DisplayPath>
            <LinkChain />
            <ObjectId>0d243bd5-87d6-442e-bbfe-47ed792a0f16</ObjectId>
            <ObjectType>GlobalVariable</ObjectType>
          </VariableToSet>
          <NewValue xsi:type="SubstitutableNumber">
            <HardcodedValue>0</HardcodedValue>
          </NewValue>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>5ca68217-9876-48cb-ab5b-91f1022289b1</Id>
        <DisplayName>Wait for System to Boot</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>6d47a668-5127-4e40-a517-91d33c6f2390</Id>
            <ActivityNodeId>5ca68217-9876-48cb-ab5b-91f1022289b1</ActivityNodeId>
            <CompletedId>bd0b73e0-4de7-4026-aa17-329f90788bc6</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="SleepActivityConfiguration" xml:space="preserve">
          <Id>5ca68217-9876-48cb-ab5b-91f1022289b1</Id>
          <DisplayName>Wait for System to Boot</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
          <Seconds>
            <FormattedCode>{0} * 60</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Global Variables.Cloud Server Provisioning Timeout (Minutes) - VM Boot Time</DisplayPath>
                <LinkChain />
                <ObjectId>83fa080f-bbd7-4dba-ae74-f1ece4f9180b</ObjectId>
                <ObjectType>GlobalVariable</ObjectType>
              </VariableReference>
            </References>
          </Seconds>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="StartProcessNode">
        <Id>84393828-6844-456d-8fda-f6f7d4b9cd89</Id>
        <DisplayName>Discover VMs</DisplayName>
        <Children>
          <ActivityNode xsi:type="ConditionBranchNode">
            <Id>1d080701-26d8-4fb8-bf4b-d3667e640b29</Id>
            <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
            <DisplayName>If Execution Fails</DisplayName>
            <Children>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>cc5b7c4f-6bf8-46d4-96ad-bb2d3fac6850</Id>
                <DisplayName>Set Remediation Settings (2)</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>a7a110c4-ffef-4d6d-9733-ceb87cfd0058</Id>
                    <ActivityNodeId>cc5b7c4f-6bf8-46d4-96ad-bb2d3fac6850</ActivityNodeId>
                    <CompletedId>ca135865-b6ce-4ea1-ba6a-5e64fec3d3ed</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                  <Id>cc5b7c4f-6bf8-46d4-96ad-bb2d3fac6850</Id>
                  <DisplayName>Set Remediation Settings (2)</DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                  <Assignments>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.UserSet.Retry</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>dfd0c20a-58bd-4a1f-b242-7658e642dcd1</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableBoolean">
                        <FormattedCode>{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Workflow.PowerON VM.Name</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>DisplayName</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectId>8a0c3c6c-39f0-42c5-af56-914d5807282f</ObjectId>
                            <ObjectType>WorkflowNode</ObjectType>
                          </VariableReference>
                        </References>
                      </NewValue>
                    </PropertyReferenceValuePair>
                  </Assignments>
                </Configuration>
              </ActivityNode>
              <ActivityNode xsi:type="CompletedNode">
                <Id>a9b8f100-d041-4a74-8154-36aee0836075</Id>
                <Notes>Fail the entire process</Notes>
                <CompletedType>FailedNotCompleted</CompletedType>
                <ResultMessage>
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ErrorInformation</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>84393828-6844-456d-8fda-f6f7d4b9cd89</ObjectId>
                      <ObjectType>ProcessInstance</ObjectType>
                    </VariableReference>
                  </References>
                </ResultMessage>
              </ActivityNode>
            </Children>
            <Condition>
              <Id>29a70fc0-7871-4155-a9f8-6b3150018292</Id>
              <Conditions>
                <ConditionDefinition xsi:type="VariableConditionDefinition">
                  <Id>f1f8190d-c27d-4a15-9a81-ec7451c8d548</Id>
                  <Expression xsi:type="SubstitutableBoolean">
                    <HardcodedValue>true</HardcodedValue>
                  </Expression>
                  <Comparison>Equals</Comparison>
                  <VariableReference xsi:type="PropertyReference">
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>InstanceFailed</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>84393828-6844-456d-8fda-f6f7d4b9cd89</ObjectId>
                    <ObjectType>ProcessInstance</ObjectType>
                  </VariableReference>
                </ConditionDefinition>
              </Conditions>
            </Condition>
          </ActivityNode>
        </Children>
        <ProcessId>a4dd5702-7469-4450-9dc5-2ea5a69a9108</ProcessId>
        <InputVariableTable>
          <VariableAssignmentsAsArray>
            <InputVariableAssignment>
              <InputVariableId>063274a1-0f04-429b-858e-c06dddd757cf</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <HardcodedValue>Moref</HardcodedValue>
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>bdc477ea-50e2-40a8-be65-81090f0c6164</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <HardcodedValue>exclude</HardcodedValue>
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>99d56a28-6b74-41ab-8ae4-160a1efdd2f8</InputVariableId>
              <VariableValue xsi:type="SubstitutableBoolean">
                <HardcodedValue>false</HardcodedValue>
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>1729fee0-71a8-479f-a517-99f50d026827</InputVariableId>
              <VariableValue xsi:type="SubstitutableNumber">
                <HardcodedValue>2</HardcodedValue>
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>169bf081-10c1-4597-872a-a62350706038</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.Query VMs.Virtual Machines.First Row.Managed Object Reference</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>VirtualMachines</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>FirstRow</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>Managed Object Reference</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>77c14709-8673-49e8-8b0c-1e32eba6704f</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>3f0a61ba-c353-489d-aaa6-7948a7ac98d2</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Global Variables.Cloud Service Item Update Channel ID</DisplayPath>
                    <LinkChain />
                    <ObjectId>c070b5b6-0120-48f1-8b36-2319f9348a4a</ObjectId>
                    <ObjectType>GlobalVariable</ObjectType>
                  </VariableReference>
                </References>
              </VariableValue>
            </InputVariableAssignment>
          </VariableAssignmentsAsArray>
        </InputVariableTable>
        <Asynchronous>false</Asynchronous>
        <InheritTarget>false</InheritTarget>
        <TargetLoadBalancer xsi:type="SingleTargetReferenceLoadBalancer">
          <SingleTargetReference>
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Process.Target.Cloud.Service.General.PlatformElement.LocationID</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>ResolvedTarget</PropertyName>
                  </Link>
                  <Link xsi:type="ObjectReferenceLink">
                    <ObjectLink>
                      <Id>42b6a134-067e-46f0-9f0c-cb0904901eba</Id>
                      <ObjectType>PropertyExtension</ObjectType>
                    </ObjectLink>
                  </Link>
                </LinkChain>
                <ObjectType>ProcessInstance</ObjectType>
              </VariableReference>
            </References>
          </SingleTargetReference>
        </TargetLoadBalancer>
        <InheritPriorityClass>true</InheritPriorityClass>
        <RuntimeUserId>
          <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
        </RuntimeUserId>
        <KnowledgeBaseId>00000000-0000-0000-0000-000000000000</KnowledgeBaseId>
        <StartPointId>
          <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
        </StartPointId>
        <StartPointName>
          <FormattedCode />
        </StartPointName>
      </ActivityNode>
      <ActivityNode xsi:type="StartProcessNode">
        <Id>0f838681-75a0-4e03-9bde-d3629c528e96</Id>
        <DisplayName>Update Requisition Status</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>87f40311-1b48-4433-b41a-3173a8d81d19</Id>
            <ProcessNodeId>0f838681-75a0-4e03-9bde-d3629c528e96</ProcessNodeId>
            <CompletedId>f6fbb2c0-3e06-4516-9b61-6efbafbb5401</CompletedId>
          </ActivityNode>
        </Children>
        <ProcessId>27ac8b0e-2d5c-4a7d-b4c6-4947d040f51d</ProcessId>
        <InputVariableTable>
          <VariableAssignmentsAsArray>
            <InputVariableAssignment>
              <InputVariableId>7b33d2b5-8e24-4926-a8c7-a55dfe1d3c85</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <HardcodedValue />
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>854f35e5-cf46-4494-bf03-a123600a05e5</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <HardcodedValue />
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>fa0e45ca-7db8-4548-9c58-66bd3b0e8675</InputVariableId>
              <VariableValue xsi:type="SubstitutableNumber">
                <HardcodedValue>40</HardcodedValue>
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>b51d99b4-9b9f-4df0-8d9b-7d9eef60095c</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <HardcodedValue>Discover VMs</HardcodedValue>
              </VariableValue>
            </InputVariableAssignment>
          </VariableAssignmentsAsArray>
        </InputVariableTable>
        <Asynchronous>false</Asynchronous>
        <InheritTarget>true</InheritTarget>
        <TargetLoadBalancer xsi:type="ProcessTargetLoadBalancer" />
        <InheritPriorityClass>true</InheritPriorityClass>
        <RuntimeUserId>
          <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
        </RuntimeUserId>
        <KnowledgeBaseId>00000000-0000-0000-0000-000000000000</KnowledgeBaseId>
        <StartPointId>
          <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
        </StartPointId>
        <StartPointName>
          <FormattedCode />
        </StartPointName>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>bd4a9520-1f7d-4eee-a410-207833935984</Id>
        <DisplayName>Format MoREF</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>d9b23ab8-0e99-42a0-8a9a-d689d8bd66e7</Id>
            <ActivityNodeId>bd4a9520-1f7d-4eee-a410-207833935984</ActivityNodeId>
            <CompletedId>5ef4f095-9e9d-4e20-9ded-99d4d613b161</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="ReplaceStringActivityConfiguration" xml:space="preserve">
          <Id>bd4a9520-1f7d-4eee-a410-207833935984</Id>
          <DisplayName>Format MoREF</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
          <InputString>
            <FormattedCode>{0}</FormattedCode>
            <References>
              <VariableReference xsi:type="PropertyReference">
                <DisplayPath>Workflow.Query VMs.Virtual Machines.First Row.Managed Object Reference</DisplayPath>
                <LinkChain>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>VirtualMachines</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>FirstRow</PropertyName>
                  </Link>
                  <Link xsi:type="PropertyNameLink">
                    <PropertyName>Managed Object Reference</PropertyName>
                  </Link>
                </LinkChain>
                <ObjectId>77c14709-8673-49e8-8b0c-1e32eba6704f</ObjectId>
                <ObjectType>ActivityInstance</ObjectType>
              </VariableReference>
            </References>
          </InputString>
          <ReplaceList>
            <SubstitutableRepaceItem>
              <ReplacedString>
                <HardcodedValue>VirtualMachine-</HardcodedValue>
              </ReplacedString>
              <ReplacementString>
                <HardcodedValue />
              </ReplacementString>
            </SubstitutableRepaceItem>
          </ReplaceList>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>876a1c3a-6c85-4461-9309-da91bd708723</Id>
        <DisplayName>Set Output Variables</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>17c2944e-8e41-43c5-8494-e053a95513a9</Id>
            <ActivityNodeId>876a1c3a-6c85-4461-9309-da91bd708723</ActivityNodeId>
            <CompletedId>d10140e5-ec49-4d31-9e20-b0050de85528</CompletedId>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
          <Id>876a1c3a-6c85-4461-9309-da91bd708723</Id>
          <DisplayName>Set Output Variables</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
          <Assignments>
            <PropertyReferenceValuePair>
              <VariableToSet>
                <DisplayPath>Process.Variables.Output.VSG IP Address</DisplayPath>
                <LinkChain />
                <ObjectId>8e9acc38-f664-45a3-91f7-8bf03da588af</ObjectId>
                <ObjectType>GlobalVariable</ObjectType>
              </VariableToSet>
              <NewValue xsi:type="SubstitutableString">
                <FormattedCode>{0}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Process.Target.Cloud.Service.Server.Networks.First Row.IP Address</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResolvedTarget</PropertyName>
                      </Link>
                      <Link xsi:type="ObjectReferenceLink">
                        <ObjectLink>
                          <Id>c8314a62-d2a8-4e09-8632-55e0c77d7f20</Id>
                          <ObjectType>PropertyExtension</ObjectType>
                        </ObjectLink>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>FirstRow</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>IP Address</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectType>ProcessInstance</ObjectType>
                  </VariableReference>
                </References>
              </NewValue>
            </PropertyReferenceValuePair>
            <PropertyReferenceValuePair>
              <VariableToSet>
                <DisplayPath>Process.Variables.Output.Unique ID</DisplayPath>
                <LinkChain />
                <ObjectId>3d5766b7-0217-4a9f-b0e0-da719292a04b</ObjectId>
                <ObjectType>GlobalVariable</ObjectType>
              </VariableToSet>
              <NewValue xsi:type="SubstitutableString">
                <FormattedCode>{0}:{1}</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.Read vCenter and Resource Pool.Result Table.First Row.PlatformElementID</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResultTable</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>FirstRow</PropertyName>
                      </Link>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>PlatformElementID</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>67de8ca3-9176-49ee-b9e3-3f0d7e902064</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Workflow.Format MoREF.Replaced Result</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>Result</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>bd4a9520-1f7d-4eee-a410-207833935984</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </References>
              </NewValue>
            </PropertyReferenceValuePair>
          </Assignments>
        </Configuration>
      </ActivityNode>
      <ActivityNode xsi:type="StartProcessNode">
        <Id>250f983b-0012-477c-a9bd-e4f6cc1b256c</Id>
        <DisplayName>Provision VSG &gt;&gt; Post Provision</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>4617d30a-1d5a-4a05-bc45-a039ca9e37bb</Id>
            <ProcessNodeId>250f983b-0012-477c-a9bd-e4f6cc1b256c</ProcessNodeId>
            <CompletedId>8efcb879-78b8-485f-a082-59499094c006</CompletedId>
          </ActivityNode>
        </Children>
        <ProcessId>6acd6fb9-058b-4d12-8dc0-cc13acc5d789</ProcessId>
        <InputVariableTable>
          <VariableAssignmentsAsArray />
        </InputVariableTable>
        <Asynchronous>false</Asynchronous>
        <InheritTarget>true</InheritTarget>
        <TargetLoadBalancer xsi:type="ProcessTargetLoadBalancer" />
        <InheritPriorityClass>true</InheritPriorityClass>
        <RuntimeUserId>
          <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
        </RuntimeUserId>
        <KnowledgeBaseId>00000000-0000-0000-0000-000000000000</KnowledgeBaseId>
        <StartPointId>
          <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
        </StartPointId>
        <StartPointName>
          <FormattedCode />
        </StartPointName>
      </ActivityNode>
      <ActivityNode xsi:type="StartProcessNode">
        <Id>6f159d31-a252-4863-bf6c-2e51a700cf59</Id>
        <DisplayName>Update Requisition Status</DisplayName>
        <Children>
          <ActivityNode xsi:type="FailedBranchPlaceholderNode">
            <Id>1d18d769-44e1-49f1-aae1-74a534511a39</Id>
            <ProcessNodeId>6f159d31-a252-4863-bf6c-2e51a700cf59</ProcessNodeId>
            <CompletedId>8345d302-86bb-4b35-934e-b9c551d4b8e5</CompletedId>
          </ActivityNode>
        </Children>
        <ProcessId>27ac8b0e-2d5c-4a7d-b4c6-4947d040f51d</ProcessId>
        <InputVariableTable>
          <VariableAssignmentsAsArray>
            <InputVariableAssignment>
              <InputVariableId>7b33d2b5-8e24-4926-a8c7-a55dfe1d3c85</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <HardcodedValue />
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>854f35e5-cf46-4494-bf03-a123600a05e5</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <HardcodedValue />
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>fa0e45ca-7db8-4548-9c58-66bd3b0e8675</InputVariableId>
              <VariableValue xsi:type="SubstitutableNumber">
                <HardcodedValue>100</HardcodedValue>
              </VariableValue>
            </InputVariableAssignment>
            <InputVariableAssignment>
              <InputVariableId>b51d99b4-9b9f-4df0-8d9b-7d9eef60095c</InputVariableId>
              <VariableValue xsi:type="SubstitutableString">
                <FormattedCode>{0} Completed</FormattedCode>
                <References>
                  <VariableReference xsi:type="PropertyReference">
                    <DisplayPath>Process.Target.Cloud.Service.General.ServiceRequestXML.Action</DisplayPath>
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>ResolvedTarget</PropertyName>
                      </Link>
                      <Link xsi:type="ObjectReferenceLink">
                        <ObjectLink>
                          <Id>2132b89a-bfc4-4d72-90a3-211077c5715c</Id>
                          <ObjectType>PropertyExtension</ObjectType>
                        </ObjectLink>
                      </Link>
                    </LinkChain>
                    <ObjectType>ProcessInstance</ObjectType>
                  </VariableReference>
                </References>
              </VariableValue>
            </InputVariableAssignment>
          </VariableAssignmentsAsArray>
        </InputVariableTable>
        <Asynchronous>false</Asynchronous>
        <InheritTarget>true</InheritTarget>
        <TargetLoadBalancer xsi:type="ProcessTargetLoadBalancer" />
        <InheritPriorityClass>true</InheritPriorityClass>
        <RuntimeUserId>
          <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
        </RuntimeUserId>
        <KnowledgeBaseId>00000000-0000-0000-0000-000000000000</KnowledgeBaseId>
        <StartPointId>
          <HardcodedValue>00000000-0000-0000-0000-000000000000</HardcodedValue>
        </StartPointId>
        <StartPointName>
          <FormattedCode />
        </StartPointName>
      </ActivityNode>
      <ActivityNode xsi:type="StartPointNode">
        <Id>c409cce0-30c0-4ccb-9a42-cbc7d1b8994b</Id>
        <DisplayName>Process Complete</DisplayName>
      </ActivityNode>
      <ActivityNode xsi:type="ExecuteActivityNode">
        <Id>e5e528bb-c83a-42b1-9a33-2d61c29b1264</Id>
        <DisplayName>Process Complete</DisplayName>
        <Children>
          <ActivityNode xsi:type="ConditionBranchNode">
            <Id>307edf1a-dac5-4ece-8a9e-e37a92204216</Id>
            <Notes>If this execution fails, execute the contained workflow nodes.</Notes>
            <DisplayName>If Execution Fails</DisplayName>
            <Children>
              <ActivityNode xsi:type="ExecuteActivityNode">
                <Id>4e596618-26d4-4f2a-a351-18e77580a065</Id>
                <DisplayName>Set Start Point for Retry</DisplayName>
                <Children>
                  <ActivityNode xsi:type="FailedBranchPlaceholderNode">
                    <Id>087d7006-b9cc-4cfd-8ece-f744cb4dcda2</Id>
                    <ActivityNodeId>4e596618-26d4-4f2a-a351-18e77580a065</ActivityNodeId>
                    <CompletedId>922b00c5-2009-4201-ac26-e35512386c87</CompletedId>
                  </ActivityNode>
                </Children>
                <Configuration xsi:type="SetMultipleVariableActivityConfiguration" xml:space="preserve">
                  <Id>4e596618-26d4-4f2a-a351-18e77580a065</Id>
                  <DisplayName>Set Start Point for Retry</DisplayName>
                  <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
                    <SingleTargetId>
                      <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
                    </SingleTargetId>
                  </TargetLoadBalancer>
                  <InheritTarget>false</InheritTarget>
                  <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
                  <Assignments>
                    <PropertyReferenceValuePair>
                      <VariableToSet>
                        <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.UserSet.StartPoint.Retry</DisplayPath>
                        <LinkChain>
                          <Link xsi:type="PropertyNameLink">
                            <PropertyName>ResolvedTarget</PropertyName>
                          </Link>
                          <Link xsi:type="ObjectReferenceLink">
                            <ObjectLink>
                              <Id>08ae6527-2766-4769-ac49-4cd7fc45040c</Id>
                              <ObjectType>PropertyExtension</ObjectType>
                            </ObjectLink>
                          </Link>
                        </LinkChain>
                        <ObjectType>ProcessInstance</ObjectType>
                      </VariableToSet>
                      <NewValue xsi:type="SubstitutableString">
                        <FormattedCode>{0}</FormattedCode>
                        <References>
                          <VariableReference xsi:type="PropertyReference">
                            <DisplayPath>Workflow.Process Complete.Name</DisplayPath>
                            <LinkChain>
                              <Link xsi:type="PropertyNameLink">
                                <PropertyName>DisplayName</PropertyName>
                              </Link>
                            </LinkChain>
                            <ObjectId>c409cce0-30c0-4ccb-9a42-cbc7d1b8994b</ObjectId>
                            <ObjectType>WorkflowNode</ObjectType>
                          </VariableReference>
                        </References>
                      </NewValue>
                    </PropertyReferenceValuePair>
                  </Assignments>
                </Configuration>
              </ActivityNode>
              <ActivityNode xsi:type="CompletedNode">
                <Id>0379f430-d96e-4802-894a-558c9d3dc511</Id>
                <Notes>Fail the entire process</Notes>
                <CompletedType>FailedNotCompleted</CompletedType>
                <ResultMessage>
                  <FormattedCode>{0}</FormattedCode>
                  <References>
                    <VariableReference xsi:type="PropertyReference">
                      <DisplayPath>Workflow.Process Complete.Error Information</DisplayPath>
                      <LinkChain>
                        <Link xsi:type="PropertyNameLink">
                          <PropertyName>ErrorInformation</PropertyName>
                        </Link>
                      </LinkChain>
                      <ObjectId>e5e528bb-c83a-42b1-9a33-2d61c29b1264</ObjectId>
                      <ObjectType>ActivityInstance</ObjectType>
                    </VariableReference>
                  </References>
                </ResultMessage>
              </ActivityNode>
            </Children>
            <Condition>
              <Id>76fa897a-3ec6-4630-b30e-60a19e2f64c3</Id>
              <Conditions>
                <ConditionDefinition xsi:type="VariableConditionDefinition">
                  <Id>b49aaaf8-f291-4b56-bf7d-6b21af0ebbbd</Id>
                  <Expression xsi:type="SubstitutableBoolean">
                    <HardcodedValue>true</HardcodedValue>
                  </Expression>
                  <Comparison>Equals</Comparison>
                  <VariableReference xsi:type="PropertyReference">
                    <LinkChain>
                      <Link xsi:type="PropertyNameLink">
                        <PropertyName>InstanceFailed</PropertyName>
                      </Link>
                    </LinkChain>
                    <ObjectId>e5e528bb-c83a-42b1-9a33-2d61c29b1264</ObjectId>
                    <ObjectType>ActivityInstance</ObjectType>
                  </VariableReference>
                </ConditionDefinition>
              </Conditions>
            </Condition>
          </ActivityNode>
        </Children>
        <Configuration xsi:type="SetVariableActivityConfiguration" xml:space="preserve">
          <Id>e5e528bb-c83a-42b1-9a33-2d61c29b1264</Id>
          <DisplayName>Process Complete</DisplayName>
          <TargetLoadBalancer xsi:type="SingleTargetLoadBalancer">
            <SingleTargetId>
              <HardcodedValue>bd4b3145-4e20-42bb-ba8f-34c013ca86cc</HardcodedValue>
            </SingleTargetId>
          </TargetLoadBalancer>
          <InheritTarget>false</InheritTarget>
          <ContainingProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ContainingProcessId>
          <VariableToSet>
            <DisplayPath>Process.Target.Cloud.Service.General.ErrorRemediation.UserSet.Retry</DisplayPath>
            <LinkChain>
              <Link xsi:type="PropertyNameLink">
                <PropertyName>ResolvedTarget</PropertyName>
              </Link>
              <Link xsi:type="ObjectReferenceLink">
                <ObjectLink>
                  <Id>dfd0c20a-58bd-4a1f-b242-7658e642dcd1</Id>
                  <ObjectType>PropertyExtension</ObjectType>
                </ObjectLink>
              </Link>
            </LinkChain>
            <ObjectType>ProcessInstance</ObjectType>
          </VariableToSet>
          <NewValue xsi:type="SubstitutableBoolean">
            <HardcodedValue>false</HardcodedValue>
          </NewValue>
        </Configuration>
      </ActivityNode>
    </Children>
  </FirstActivity>
  <ProcessId>31a6e8c0-d115-4a3e-bbc8-47347c3663ef</ProcessId>
</WorkflowConfiguration>